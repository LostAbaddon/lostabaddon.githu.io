diff --git a/css/chunk-565e042e.css b/css/chunk-565e042e.css
new file mode 100644
index 0000000..87d8e4a
--- /dev/null
+++ b/css/chunk-565e042e.css
@@ -0,0 +1 @@
+.table[data-v-0c4c37b2]{display:block;min-width:640px}.table>div[data-v-0c4c37b2]{display:block;padding:2px 5px;border-bottom-style:solid;border-bottom-color:#3e3841}body[theme=dark] .table>div[data-v-0c4c37b2]{border-bottom-color:#fcfaf2}.table .header[data-v-0c4c37b2]{border-bottom-width:2px;font-size:18px;font-weight:bolder}.table .line[data-v-0c4c37b2]{border-bottom-width:1px;font-size:16px}.table>div>span[data-v-0c4c37b2]{display:inline-block;margin-right:10px}.table>div>span.name[data-v-0c4c37b2]{width:150px;text-align:right}.table>div>span.value[data-v-0c4c37b2]{width:180px}.table>div>span.unity[data-v-0c4c37b2]{width:120px}.table>div>span>input[data-v-0c4c37b2],.table>div>span>select[data-v-0c4c37b2]{box-sizing:border-box;display:inline-block;width:100%;padding:2px;background-color:transparent;border:none;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#3e3841;outline:none;resize:none;color:inherit}body[theme=dark] .table>div>span>input[data-v-0c4c37b2],body[theme=dark] .table>div>span>select[data-v-0c4c37b2]{border-bottom-color:#fcfaf2}.table>div>span>select[data-v-0c4c37b2]{background:transparent}.table>div>span>select>option[data-v-0c4c37b2]{background:#fcfaf2}body[theme=dark] .table>div>span>select>option[data-v-0c4c37b2]{background-color:#3e3841}
\ No newline at end of file
diff --git a/css/chunk-66c60e80.css b/css/chunk-66c60e80.css
deleted file mode 100644
index 58ee450..0000000
--- a/css/chunk-66c60e80.css
+++ /dev/null
@@ -1 +0,0 @@
-.table[data-v-22911782]{display:block;min-width:640px}.table>div[data-v-22911782]{display:block;padding:2px 5px;border-bottom-style:solid;border-bottom-color:#3e3841}body[theme=dark] .table>div[data-v-22911782]{border-bottom-color:#fcfaf2}.table .header[data-v-22911782]{border-bottom-width:2px;font-size:18px;font-weight:bolder}.table .line[data-v-22911782]{border-bottom-width:1px;font-size:16px}.table>div>span[data-v-22911782]{display:inline-block;margin-right:10px}.table>div>span.name[data-v-22911782]{width:150px;text-align:right}.table>div>span.value[data-v-22911782]{width:180px}.table>div>span.unity[data-v-22911782]{width:120px}.table>div>span>input[data-v-22911782],.table>div>span>select[data-v-22911782]{box-sizing:border-box;display:inline-block;width:100%;padding:2px;background-color:transparent;border:none;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#3e3841;outline:none;resize:none;color:inherit}body[theme=dark] .table>div>span>input[data-v-22911782],body[theme=dark] .table>div>span>select[data-v-22911782]{border-bottom-color:#fcfaf2}.table>div>span>select[data-v-22911782]{background:transparent}.table>div>span>select>option[data-v-22911782]{background:#fcfaf2}body[theme=dark] .table>div>span>select>option[data-v-22911782]{background-color:#3e3841}
\ No newline at end of file
diff --git a/index.html b/index.html
index d77f042..3b0f6c5 100644
--- a/index.html
+++ b/index.html
@@ -1,2 +1,2 @@
-<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta http-equiv="Cache-Control" content="no-cache"><meta name="description" content="有趣、严肃、中二、搞笑的文章、科普、游戏、收藏，这就是我的私人世界！"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="manifest" href="/webapp.json"><link rel="icon" href="/favicon.ico"><title>超科技现象统计局</title><script src="/js/patch.js"></script><script src="/js/lifecycle.js"></script><script src="/jLAss/index.js"></script><script src="/jLAss/namespace.js"></script><script src="/jLAss/extends/array.js"></script><script src="/jLAss/extends/class.js"></script><script src="/jLAss/extends/object.js"></script><script src="/jLAss/extends/function.js"></script><script src="/jLAss/extends/math.js"></script><script src="/jLAss/extends/string.js"></script><script src="/jLAss/extends/symbol.js"></script><script src="/jLAss/extends/timer.js"></script><script src="/jLAss/utils/datetime.js"></script><link type="text/css" rel="stylesheet" href="/fa/css/all.min.css"><script src="/MathJax2.5/MathJax.js?config=TeX-AMS_HTML"></script><link href="/css/chunk-0b878644.css" rel="prefetch"><link href="/css/chunk-128206d4.css" rel="prefetch"><link href="/css/chunk-235ac417.css" rel="prefetch"><link href="/css/chunk-2498186d.css" rel="prefetch"><link href="/css/chunk-38f9ca80.css" rel="prefetch"><link href="/css/chunk-5b60140f.css" rel="prefetch"><link href="/css/chunk-66c60e80.css" rel="prefetch"><link href="/css/chunk-7f0a1c05.css" rel="prefetch"><link href="/css/chunk-7fcc32b6.css" rel="prefetch"><link href="/css/chunk-9f0ca2e2.css" rel="prefetch"><link href="/css/chunk-dd9d4c74.css" rel="prefetch"><link href="/js/chunk-0b878644.js" rel="prefetch"><link href="/js/chunk-128206d4.js" rel="prefetch"><link href="/js/chunk-235ac417.js" rel="prefetch"><link href="/js/chunk-2498186d.js" rel="prefetch"><link href="/js/chunk-2d0c1569.js" rel="prefetch"><link href="/js/chunk-2d0cbe04.js" rel="prefetch"><link href="/js/chunk-2d0d4006.js" rel="prefetch"><link href="/js/chunk-2d0d7dbb.js" rel="prefetch"><link href="/js/chunk-2d0de03c.js" rel="prefetch"><link href="/js/chunk-2d0e95df.js" rel="prefetch"><link href="/js/chunk-2d208737.js" rel="prefetch"><link href="/js/chunk-38f9ca80.js" rel="prefetch"><link href="/js/chunk-5b60140f.js" rel="prefetch"><link href="/js/chunk-66c60e80.js" rel="prefetch"><link href="/js/chunk-7f0a1c05.js" rel="prefetch"><link href="/js/chunk-7fcc32b6.js" rel="prefetch"><link href="/js/chunk-9f0ca2e2.js" rel="prefetch"><link href="/js/chunk-dd9d4c74.js" rel="prefetch"><link href="/css/index.css" rel="preload" as="style"><link href="/js/chunk-vendors.js" rel="preload" as="script"><link href="/js/index.js" rel="preload" as="script"><link href="/css/index.css" rel="stylesheet"></head><body><noscript><div style="text-align: center;"><strong>抱歉！超科技现象统计局无法在不支持 JavaScript 的浏览器或者浏览器模式上运行。</strong><br><strong>请安装现代浏览器！</strong></div></noscript><div id="app"></div><script>var gaid="UA-4967510-4";
+<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta http-equiv="Cache-Control" content="no-cache"><meta name="description" content="有趣、严肃、中二、搞笑的文章、科普、游戏、收藏，这就是我的私人世界！"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="manifest" href="/webapp.json"><link rel="icon" href="/favicon.ico"><title>超科技现象统计局</title><script src="/js/patch.js"></script><script src="/js/lifecycle.js"></script><script src="/jLAss/index.js"></script><script src="/jLAss/namespace.js"></script><script src="/jLAss/extends/array.js"></script><script src="/jLAss/extends/class.js"></script><script src="/jLAss/extends/function.js"></script><script src="/jLAss/extends/math.js"></script><script src="/jLAss/extends/object.js"></script><script src="/jLAss/extends/string.js"></script><script src="/jLAss/extends/symbol.js"></script><script src="/jLAss/extends/timer.js"></script><script src="/jLAss/utils/datetime.js"></script><link type="text/css" rel="stylesheet" href="/fa/css/all.min.css"><script src="/MathJax2.5/MathJax.js?config=TeX-AMS_HTML"></script><link href="/css/chunk-0b878644.css" rel="prefetch"><link href="/css/chunk-128206d4.css" rel="prefetch"><link href="/css/chunk-235ac417.css" rel="prefetch"><link href="/css/chunk-2498186d.css" rel="prefetch"><link href="/css/chunk-38f9ca80.css" rel="prefetch"><link href="/css/chunk-565e042e.css" rel="prefetch"><link href="/css/chunk-5b60140f.css" rel="prefetch"><link href="/css/chunk-7f0a1c05.css" rel="prefetch"><link href="/css/chunk-7fcc32b6.css" rel="prefetch"><link href="/css/chunk-9f0ca2e2.css" rel="prefetch"><link href="/css/chunk-dd9d4c74.css" rel="prefetch"><link href="/js/chunk-0b878644.js" rel="prefetch"><link href="/js/chunk-128206d4.js" rel="prefetch"><link href="/js/chunk-235ac417.js" rel="prefetch"><link href="/js/chunk-2498186d.js" rel="prefetch"><link href="/js/chunk-2d0c1569.js" rel="prefetch"><link href="/js/chunk-2d0cbe04.js" rel="prefetch"><link href="/js/chunk-2d0d4006.js" rel="prefetch"><link href="/js/chunk-2d0d7dbb.js" rel="prefetch"><link href="/js/chunk-2d0de03c.js" rel="prefetch"><link href="/js/chunk-2d0e95df.js" rel="prefetch"><link href="/js/chunk-2d208737.js" rel="prefetch"><link href="/js/chunk-38f9ca80.js" rel="prefetch"><link href="/js/chunk-565e042e.js" rel="prefetch"><link href="/js/chunk-5b60140f.js" rel="prefetch"><link href="/js/chunk-7f0a1c05.js" rel="prefetch"><link href="/js/chunk-7fcc32b6.js" rel="prefetch"><link href="/js/chunk-9f0ca2e2.js" rel="prefetch"><link href="/js/chunk-dd9d4c74.js" rel="prefetch"><link href="/css/index.css" rel="preload" as="style"><link href="/js/chunk-vendors.js" rel="preload" as="script"><link href="/js/index.js" rel="preload" as="script"><link href="/css/index.css" rel="stylesheet"></head><body><noscript><div style="text-align: center;"><strong>抱歉！超科技现象统计局无法在不支持 JavaScript 的浏览器或者浏览器模式上运行。</strong><br><strong>请安装现代浏览器！</strong></div></noscript><div id="app"></div><script>var gaid="UA-4967510-4";
 		if(!!gaid&&!location.host.match(/localhost/i)){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=location.protocol+g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', gaid, 'auto');ga('send', 'pageview');}</script><script src="/js/chunk-vendors.js"></script><script src="/js/index.js"></script></body></html>
\ No newline at end of file
diff --git a/js/chunk-565e042e.js b/js/chunk-565e042e.js
new file mode 100644
index 0000000..d102343
--- /dev/null
+++ b/js/chunk-565e042e.js
@@ -0,0 +1,2 @@
+(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-565e042e"],{"20f7":function(e,t,a){},cd96:function(e,t,a){"use strict";a("20f7")},de6a:function(e,t,a){"use strict";a.r(t);var n=a("79c4");const c=Object(n["G"])("data-v-0c4c37b2");Object(n["t"])("data-v-0c4c37b2");const l=Object(n["h"])("div",{class:"infomation markup"},[Object(n["h"])("p",null,"本工具迁徙自 Viktor T. Toth 做的[霍金辐射计算器](https://www.vttoth.com/CMS/physics-notes/311-hawking-radiation-calculator)，主要功能是计算和黑洞相关的数据。"),Object(n["h"])("p",null,"> 另：本工具最好在PC浏览器上看，不然恐怕会看起来很糟糕……"),Object(n["h"])("p",null,"这里的大部分物理量都是从无穷远观测者看来的，且“表面引力”指的是对应的牛顿引力大小，因为在广义相对论中任意黑洞的表面引力都是无穷大。同理，“等效密度”值得也是牛顿值。而“落入奇点所用时间”是指从视界面开始下落的自由落体者的随动坐标系测量而得的时间，并不是无穷远观测者的观测值，在无穷远观测者看来落入黑洞所用时间为无限长。")],-1),i={ref:"CalTable",class:"table"},s=Object(n["f"])('<div class="header" data-v-0c4c37b2><span class="name" data-v-0c4c37b2>物理量</span><span class="value" data-v-0c4c37b2>取值</span><span class="unity" data-v-0c4c37b2>单位</span><span class="express" data-v-0c4c37b2>表达式</span></div>',1),o={class:"line"},u=Object(n["h"])("span",{class:"name"},"质量",-1),p={class:"value"},r={class:"unity"},v=Object(n["f"])('<option value="0" data-v-0c4c37b2>太阳质量</option><option value="1" data-v-0c4c37b2>地球质量</option><option value="2" data-v-0c4c37b2>吨</option><option value="3" data-v-0c4c37b2>千克</option><option value="4" data-v-0c4c37b2>克</option><option value="5" data-v-0c4c37b2>电子伏</option><option value="6" data-v-0c4c37b2>电子质量</option><option value="7" data-v-0c4c37b2>普朗克质量</option>',8),b=Object(n["h"])("span",{class:"express"},"$M$",-1),d={class:"line"},h=Object(n["h"])("span",{class:"name"},"视界半径",-1),y={class:"value"},j={class:"unity"},O=Object(n["f"])('<option value="0" data-v-0c4c37b2>秒差距</option><option value="1" data-v-0c4c37b2>光年</option><option value="2" data-v-0c4c37b2>天文单位</option><option value="3" data-v-0c4c37b2>光秒</option><option value="4" data-v-0c4c37b2>公里</option><option value="5" data-v-0c4c37b2>米</option><option value="6" data-v-0c4c37b2>厘米</option><option value="7" data-v-0c4c37b2>纳米</option><option value="8" data-v-0c4c37b2>飞米</option><option value="9" data-v-0c4c37b2>普朗克长度</option>',10),m=Object(n["h"])("span",{class:"express"},"$R = M \\frac{2 G}{c^2}$",-1),g={class:"line"},f=Object(n["h"])("span",{class:"name"},"视界面积",-1),k={class:"value"},M={class:"unity"},U=Object(n["f"])('<option value="0" data-v-0c4c37b2>平方秒差距</option><option value="1" data-v-0c4c37b2>平方光年</option><option value="2" data-v-0c4c37b2>平方天文单位</option><option value="3" data-v-0c4c37b2>平方光秒</option><option value="4" data-v-0c4c37b2>平方公里</option><option value="5" data-v-0c4c37b2>平方米</option><option value="6" data-v-0c4c37b2>平方厘米</option><option value="7" data-v-0c4c37b2>平方纳米</option><option value="8" data-v-0c4c37b2>平方飞米</option><option value="9" data-v-0c4c37b2>普朗克面积</option>',10),C=Object(n["h"])("span",{class:"express"},"$A = M^2 \\frac{16 \\pi G^2}{c^4}$",-1),E={class:"line"},V=Object(n["h"])("span",{class:"name"},"等效密度",-1),I={class:"value"},$={class:"unity"},P=Object(n["f"])('<option value="0" data-v-0c4c37b2>太阳密度</option><option value="1" data-v-0c4c37b2>地球密度</option><option value="2" data-v-0c4c37b2>千克/立方米</option><option value="3" data-v-0c4c37b2>克/立方厘米</option><option value="4" data-v-0c4c37b2>普朗克密度</option>',5),x=Object(n["h"])("span",{class:"express"},"$\\rho = \\frac{1}{M^2} \\frac{3 c^6}{32 \\pi G^3}$",-1),F={class:"line"},T=Object(n["h"])("span",{class:"name"},"表面引力",-1),w={class:"value"},B={class:"unity"},G=Object(n["h"])("option",{value:"0"},"平均地表引力",-1),K=Object(n["h"])("option",{value:"1"},"米/秒平方",-1),A=Object(n["h"])("option",{value:"2"},"普朗克加速度",-1),L=Object(n["h"])("span",{class:"express"},"$\\kappa = \\frac{1}{M} \\frac{c^4}{4 G}$",-1),Y={class:"line"},z=Object(n["h"])("span",{class:"name"},"表面潮汐力",-1),J={class:"value"},S={class:"unity"},_=Object(n["h"])("option",{value:"0"},"平均地表潮汐力",-1),q=Object(n["h"])("option",{value:"1"},"米/秒平方/米",-1),D=Object(n["h"])("option",{value:"2"},"普朗克单位",-1),H=Object(n["h"])("span",{class:"express"},"$d \\kappa = \\frac{1}{M^2} \\frac{c^6}{4 G^2}$",-1),W={class:"line"},Q=Object(n["h"])("span",{class:"name"},"落到奇点所需时间",-1),R={class:"value"},Z={class:"unity"},N=Object(n["f"])('<option value="0" data-v-0c4c37b2>亿年</option><option value="1" data-v-0c4c37b2>百万年</option><option value="2" data-v-0c4c37b2>万年</option><option value="3" data-v-0c4c37b2>世纪</option><option value="4" data-v-0c4c37b2>年</option><option value="5" data-v-0c4c37b2>天</option><option value="6" data-v-0c4c37b2>小时</option><option value="7" data-v-0c4c37b2>分钟</option><option value="8" data-v-0c4c37b2>秒</option><option value="9" data-v-0c4c37b2>纳秒</option><option value="10" data-v-0c4c37b2>飞秒</option><option value="11" data-v-0c4c37b2>普朗克时间</option>',12),X=Object(n["h"])("span",{class:"express"},"$t_S = M \\frac{\\pi G}{c^3}$",-1),ee={class:"line"},te=Object(n["h"])("span",{class:"name"},"熵",-1),ae={class:"value"},ne=Object(n["h"])("span",{class:"unity"},"无量纲",-1),ce=Object(n["h"])("span",{class:"express"},"$S = M^2 \\frac{4 \\pi G}{\\hbar c}$",-1),le={class:"line"},ie=Object(n["h"])("span",{class:"name"},"温度",-1),se={class:"value"},oe={class:"unity"},ue=Object(n["h"])("option",{value:"0"},"开尔文",-1),pe=Object(n["h"])("option",{value:"1"},"摄氏度",-1),re=Object(n["h"])("option",{value:"2"},"华氏度",-1),ve=Object(n["h"])("option",{value:"3"},"普朗克温度",-1),be=Object(n["h"])("span",{class:"express"},"$T = \\frac{1}{M} \\frac{\\hbar c^3}{8 \\pi k_B G}$",-1),de={class:"line"},he=Object(n["h"])("span",{class:"name"},"光通量功率",-1),ye={class:"value"},je={class:"unity"},Oe=Object(n["h"])("option",{value:"0"},"瓦",-1),me=Object(n["h"])("option",{value:"1"},"千瓦（kW）",-1),ge=Object(n["h"])("option",{value:"2"},"兆瓦（MW）",-1),fe=Object(n["h"])("option",{value:"3"},"太阳功率",-1),ke=Object(n["h"])("span",{class:"express"},"$L = \\frac{1}{M^2} \\frac{\\hbar c^6}{15360 \\pi G^2}$",-1),Me={class:"line"},Ue=Object(n["h"])("span",{class:"name"},"寿命",-1),Ce={class:"value"},Ee={class:"unity"},Ve=Object(n["f"])('<option value="0" data-v-0c4c37b2>亿年</option><option value="1" data-v-0c4c37b2>百万年</option><option value="2" data-v-0c4c37b2>万年</option><option value="3" data-v-0c4c37b2>世纪</option><option value="4" data-v-0c4c37b2>年</option><option value="5" data-v-0c4c37b2>天</option><option value="6" data-v-0c4c37b2>小时</option><option value="7" data-v-0c4c37b2>分钟</option><option value="8" data-v-0c4c37b2>秒</option><option value="9" data-v-0c4c37b2>纳秒</option><option value="10" data-v-0c4c37b2>飞秒</option><option value="11" data-v-0c4c37b2>普朗克时间</option>',12),Ie=Object(n["h"])("span",{class:"express"},"$t = M^3 \\frac{5120 \\pi G^2}{1.8083 \\hbar c^4}$",-1);Object(n["r"])();const $e=c((e,t,a,c,$e,Pe)=>{const xe=Object(n["x"])("Crumb");return Object(n["q"])(),Object(n["d"])(n["a"],null,[Object(n["h"])(xe,{target:"tools"}),l,Object(n["h"])("div",i,[s,Object(n["h"])("div",o,[u,Object(n["h"])("span",p,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>$e.mass.value=e),onKeyup:t[2]||(t[2]=Object(n["F"])(e=>Pe.calculate("mass"),["enter"]))},null,544),[[n["C"],$e.mass.value]])]),Object(n["h"])("span",r,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>$e.mass.unity=e),onChange:t[4]||(t[4]=e=>Pe.changeUnity("mass"))},[v],544),[[n["B"],$e.mass.unity]])]),b]),Object(n["h"])("div",d,[h,Object(n["h"])("span",y,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>$e.radius.value=e),onKeyup:t[6]||(t[6]=Object(n["F"])(e=>Pe.calculate("radius"),["enter"]))},null,544),[[n["C"],$e.radius.value]])]),Object(n["h"])("span",j,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>$e.radius.unity=e),onChange:t[8]||(t[8]=e=>Pe.changeUnity("radius"))},[O],544),[[n["B"],$e.radius.unity]])]),m]),Object(n["h"])("div",g,[f,Object(n["h"])("span",k,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=e=>$e.surface.value=e),onKeyup:t[10]||(t[10]=Object(n["F"])(e=>Pe.calculate("surface"),["enter"]))},null,544),[[n["C"],$e.surface.value]])]),Object(n["h"])("span",M,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>$e.surface.unity=e),onChange:t[12]||(t[12]=e=>Pe.changeUnity("surface"))},[U],544),[[n["B"],$e.surface.unity]])]),C]),Object(n["h"])("div",E,[V,Object(n["h"])("span",I,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=e=>$e.density.value=e),onKeyup:t[14]||(t[14]=Object(n["F"])(e=>Pe.calculate("density"),["enter"]))},null,544),[[n["C"],$e.density.value]])]),Object(n["h"])("span",$,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[15]||(t[15]=e=>$e.density.unity=e),onChange:t[16]||(t[16]=e=>Pe.changeUnity("density"))},[P],544),[[n["B"],$e.density.unity]])]),x]),Object(n["h"])("div",F,[T,Object(n["h"])("span",w,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=e=>$e.gravity.value=e),onKeyup:t[18]||(t[18]=Object(n["F"])(e=>Pe.calculate("gravity"),["enter"]))},null,544),[[n["C"],$e.gravity.value]])]),Object(n["h"])("span",B,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[19]||(t[19]=e=>$e.gravity.unity=e),onChange:t[20]||(t[20]=e=>Pe.changeUnity("gravity"))},[G,K,A],544),[[n["B"],$e.gravity.unity]])]),L]),Object(n["h"])("div",Y,[z,Object(n["h"])("span",J,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[21]||(t[21]=e=>$e.tide.value=e),onKeyup:t[22]||(t[22]=Object(n["F"])(e=>Pe.calculate("tide"),["enter"]))},null,544),[[n["C"],$e.tide.value]])]),Object(n["h"])("span",S,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[23]||(t[23]=e=>$e.tide.unity=e),onChange:t[24]||(t[24]=e=>Pe.changeUnity("tide"))},[_,q,D],544),[[n["B"],$e.tide.unity]])]),H]),Object(n["h"])("div",W,[Q,Object(n["h"])("span",R,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[25]||(t[25]=e=>$e.time.value=e),onKeyup:t[26]||(t[26]=Object(n["F"])(e=>Pe.calculate("time"),["enter"]))},null,544),[[n["C"],$e.time.value]])]),Object(n["h"])("span",Z,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[27]||(t[27]=e=>$e.time.unity=e),onChange:t[28]||(t[28]=e=>Pe.changeUnity("time"))},[N],544),[[n["B"],$e.time.unity]])]),X]),Object(n["h"])("div",ee,[te,Object(n["h"])("span",ae,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[29]||(t[29]=e=>$e.entropy.value=e),onKeyup:t[30]||(t[30]=Object(n["F"])(e=>Pe.calculate("entropy"),["enter"]))},null,544),[[n["C"],$e.entropy.value]])]),ne,ce]),Object(n["h"])("div",le,[ie,Object(n["h"])("span",se,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[31]||(t[31]=e=>$e.temperature.value=e),onKeyup:t[32]||(t[32]=Object(n["F"])(e=>Pe.calculate("temperature"),["enter"]))},null,544),[[n["C"],$e.temperature.value]])]),Object(n["h"])("span",oe,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[33]||(t[33]=e=>$e.temperature.unity=e),onChange:t[34]||(t[34]=e=>Pe.changeUnity("temperature"))},[ue,pe,re,ve],544),[[n["B"],$e.temperature.unity]])]),be]),Object(n["h"])("div",de,[he,Object(n["h"])("span",ye,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[35]||(t[35]=e=>$e.luminousity.value=e),onKeyup:t[36]||(t[36]=Object(n["F"])(e=>Pe.calculate("luminousity"),["enter"]))},null,544),[[n["C"],$e.luminousity.value]])]),Object(n["h"])("span",je,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[37]||(t[37]=e=>$e.luminousity.unity=e),onChange:t[38]||(t[38]=e=>Pe.changeUnity("luminousity"))},[Oe,me,ge,fe],544),[[n["B"],$e.luminousity.unity]])]),ke]),Object(n["h"])("div",Me,[Ue,Object(n["h"])("span",Ce,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[39]||(t[39]=e=>$e.lifetime.value=e),onKeyup:t[40]||(t[40]=Object(n["F"])(e=>Pe.calculate("lifetime"),["enter"]))},null,544),[[n["C"],$e.lifetime.value]])]),Object(n["h"])("span",Ee,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[41]||(t[41]=e=>$e.lifetime.unity=e),onChange:t[42]||(t[42]=e=>Pe.changeUnity("lifetime"))},[Ve],544),[[n["B"],$e.lifetime.unity]])]),Ie])],512)],64)}),Pe={lightspeed:299792458,gravity:66743e-15,planck:662607015e-42,planckbar:10545718e-41,boltzman:138064852e-31,e:1602176634e-28,eV:1602176634e-28,massE:910938356e-39,AU:149597870700};Pe.planckLength=(Pe.planckbar*Pe.gravity/Pe.lightspeed**3)**.5,Pe.planckTime=Pe.planckLength/Pe.lightspeed,Pe.planckArea=Pe.planckLength**2,Pe.planckVolumn=Pe.planckLength**3,Pe.planckMass=(Pe.planckbar*Pe.lightspeed/Pe.gravity)**.5,Pe.planckEnergy=Pe.planckMass/Pe.lightspeed**2,Pe.planckTemperature=(Pe.planckbar*Pe.lightspeed**5/Pe.gravity/Pe.boltzman**2)**.5,Pe.planckForce=Pe.lightspeed**4/Pe.gravity,Pe.planckAccelation=Pe.lightspeed/Pe.planckTime,Pe.planckPower=Pe.planckEnergy/Pe.planckTime,Pe.planckDensity=Pe.planckMass/Pe.planckLength**3,Pe.parsecs=648e3*Pe.AU/Math.PI,Pe.secondsInYear=31536e3,Pe.lightyear=Pe.lightspeed*Pe.secondsInYear,Pe.absoluteZero=-273.16,Pe.C2F=[5/9,-32];const xe={mass:[1.9891e30,597237e19,1e3,1,.001,Pe.eV/Pe.lightspeed/Pe.lightspeed,Pe.massE,Pe.planckMass],radius:[Pe.parsecs,Pe.lightyear,Pe.AU,Pe.lightspeed,1e3,1,.01,1e-9,1e-12,Pe.planckTime],surface:[],density:[1410,5510,1,1e3,Pe.planckDensity],gravity:[9.80665,1,Pe.planckAccelation],tide:[30829012181674645e-22,1,Pe.planckAccelation/Pe.planckLength],time:[1e8*Pe.secondsInYear,1e6*Pe.secondsInYear,1e4*Pe.secondsInYear,100*Pe.secondsInYear,Pe.secondsInYear,86400,3600,60,1,1e-9,1e-12,Pe.planckTime],entropy:[1],temperature:[1,[1,273.15],[5/9,273.15-160/9],Pe.planckTemperature],luminousity:[1,1e3,1e6,38599999999999995e10],lifetime:[]};for(let Be of xe.radius)xe.surface.push(Be**2);for(let Be of xe.time)xe.lifetime.push(Be);const Fe={mass({value:e,unity:t}){return e*xe.mass[t]},radius({value:e,unity:t}){var a=e*xe.radius[t];return a*Pe.lightspeed**2/(2*Pe.gravity)},surface({value:e,unity:t}){var a=e*xe.surface[t],n=a*Pe.lightspeed**4/(Pe.gravity**2*16*Math.PI);return n**.5},density({value:e,unity:t}){var a=e*xe.density[t],n=3*Pe.lightspeed**6/(Pe.gravity**3*32*Math.PI)/a;return n**.5},gravity({value:e,unity:t}){var a=e*xe.gravity[t];return Pe.lightspeed**4/(4*Pe.gravity)/a},tide({value:e,unity:t}){var a=e*xe.tide[t],n=Pe.lightspeed**6/(Pe.gravity**2*4)/a;return n**.5},time({value:e,unity:t}){var a=e*xe.time[t];return a*Pe.lightspeed**3/(Pe.gravity*Math.PI)},entropy({value:e,unity:t}){var a=entropy*(Pe.planckbar*Pe.lightspeed)/(4*Pe.gravity*Math.PI);return a**.5},temperature({value:e,unity:t}){var a;if(t*=1,3===t)a=e*xe.temperature[t];else if(t>0){let n=xe.temperature[t];a=e*n[0]+n[1]}else a=e;return Pe.planckbar*Pe.lightspeed**3/(8*Math.PI*Pe.boltzman*Pe.gravity)/a},luminousity({value:e,unity:t}){var a=e*xe.luminousity[t],n=Pe.planckbar*Pe.lightspeed**6/(15360*Math.PI*Pe.gravity**2)/a;return n**.5},lifetime({value:e,unity:t}){var a=e*xe.lifetime[t],n=a*(1.8083*Pe.planckbar*Pe.lightspeed**4)/(5120*Math.PI*Pe.gravity**2);return n**(1/3)}},Te={mass(e,t){return e/xe.mass[t]},radius(e,t){var a=e*(2*Pe.gravity)/Pe.lightspeed**2;return a/xe.radius[t]},surface(e,t){var a=e**2*(16*Math.PI*Pe.gravity**2)/Pe.lightspeed**4;return a/xe.surface[t]},density(e,t){var a=3*Pe.lightspeed**6/(32*Math.PI*Pe.gravity**3)/e**2;return a/xe.density[t]},gravity(e,t){var a=Pe.lightspeed**4/(4*Pe.gravity)/e;return a/xe.gravity[t]},tide(e,t){var a=Pe.lightspeed**6/(4*Pe.gravity**2)/e**2;return a/xe.tide[t]},time(e,t){var a=e*(Math.PI*Pe.gravity)/Pe.lightspeed**3;return a/xe.time[t]},entropy(e,t){return e**2*(4*Math.PI*Pe.gravity)/(Pe.planckbar*Pe.lightspeed)},temperature(e,t){t*=1;var a=Pe.planckbar*Pe.lightspeed**3/(8*Math.PI*Pe.boltzman*Pe.gravity)/e;if(0===t)return a;if(3===t)return a/xe.temperature[3];var n=xe.temperature[t];return(a-n[1])/n[0]},luminousity(e,t){var a=Pe.planckbar*Pe.lightspeed**6/(15360*Math.PI*Pe.gravity**2)/e**2;return a/xe.luminousity[t]},lifetime(e,t){var a=e**3*(5120*Math.PI*Pe.gravity**2)/(1.8083*Pe.planckbar*Pe.lightspeed**4);return a/xe.lifetime[t]}};var we={name:"ParseMarkup",data(){return{mass:{value:1,unity:0,last:0},radius:{value:1,unity:4,last:4},surface:{value:1,unity:4,last:4},density:{value:1,unity:0,last:0},gravity:{value:1,unity:1,last:1},tide:{value:1,unity:1,last:1},time:{value:1,unity:8,last:8},entropy:{value:1,unity:0,last:0},temperature:{value:1,unity:0,last:0},luminousity:{value:1,unity:0,last:0},lifetime:{value:1,unity:4,last:4}}},mounted(){var e=this.$refs.CalTable.querySelectorAll(".line .express");[].forEach.call(e,async e=>{MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])}),this.calculate("mass"),callPageLoaded()},methods:{calculate(e){var t=Fe[e](this[e]);for(let a in Te)a!==e&&(this[a].value=Te[a](t,this[a].unity))},changeUnity(e){var t=this[e];if(t.last+""===t.unity+"")return;let a=t.value;if("temperature"===e){let e;if(1*t.last===3)e=a*xe.temperature[t.last];else if(1*t.last>0){let n=xe.temperature[t.last];e=a*n[0]+n[1]}else e=a;if(1*t.unity===0)a=e;else if(1*t.unity===3)a=e/xe.temperature[3];else{let n=xe.temperature[t.unity];a=(e-n[1])/n[0]}}else{let n=xe[e];a=t.value*n[t.last]/n[t.unity]}t.value=a,t.last=t.unity}}};a("cd96");we.render=$e,we.__scopeId="data-v-0c4c37b2";t["default"]=we}}]);
+//# sourceMappingURL=chunk-565e042e.js.map
\ No newline at end of file
diff --git a/js/chunk-66c60e80.js b/js/chunk-66c60e80.js
deleted file mode 100644
index 7e058b9..0000000
--- a/js/chunk-66c60e80.js
+++ /dev/null
@@ -1,2 +0,0 @@
-(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66c60e80"],{"0333":function(e,t,a){"use strict";a("3cb8")},"3cb8":function(e,t,a){},de6a:function(e,t,a){"use strict";a.r(t);var n=a("79c4");const l=Object(n["G"])("data-v-22911782");Object(n["t"])("data-v-22911782");const i=Object(n["h"])("div",{class:"infomation markup"},[Object(n["h"])("p",null,"本工具迁徙自 Viktor T. Toth 做的[霍金辐射计算器](https://www.vttoth.com/CMS/physics-notes/311-hawking-radiation-calculator)，主要功能是计算和黑洞相关的数据。"),Object(n["h"])("p",null,"> 另：本工具最好在PC浏览器上看，不然恐怕会看起来很糟糕……"),Object(n["h"])("p",null,"这里的大部分物理量都是从无穷远观测者看来的，且“表面引力”指的是对应的牛顿引力大小，因为在广义相对论中任意黑洞的表面引力都是无穷大。同理，“等效密度”值得也是牛顿值。而“落入奇点所用时间”是从无穷远下落者的随动坐标系测量而得，并不是无穷远观测者的观测值，在无穷远观测者看来落入黑洞所用时间为无限长。")],-1),s={ref:"CalTable",class:"table"},o=Object(n["f"])('<div class="header" data-v-22911782><span class="name" data-v-22911782>物理量</span><span class="value" data-v-22911782>取值</span><span class="unity" data-v-22911782>单位</span><span class="express" data-v-22911782>表达式</span></div>',1),u={class:"line"},p=Object(n["h"])("span",{class:"name"},"质量",-1),c={class:"value"},r={class:"unity"},v=Object(n["f"])('<option value="0" data-v-22911782>太阳质量</option><option value="1" data-v-22911782>地球质量</option><option value="2" data-v-22911782>吨</option><option value="3" data-v-22911782>千克</option><option value="4" data-v-22911782>克</option><option value="5" data-v-22911782>电子伏</option><option value="6" data-v-22911782>电子质量</option><option value="7" data-v-22911782>普朗克质量</option>',8),d=Object(n["h"])("span",{class:"express"},"$M$",-1),h={class:"line"},b=Object(n["h"])("span",{class:"name"},"视界半径",-1),y={class:"value"},j={class:"unity"},O=Object(n["f"])('<option value="0" data-v-22911782>秒差距</option><option value="1" data-v-22911782>光年</option><option value="2" data-v-22911782>天文单位</option><option value="3" data-v-22911782>光秒</option><option value="4" data-v-22911782>公里</option><option value="5" data-v-22911782>米</option><option value="6" data-v-22911782>厘米</option><option value="7" data-v-22911782>纳米</option><option value="8" data-v-22911782>飞米</option><option value="9" data-v-22911782>普朗克长度</option>',10),m=Object(n["h"])("span",{class:"express"},"$R = M \\frac{2 G}{c^2}$",-1),g={class:"line"},f=Object(n["h"])("span",{class:"name"},"视界面积",-1),k={class:"value"},M={class:"unity"},U=Object(n["f"])('<option value="0" data-v-22911782>平方秒差距</option><option value="1" data-v-22911782>平方光年</option><option value="2" data-v-22911782>平方天文单位</option><option value="3" data-v-22911782>平方光秒</option><option value="4" data-v-22911782>平方公里</option><option value="5" data-v-22911782>平方米</option><option value="6" data-v-22911782>平方厘米</option><option value="7" data-v-22911782>平方纳米</option><option value="8" data-v-22911782>平方飞米</option><option value="9" data-v-22911782>普朗克面积</option>',10),C=Object(n["h"])("span",{class:"express"},"$A = M^2 \\frac{16 \\pi G^2}{c^4}$",-1),E={class:"line"},V=Object(n["h"])("span",{class:"name"},"等效密度",-1),I={class:"value"},$={class:"unity"},P=Object(n["f"])('<option value="0" data-v-22911782>太阳密度</option><option value="1" data-v-22911782>地球密度</option><option value="2" data-v-22911782>千克/立方米</option><option value="3" data-v-22911782>克/立方厘米</option><option value="4" data-v-22911782>普朗克密度</option>',5),x=Object(n["h"])("span",{class:"express"},"$\\rho = \\frac{1}{M^2} \\frac{3 c^6}{32 \\pi G^3}$",-1),F={class:"line"},T=Object(n["h"])("span",{class:"name"},"表面引力",-1),w={class:"value"},B={class:"unity"},G=Object(n["h"])("option",{value:"0"},"平均地表引力",-1),K=Object(n["h"])("option",{value:"1"},"米/秒平方",-1),A=Object(n["h"])("option",{value:"2"},"普朗克加速度",-1),L=Object(n["h"])("span",{class:"express"},"$\\kappa = \\frac{1}{M} \\frac{c^4}{4 G}$",-1),Y={class:"line"},z=Object(n["h"])("span",{class:"name"},"表面潮汐力",-1),J={class:"value"},S={class:"unity"},_=Object(n["h"])("option",{value:"0"},"平均地表潮汐力",-1),q=Object(n["h"])("option",{value:"1"},"米/秒平方/米",-1),D=Object(n["h"])("option",{value:"2"},"普朗克单位",-1),H=Object(n["h"])("span",{class:"express"},"$d \\kappa = \\frac{1}{M^2} \\frac{c^6}{4 G^2}$",-1),W={class:"line"},Q=Object(n["h"])("span",{class:"name"},"落到奇点所需时间",-1),R={class:"value"},Z={class:"unity"},N=Object(n["f"])('<option value="0" data-v-22911782>亿年</option><option value="1" data-v-22911782>百万年</option><option value="2" data-v-22911782>万年</option><option value="3" data-v-22911782>世纪</option><option value="4" data-v-22911782>年</option><option value="5" data-v-22911782>天</option><option value="6" data-v-22911782>小时</option><option value="7" data-v-22911782>分钟</option><option value="8" data-v-22911782>秒</option><option value="9" data-v-22911782>纳秒</option><option value="10" data-v-22911782>飞秒</option><option value="11" data-v-22911782>普朗克时间</option>',12),X=Object(n["h"])("span",{class:"express"},"$t_S = M \\frac{\\pi G}{c^3}$",-1),ee={class:"line"},te=Object(n["h"])("span",{class:"name"},"熵",-1),ae={class:"value"},ne=Object(n["h"])("span",{class:"unity"},"无量纲",-1),le=Object(n["h"])("span",{class:"express"},"$S = M^2 \\frac{4 \\pi G}{\\hbar c}$",-1),ie={class:"line"},se=Object(n["h"])("span",{class:"name"},"温度",-1),oe={class:"value"},ue={class:"unity"},pe=Object(n["h"])("option",{value:"0"},"开尔文",-1),ce=Object(n["h"])("option",{value:"1"},"摄氏度",-1),re=Object(n["h"])("option",{value:"2"},"华氏度",-1),ve=Object(n["h"])("option",{value:"3"},"普朗克温度",-1),de=Object(n["h"])("span",{class:"express"},"$T = \\frac{1}{M} \\frac{\\hbar c^3}{8 \\pi k_B G}$",-1),he={class:"line"},be=Object(n["h"])("span",{class:"name"},"光通量功率",-1),ye={class:"value"},je={class:"unity"},Oe=Object(n["h"])("option",{value:"0"},"瓦",-1),me=Object(n["h"])("option",{value:"1"},"千瓦（kW）",-1),ge=Object(n["h"])("option",{value:"2"},"兆瓦（MW）",-1),fe=Object(n["h"])("option",{value:"3"},"太阳功率",-1),ke=Object(n["h"])("span",{class:"express"},"$L = \\frac{1}{M^2} \\frac{\\hbar c^6}{15360 \\pi G^2}$",-1),Me={class:"line"},Ue=Object(n["h"])("span",{class:"name"},"寿命",-1),Ce={class:"value"},Ee={class:"unity"},Ve=Object(n["f"])('<option value="0" data-v-22911782>亿年</option><option value="1" data-v-22911782>百万年</option><option value="2" data-v-22911782>万年</option><option value="3" data-v-22911782>世纪</option><option value="4" data-v-22911782>年</option><option value="5" data-v-22911782>天</option><option value="6" data-v-22911782>小时</option><option value="7" data-v-22911782>分钟</option><option value="8" data-v-22911782>秒</option><option value="9" data-v-22911782>纳秒</option><option value="10" data-v-22911782>飞秒</option><option value="11" data-v-22911782>普朗克时间</option>',12),Ie=Object(n["h"])("span",{class:"express"},"$t = M^3 \\frac{5120 \\pi G^2}{1.8083 \\hbar c^4}$",-1);Object(n["r"])();const $e=l((e,t,a,l,$e,Pe)=>{const xe=Object(n["x"])("Crumb");return Object(n["q"])(),Object(n["d"])(n["a"],null,[Object(n["h"])(xe,{target:"tools"}),i,Object(n["h"])("div",s,[o,Object(n["h"])("div",u,[p,Object(n["h"])("span",c,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>$e.mass.value=e),onKeyup:t[2]||(t[2]=Object(n["F"])(e=>Pe.calculate("mass"),["enter"]))},null,544),[[n["C"],$e.mass.value]])]),Object(n["h"])("span",r,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>$e.mass.unity=e),onChange:t[4]||(t[4]=e=>Pe.changeUnity("mass"))},[v],544),[[n["B"],$e.mass.unity]])]),d]),Object(n["h"])("div",h,[b,Object(n["h"])("span",y,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>$e.radius.value=e),onKeyup:t[6]||(t[6]=Object(n["F"])(e=>Pe.calculate("radius"),["enter"]))},null,544),[[n["C"],$e.radius.value]])]),Object(n["h"])("span",j,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>$e.radius.unity=e),onChange:t[8]||(t[8]=e=>Pe.changeUnity("radius"))},[O],544),[[n["B"],$e.radius.unity]])]),m]),Object(n["h"])("div",g,[f,Object(n["h"])("span",k,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=e=>$e.surface.value=e),onKeyup:t[10]||(t[10]=Object(n["F"])(e=>Pe.calculate("surface"),["enter"]))},null,544),[[n["C"],$e.surface.value]])]),Object(n["h"])("span",M,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>$e.surface.unity=e),onChange:t[12]||(t[12]=e=>Pe.changeUnity("surface"))},[U],544),[[n["B"],$e.surface.unity]])]),C]),Object(n["h"])("div",E,[V,Object(n["h"])("span",I,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=e=>$e.density.value=e),onKeyup:t[14]||(t[14]=Object(n["F"])(e=>Pe.calculate("density"),["enter"]))},null,544),[[n["C"],$e.density.value]])]),Object(n["h"])("span",$,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[15]||(t[15]=e=>$e.density.unity=e),onChange:t[16]||(t[16]=e=>Pe.changeUnity("density"))},[P],544),[[n["B"],$e.density.unity]])]),x]),Object(n["h"])("div",F,[T,Object(n["h"])("span",w,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=e=>$e.gravity.value=e),onKeyup:t[18]||(t[18]=Object(n["F"])(e=>Pe.calculate("gravity"),["enter"]))},null,544),[[n["C"],$e.gravity.value]])]),Object(n["h"])("span",B,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[19]||(t[19]=e=>$e.gravity.unity=e),onChange:t[20]||(t[20]=e=>Pe.changeUnity("gravity"))},[G,K,A],544),[[n["B"],$e.gravity.unity]])]),L]),Object(n["h"])("div",Y,[z,Object(n["h"])("span",J,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[21]||(t[21]=e=>$e.tide.value=e),onKeyup:t[22]||(t[22]=Object(n["F"])(e=>Pe.calculate("tide"),["enter"]))},null,544),[[n["C"],$e.tide.value]])]),Object(n["h"])("span",S,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[23]||(t[23]=e=>$e.tide.unity=e),onChange:t[24]||(t[24]=e=>Pe.changeUnity("tide"))},[_,q,D],544),[[n["B"],$e.tide.unity]])]),H]),Object(n["h"])("div",W,[Q,Object(n["h"])("span",R,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[25]||(t[25]=e=>$e.time.value=e),onKeyup:t[26]||(t[26]=Object(n["F"])(e=>Pe.calculate("time"),["enter"]))},null,544),[[n["C"],$e.time.value]])]),Object(n["h"])("span",Z,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[27]||(t[27]=e=>$e.time.unity=e),onChange:t[28]||(t[28]=e=>Pe.changeUnity("time"))},[N],544),[[n["B"],$e.time.unity]])]),X]),Object(n["h"])("div",ee,[te,Object(n["h"])("span",ae,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[29]||(t[29]=e=>$e.entropy.value=e),onKeyup:t[30]||(t[30]=Object(n["F"])(e=>Pe.calculate("entropy"),["enter"]))},null,544),[[n["C"],$e.entropy.value]])]),ne,le]),Object(n["h"])("div",ie,[se,Object(n["h"])("span",oe,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[31]||(t[31]=e=>$e.temperature.value=e),onKeyup:t[32]||(t[32]=Object(n["F"])(e=>Pe.calculate("temperature"),["enter"]))},null,544),[[n["C"],$e.temperature.value]])]),Object(n["h"])("span",ue,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[33]||(t[33]=e=>$e.temperature.unity=e),onChange:t[34]||(t[34]=e=>Pe.changeUnity("temperature"))},[pe,ce,re,ve],544),[[n["B"],$e.temperature.unity]])]),de]),Object(n["h"])("div",he,[be,Object(n["h"])("span",ye,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[35]||(t[35]=e=>$e.luminousity.value=e),onKeyup:t[36]||(t[36]=Object(n["F"])(e=>Pe.calculate("luminousity"),["enter"]))},null,544),[[n["C"],$e.luminousity.value]])]),Object(n["h"])("span",je,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[37]||(t[37]=e=>$e.luminousity.unity=e),onChange:t[38]||(t[38]=e=>Pe.changeUnity("luminousity"))},[Oe,me,ge,fe],544),[[n["B"],$e.luminousity.unity]])]),ke]),Object(n["h"])("div",Me,[Ue,Object(n["h"])("span",Ce,[Object(n["E"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[39]||(t[39]=e=>$e.lifetime.value=e),onKeyup:t[40]||(t[40]=Object(n["F"])(e=>Pe.calculate("lifetime"),["enter"]))},null,544),[[n["C"],$e.lifetime.value]])]),Object(n["h"])("span",Ee,[Object(n["E"])(Object(n["h"])("select",{"onUpdate:modelValue":t[41]||(t[41]=e=>$e.lifetime.unity=e),onChange:t[42]||(t[42]=e=>Pe.changeUnity("lifetime"))},[Ve],544),[[n["B"],$e.lifetime.unity]])]),Ie])],512)],64)}),Pe={lightspeed:299792458,gravity:66743e-15,planck:662607015e-42,planckbar:10545718e-41,boltzman:138064852e-31,e:1602176634e-28,eV:1602176634e-28,massE:910938356e-39,AU:149597870700};Pe.planckLength=(Pe.planckbar*Pe.gravity/Pe.lightspeed**3)**.5,Pe.planckTime=Pe.planckLength/Pe.lightspeed,Pe.planckArea=Pe.planckLength**2,Pe.planckVolumn=Pe.planckLength**3,Pe.planckMass=(Pe.planckbar*Pe.lightspeed/Pe.gravity)**.5,Pe.planckEnergy=Pe.planckMass/Pe.lightspeed**2,Pe.planckTemperature=(Pe.planckbar*Pe.lightspeed**5/Pe.gravity/Pe.boltzman**2)**.5,Pe.planckForce=Pe.lightspeed**4/Pe.gravity,Pe.planckAccelation=Pe.lightspeed/Pe.planckTime,Pe.planckPower=Pe.planckEnergy/Pe.planckTime,Pe.planckDensity=Pe.planckMass/Pe.planckLength**3,Pe.parsecs=648e3*Pe.AU/Math.PI,Pe.secondsInYear=31536e3,Pe.lightyear=Pe.lightspeed*Pe.secondsInYear,Pe.absoluteZero=-273.16,Pe.C2F=[5/9,-32];const xe={mass:[1.9891e30,597237e19,1e3,1,.001,Pe.eV/Pe.lightspeed/Pe.lightspeed,Pe.massE,Pe.planckMass],radius:[Pe.parsecs,Pe.lightyear,Pe.AU,Pe.lightspeed,1e3,1,.01,1e-9,1e-12,Pe.planckTime],surface:[],density:[1410,5510,1,1e3,Pe.planckDensity],gravity:[9.80665,1,Pe.planckAccelation],tide:[30829012181674645e-22,1,Pe.planckAccelation/Pe.planckLength],time:[1e8*Pe.secondsInYear,1e6*Pe.secondsInYear,1e4*Pe.secondsInYear,100*Pe.secondsInYear,Pe.secondsInYear,86400,3600,60,1,1e-9,1e-12,Pe.planckTime],entropy:[1],temperature:[1,[1,273.15],[5/9,273.15-160/9],Pe.planckTemperature],luminousity:[1,1e3,1e6,38599999999999995e10],lifetime:[]};for(let Be of xe.radius)xe.surface.push(Be**2);for(let Be of xe.time)xe.lifetime.push(Be);const Fe={mass({value:e,unity:t}){return e*xe.mass[t]},radius({value:e,unity:t}){var a=e*xe.radius[t];return a*Pe.lightspeed**2/(2*Pe.gravity)},surface({value:e,unity:t}){var a=e*xe.surface[t],n=a*Pe.lightspeed**4/(Pe.gravity**2*16*Math.PI);return n**.5},density({value:e,unity:t}){var a=e*xe.density[t],n=3*Pe.lightspeed**6/(Pe.gravity**3*32*Math.PI)/a;return n**.5},gravity({value:e,unity:t}){var a=e*xe.gravity[t];return Pe.lightspeed**4/(4*Pe.gravity)/a},tide({value:e,unity:t}){var a=e*xe.tide[t],n=Pe.lightspeed**6/(Pe.gravity**2*4)/a;return n**.5},time({value:e,unity:t}){var a=e*xe.time[t];return a*Pe.lightspeed**3/(Pe.gravity*Math.PI)},entropy({value:e,unity:t}){var a=entropy*(Pe.planckbar*Pe.lightspeed)/(4*Pe.gravity*Math.PI);return a**.5},temperature({value:e,unity:t}){var a;if(t*=1,3===t)a=e*xe.temperature[t];else if(t>0){let n=xe.temperature[t];a=e*n[0]+n[1]}else a=e;return Pe.planckbar*Pe.lightspeed**3/(8*Math.PI*Pe.boltzman*Pe.gravity)/a},luminousity({value:e,unity:t}){var a=e*xe.luminousity[t],n=Pe.planckbar*Pe.lightspeed**6/(15360*Math.PI*Pe.gravity**2)/a;return n**.5},lifetime({value:e,unity:t}){var a=e*xe.lifetime[t],n=a*(1.8083*Pe.planckbar*Pe.lightspeed**4)/(5120*Math.PI*Pe.gravity**2);return n**(1/3)}},Te={mass(e,t){return e/xe.mass[t]},radius(e,t){var a=e*(2*Pe.gravity)/Pe.lightspeed**2;return a/xe.radius[t]},surface(e,t){var a=e**2*(16*Math.PI*Pe.gravity**2)/Pe.lightspeed**4;return a/xe.surface[t]},density(e,t){var a=3*Pe.lightspeed**6/(32*Math.PI*Pe.gravity**3)/e**2;return a/xe.density[t]},gravity(e,t){var a=Pe.lightspeed**4/(4*Pe.gravity)/e;return a/xe.gravity[t]},tide(e,t){var a=Pe.lightspeed**6/(4*Pe.gravity**2)/e**2;return a/xe.tide[t]},time(e,t){var a=e*(Math.PI*Pe.gravity)/Pe.lightspeed**3;return a/xe.time[t]},entropy(e,t){return e**2*(4*Math.PI*Pe.gravity)/(Pe.planckbar*Pe.lightspeed)},temperature(e,t){t*=1;var a=Pe.planckbar*Pe.lightspeed**3/(8*Math.PI*Pe.boltzman*Pe.gravity)/e;if(0===t)return a;if(3===t)return a/xe.temperature[3];var n=xe.temperature[t];return(a-n[1])/n[0]},luminousity(e,t){var a=Pe.planckbar*Pe.lightspeed**6/(15360*Math.PI*Pe.gravity**2)/e**2;return a/xe.luminousity[t]},lifetime(e,t){var a=e**3*(5120*Math.PI*Pe.gravity**2)/(1.8083*Pe.planckbar*Pe.lightspeed**4);return a/xe.lifetime[t]}};var we={name:"ParseMarkup",data(){return{mass:{value:1,unity:0,last:0},radius:{value:1,unity:4,last:4},surface:{value:1,unity:4,last:4},density:{value:1,unity:0,last:0},gravity:{value:1,unity:1,last:1},tide:{value:1,unity:1,last:1},time:{value:1,unity:8,last:8},entropy:{value:1,unity:0,last:0},temperature:{value:1,unity:0,last:0},luminousity:{value:1,unity:0,last:0},lifetime:{value:1,unity:4,last:4}}},mounted(){var e=this.$refs.CalTable.querySelectorAll(".line .express");[].forEach.call(e,async e=>{MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])}),this.calculate("mass"),callPageLoaded()},methods:{calculate(e){var t=Fe[e](this[e]);for(let a in Te)a!==e&&(this[a].value=Te[a](t,this[a].unity))},changeUnity(e){var t=this[e];if(t.last+""===t.unity+"")return;let a=t.value;if("temperature"===e){let e;if(1*t.last===3)e=a*xe.temperature[t.last];else if(1*t.last>0){let n=xe.temperature[t.last];e=a*n[0]+n[1]}else e=a;if(1*t.unity===0)a=e;else if(1*t.unity===3)a=e/xe.temperature[3];else{let n=xe.temperature[t.unity];a=(e-n[1])/n[0]}}else{let n=xe[e];a=t.value*n[t.last]/n[t.unity]}t.value=a,t.last=t.unity}}};a("0333");we.render=$e,we.__scopeId="data-v-22911782";t["default"]=we}}]);
-//# sourceMappingURL=chunk-66c60e80.js.map
\ No newline at end of file
diff --git a/js/index.js b/js/index.js
index 8b7680f..01b065d 100644
--- a/js/index.js
+++ b/js/index.js
@@ -1,2 +1,2 @@
-(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],d=0,u=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);h&&h(t);while(u.length)u.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var s=a[i];0!==n[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var r={},i={index:0},n={index:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+".js"}function c(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-0b878644":1,"chunk-128206d4":1,"chunk-235ac417":1,"chunk-2498186d":1,"chunk-38f9ca80":1,"chunk-5b60140f":1,"chunk-66c60e80":1,"chunk-7f0a1c05":1,"chunk-7fcc32b6":1,"chunk-9f0ca2e2":1,"chunk-dd9d4c74":1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=new Promise((function(t,a){for(var r="css/"+({}[e]||e)+".css",n=c.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var l=o[s],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===r||d===n))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){l=u[s],d=l.getAttribute("data-href");if(d===r||d===n)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||n,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete i[e],h.parentNode.removeChild(h),a(o)},h.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){i[e]=0})));var r=n[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,a){r=n[e]=[t,a]}));t.push(r[2]=o);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e);var u=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(h);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",u.name="ChunkLoadError",u.type=r,u.request=i,a[1](u)}n[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(a,r,function(t){return e[t]}.bind(null,r));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var h=d;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0747":function(e,t,a){"use strict";(function(e){const a=e=>{var t={};return e.forEach(e=>{var r={name:e.name,type:e.type};e.subs&&(r.subs=a(e.subs)),t[e.category]=r}),t};var r;e.getPathNameList=(t,a=!0)=>{if(!e.SiteMap)return null;var r=e.SiteMap,i=[],n=[];return t.some((e,t)=>{if(!r)return!0;var a=r[e];if(!a)return!0;var o={name:a.name};i.push(e),"page"===a.type?o.path="/"+i.join("/"):"viewer"!==a.type&&"view"!==a.type&&"folder"!==a.type||(o.path="/category",o.query={c:i.join(",")}),r=a.subs,n.push(o)}),a&&n.unshift({name:"首页",path:"/"}),n},PageBroadcast.on("route-updated",e=>{r&&r.disableFavoriteAction()}),PageBroadcast.on("memory-updated",e=>{var t,a=!0;if("history"===e.type)t="memory/history";else if("favorite"===e.type)t="memory/favorite";else{if("unfavorite"!==e.type)return;t="memory/favorite",a=!1}var i=localStorage.get(t,[]),n=-1;i.some((t,a)=>{if(t[1]===e.url)return n=a,!0}),n>=0&&i.splice(n,1),a&&(i.unshift([e.title,e.url]),i.length>10&&i.splice(10,i.length-10)),localStorage.set(t,i),r&&r.updateMemory()}),t["a"]={name:"NavBar",data(){return{menu:[{name:"随笔",type:"viewer",category:"essay",subs:[{name:"头脑风暴",type:"viewer",category:"mindstorm"},{name:"书评影评",type:"viewer",category:"reviews"},{name:"闲扯",type:"viewer",category:"issue"}]},{name:"格物致知",type:"viewer",category:"science",subs:[{name:"数学",type:"viewer",category:"math",subs:[{name:"组合数学",type:"viewer",category:"combination"},{name:"数论",type:"viewer",category:"number"},{name:"几何",type:"viewer",category:"geometry"}]},{name:"物理",type:"viewer",category:"physics",subs:[{name:"广义相对论",type:"viewer",category:"gravity"},{name:"规范场论",type:"viewer",category:"gauge"},{name:"复杂网络",type:"viewer",category:"complexnetwork"},{name:"量子计算",type:"viewer",category:"quantumcompute"},{name:"虚构",type:"viewer",category:"virtual"}]},{name:"算法信息论",type:"viewer",category:"AIT"},{name:"IT相关",type:"viewer",category:"IT",subs:[{name:"区块链",type:"viewer",category:"blockchain"}]}]},{name:"虚拟世界",type:"viewer",category:"novel",subs:[{name:"科幻",type:"viewer",category:"scific"},{name:"奇幻",type:"viewer",category:"magic"},{name:"推理",type:"viewer",category:"detective"}]},{name:"实用工具",type:"folder",category:"tools",subs:[{name:"解析 MarkUp",type:"page",category:"parseMarkup"},{name:"本地文库",type:"page",category:"localLibrary"},{name:"黑洞计算器",type:"page",category:"blackholeCalculator"},{name:"计算器（迁移中）",type:"page",category:"calculator"}]},{name:"休闲娱乐",type:"folder",category:"entertain",subs:[{name:"诡异哥布林与不靠谱守卫",type:"page",category:"ballcrush"},{name:"五子棋",type:"page",category:"rushgo"},{name:"自虐式炼脑",type:"page",category:"training"},{name:"终极生命",type:"page",category:"ultralife"},{name:"CyberAvatorArena (内测)",type:"page",category:"cyberavatorarena"},{name:"三消俄罗斯方块（迁移中）",type:"page",category:"tritetris"},{name:"无尽2048（迁移中）",type:"page",category:"infinity2048"}]},{name:"资料库",type:"viewer",category:"library",subs:[{name:"颜色表",type:"page",category:"",subs:[{name:"Web常用色彩表",type:"page",category:"webcolor"},{name:"中国古代常用色",type:"page",category:"chinesecolor"},{name:"日本古代常用色",type:"page",category:"japanesecolor"}]},{name:"码库",type:"page",category:"",subs:[{name:"MarkUp 语法表",type:"page",category:"markup"},{name:"LaTeX 数学公式",type:"page",category:"latex"}]},{name:"常用数据",type:"article",category:"library/data.md"},{name:"有趣好站",type:"article",category:"library/website.md"}]}],aboutMe:"aboutMe",aboutMenu:[{name:"收藏",type:"action",category:"addFavorite",disabled:!0},{name:"搜索",type:"page",category:"search"},{name:"配色",type:"action",category:"color",subs:[{name:"亮",type:"action",category:"light"},{name:"淡",type:"action",category:"normal"},{name:"黯",type:"action",category:"dark"}]},{name:"设置",type:"page",category:"",subs:[{name:"秘钥管理",type:"action",category:"keyManager"},{name:"本站",type:"page",category:"about"}]}],memoryMenu:{name:"记忆宫殿",type:"page",category:"",subs:[{name:"收藏夹",type:"page",category:"",subs:[]},{name:"浏览历史",type:"page",category:"",subs:[]}]}}},mounted(){r=this,this.aboutMe?(this.aboutMenu[3].subs[1]={name:"关于",type:"page",category:"",subs:[this.aboutMenu[3].subs[1]]},this.aboutMenu[3].subs[1].subs.unshift({name:"本站",type:"page",category:this.aboutMe}),this.aboutMenu[3].subs[1].subs[1].name="系统"):this.aboutMenu[3].subs[1].name="关于",1===memoryMode?this.memoryMenu.name="浏览历史":2===memoryMode&&(this.memoryMenu.name="收藏夹"),this.menu.push(this.memoryMenu),this.updateMemory(),e.SiteMap=a(this.menu),e.CatePathMap={},e.CateNameMap={},this.generateSiteMap(CatePathMap,CateNameMap,SiteMap)},methods:{toggleHint(){Devices.isMobile&&document.querySelector(".masker").classList.add("show")},backHome(){location.href="/#"},updateMemory(){if(memoryMode<1)return this.aboutMenu[0].disabled=!0,void(this.memoryMenu.disabled=!0);1===memoryMode?this.aboutMenu[0].disabled=!0:this.aboutMenu[0].disabled=!1;var e=[],t=[];if(2!==memoryMode&&(e=localStorage.get("memory/history",e)),1!==memoryMode&&(t=localStorage.get("memory/favorite",t)),0===e.length&&0===t.length)this.memoryMenu.disabled=!0,memoryMode>1&&(this.aboutMenu[0].name="添加收藏",this.aboutMenu[0].category="addFavorite");else{if(this.memoryMenu.disabled=!1,0===e.length)1===this.memoryMode?this.memoryMenu.disabled=!0:this.memoryMode>2&&(this.memoryMenu.subs[1].disabled=!0);else{let t;1===memoryMode?t=this.memoryMenu:memoryMode>2&&(t=this.memoryMenu.subs[1]),t.disabled=!1,t.subs.length>e.length&&t.subs.splice(e.length,t.subs.length-e.length),e.forEach((e,a)=>{t.subs[a]={name:e[0],type:"article",category:e[1]}})}if(0===t.length)2===this.memoryMode?(this.memoryMenu.disabled=!0,this.aboutMenu[0].name="添加收藏",this.aboutMenu[0].category="addFavorite"):this.memoryMode>2&&(this.memoryMenu.subs[0].disabled=!0,this.aboutMenu[0].name="添加收藏",this.aboutMenu[0].category="addFavorite");else{let e;this.memoryMenu.subs[0].disabled=!1,2===memoryMode?e=this.memoryMenu:memoryMode>2&&(e=this.memoryMenu.subs[0]),e.disabled=!1,e.subs.length>t.length&&e.subs.splice(t.length,e.subs.length-t.length);let a=!1;t.forEach((t,r)=>{e.subs[r]={name:t[0],type:"article",category:t[1]},t[1]===(window.PageInfo||"").url&&(a=!0)}),a?(this.aboutMenu[0].name="取消收藏",this.aboutMenu[0].category="removeFavorite"):(this.aboutMenu[0].name="添加收藏",this.aboutMenu[0].category="addFavorite")}}},disableFavoriteAction(){this.aboutMenu[0].disabled=!0},generateSiteMap(e,t,a,r=""){for(let i in a){if(!i)continue;let n=a[i],o=r+"/"+i;t[n.name]=o,e[o]=n.name;let s=n.subs;s&&this.generateSiteMap(e,t,s,o)}}}}}).call(this,a("950f"))},1214:function(e,t){if(window.totalDecodeURI=e=>{var t=decodeURIComponent(e);return t===e?t:totalDecodeURI(t)},window.useSharedWorker=!!window.SharedWorker,useSharedWorker){let e=new Map,t=()=>Math.floor(1e8*Math.random()),a="Shared-Worker DataCenter",r=new SharedWorker("/js/worker/dataCenter.js"),i=r.port;i.onmessage=({data:t})=>{console.log(a+" finished task-"+t.tid);var r=e.get(t.tid);e.delete(t.tid),r&&r(t.result)};let n=e=>{i.postMessage(e)};window.DataCenter={get:(r,i,o)=>new Promise(s=>{var c=t();e.set(c,s),console.log(a+" start task-"+c+": get : "+r+"/"+i+"/"+o),n({tid:c,action:"get",dbName:r,store:i,key:o})}),set:(r,i,o,s)=>new Promise(c=>{var l=t();e.set(l,c),console.log(a+" start task-"+l+": set : "+r+"/"+i+"/"+o),n({tid:l,action:"set",dbName:r,store:i,key:o,value:s})}),all:(r,i,o)=>new Promise(s=>{var c=t();e.set(c,s),console.log(a+" start task-"+c+": all : "+r+"/"+i+"/"+(o||"default")),n({tid:c,action:"all",dbName:r,store:i,key:o})}),del:(r,i,o)=>new Promise(s=>{var c=t();e.set(c,s),console.log(a+" start task-"+c+": del : "+r+"/"+i+"/"+o),n({tid:c,action:"del",dbName:r,store:i,key:o})}),clear:(r,i)=>new Promise(o=>{var s=t();e.set(s,o),console.log(a+" start task-"+s+": clear : "+r+"/"+i),n({tid:s,action:"clear",dbName:r,store:i})}),searchArticle:async r=>new Promise(i=>{var o=t();e.set(o,i),console.log(a+" start task-"+o+": search : "+r),n({tid:o,action:"searchArticle",command:r,prefix:[Barn.API,Barn.DataGranary],map:CatePathMap})})}}window.Barn={server:"",API:"/api",DataGranary:"/api/granary",dbName:"APIData",async init(){useSharedWorker||(await loadJS("./js/worker/dataCenter.js"),await DataCenter.init())},quests:new Map,waitForRequest:e=>new Promise(t=>{var a=Barn.quests.get(e);a?a.push(t):t(null)}),get(e,t=!1,a=0){return new Promise(async r=>{var i=await DataCenter.get(Barn.dbName,"data",e);if(!(i&&(r(i.data),t&&a<=i.update)))if(Barn.quests.get(e)){let t=await Barn.waitForRequest(e);i||r(t)}else{let t;Barn.quests.set(e,[]);try{t=await axios.get(Barn.server+e)}catch(n){t=null,console.error(n)}if(t&&(t=t.data),t){await DataCenter.set(Barn.dbName,"data",e,{data:t,update:a||Date.now()});let r=i&&i.data.update||0,n=t.update||0;if(n>r||void 0===t.update){let t={latest:n,last:r},a=!!e.match(/(^sources|[\\\/]sources)\.json$/i);if(a?t.target="SOURCE":(0===e.indexOf(Barn.DataGranary)&&(e=e.replace(Barn.DataGranary,"")),t.target=e),window.BroadcastChannel){let e=new BroadcastChannel("source-updated");e.postMessage(t)}else PageBroadcast.emit("source-updated",t)}}let o=Barn.quests.get(e);Barn.quests.delete(e),i||r(t),o&&o.forEach(e=>e(t))}})},async clearAllCache(){await DataCenter.clear(Barn.dbName,"data")}},window.Granary={async getSource(e,t,a){e=totalDecodeURI(e);var r={articles:[],comments:[]};return await Promise.all(Array.generate(t+1).map(async t=>{var i=Barn.API+"/"+e+"-"+t+".json",n=await Barn.get(i,!0,a);String.is(n)||(r.articles.push(...n.articles),r.comments.push(...n.comments))})),r.articles.sort((e,t)=>t.publish-e.publish),r.comments.sort((e,t)=>t.publish-e.publish),r},async getCategory(e,t=0,a=10){e=totalDecodeURI(e);var r=await Barn.get(Barn.API+"/sources.json",!1),i=[];if(!r||!r.sources)return i;var n=r.update||0,o=r.sources.map(async t=>{var a=await Granary.getSource(t.owner,t.pages,n);a=a.articles.filter(t=>0===t.sort.indexOf(e)),i.push(...a)});o.push((async()=>{var t="/"+e,a=await BookShelf.getAllArticles();a.reverse().forEach(e=>{e.category=e.category||[],e.category.forEach(a=>{if(0===a.indexOf(t)){var r={type:"local",title:e.title,author:e.author,description:e.description,filename:e.id,publish:e.publish,sort:a};i.push(r)}})})})()),await Promise.all(o);var s={};return i.forEach(e=>{var t=null;if("article"===e.type)t=e.sort+"/"+e.filename;else if("redirect"===e.type)t=e.target;else{if("local"!==e.type)return;t=e.filename}var a=s[t];(!a||e.publish>a.publish)&&(s[t]=e)}),i=Object.values(s),i.sort((e,t)=>t.publish-e.publish),i=i.splice(t*a,a),i},async getColumnHeader(e){e=totalDecodeURI(e);var t=await Barn.get(Barn.API+"/sources.json",!1);t=t||{},t.update=t.update||0;var a,r=Barn.DataGranary+"/";e&&(r=r+e+"/"),r+="info.md";try{a=await Barn.get(r,!0,t.update),a=a||""}catch(i){a=""}return a},async getArticle(e,t=0){if(e=totalDecodeURI(e),t<=0){var a=await Barn.get(Barn.API+"/sources.json",!1);a=a||{},t=a.update||0}var r;e=Barn.DataGranary+"/"+e;try{r=await Barn.get(e,!0,t),r=r||""}catch(i){r="你所寻找的文件不存在！"}return r},async getContent(e,t=!0){if(e=totalDecodeURI(e),t){var a=await Barn.get(Barn.API+"/sources.json",!1);a=a||{},timestamp=a.update||0}var r;try{r=await Barn.get(e,t,timestamp),r=r||""}catch(i){r="你所寻找的文件不存在！"}return r},async clearAllCache(){sessionStorage.clear();var e=[Barn.clearAllCache()];window.caches&&e.push(caches.delete("schwarzschild")),await Promise.all(e)}},window.BookShelf={dbName:"localBookShelf",newLongID(){var e=[];for(let t=0;t<32;t++){let t=Math.floor(62*Math.random());t<10?e.push(t+""):t<36?e.push(String.fromCharCode(t+87)):e.push(String.fromCharCode(t+29))}return e.join("")},async getAllArticles(){return await DataCenter.all(BookShelf.dbName,"list","publish")},async getArticle(e){return await DataCenter.get(BookShelf.dbName,"article",e)},async saveArticle(e){var t={id:e.id,title:e.title,category:e.category,author:e.author,description:e.description,publish:e.publish},a={id:e.id,title:e.title,content:e.content};if(await Promise.all([DataCenter.set(BookShelf.dbName,"list",e.id,t),DataCenter.set(BookShelf.dbName,"article",e.id,a)]),window.BroadcastChannel){let t=new BroadcastChannel("local-article-updated");t.postMessage(e.id)}},async removeArticle(e){await Promise.all([DataCenter.del(BookShelf.dbName,"list",e),DataCenter.del(BookShelf.dbName,"article",e)])}}},2294:function(e,t,a){},3202:function(e,t){(async()=>{if(navigator.serviceWorker){if(window.caches){let e=await caches.keys();e.length>0&&e.forEach(async e=>{var t=await caches.open(e),a=await t.keys();console.log("资源缓存库 "+e+": "+a.length)})}try{let e=await navigator.serviceWorker.getRegistrations();console.log("Service Worker: "+e.length);for(let t of e)t.waiting&&(console.log("有等待中的新版本 Service Worker"),notify({title:"有新版网站中台等待更新",message:"新版 Service Worker 将在下次打开本页面后启用。",duration:5e3,type:"warn"}))}catch(e){console.error("获取已安装 Service 出错：",e)}try{let e=await navigator.serviceWorker.register("/priory.js");e.onupdatefound=e=>{e.target.update()},console.log("安装 Service Worker "+(e?"成功":"失败"))}catch(e){console.error("安装本地 Service 出错：",e)}}})()},"346c":function(e,t,a){},"3dfd":function(e,t,a){"use strict";var r=a("79c4");const i={id:"container"},n=Object(r["h"])("div",{id:"footnoteFrame"},null,-1),o=Object(r["h"])("i",{class:"fas fa-angle-up"},null,-1);function s(e,t,a,s,c,l){const d=Object(r["x"])("NavBar"),u=Object(r["x"])("loading"),h=Object(r["x"])("Notification"),m=Object(r["x"])("InfoBox"),p=Object(r["x"])("ImageShowcase"),g=Object(r["x"])("KeyManager"),f=Object(r["x"])("router-view"),y=Object(r["x"])("TailBar");return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])(d),Object(r["h"])(u),Object(r["h"])(h,{hAlign:"right",vAlign:"top"}),Object(r["h"])(m),Object(r["h"])(p),Object(r["h"])(g),Object(r["h"])("div",i,[Object(r["h"])(f)]),n,Object(r["h"])(y),Object(r["h"])("div",{class:"backer",show:c.overscroll,onClick:t[1]||(t[1]=(...e)=>l.backTop&&l.backTop(...e))},[o],8,["show"]),Object(r["h"])("div",{ref:"masker",class:"masker",onClick:t[2]||(t[2]=(...e)=>l.onClick&&l.onClick(...e))},null,512)],64)}var c={name:"App",data(){return{overscroll:!1}},mounted(){app.onscroll=this.onScroll},methods:{onScroll(){app.scrollTop>=app.offsetHeight?this.overscroll||(this.overscroll=!0):this.overscroll&&(this.overscroll=!1),PageBroadcast.emit("page-scroll",{top:app.scrollTop,total:app.scrollHeight,height:app.offsetHeight})},onClick(){this.$refs.masker.classList.remove("show")},backTop(){app.scrollBy({top:-app.scrollTop,behavior:"smooth"})}}};c.render=s;t["a"]=c},"4cf0":function(e,t,a){},"4fd0":function(e,t,a){"use strict";var r=a("79c4");const i={class:"title"},n={ref:"content",class:"content"},o={key:0,class:"inputter"},s={class:"controller"};function c(e,t,a,c,l,d){return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("div",{class:"infobox-mask",show:l.show},null,8,["show"]),Object(r["h"])("div",{class:"infobox-frame scroller",show:l.show},[Object(r["h"])("div",i,Object(r["z"])(l.title),1),Object(r["h"])("div",n,null,512),l.showInput?(Object(r["q"])(),Object(r["d"])("div",o,[Object(r["h"])("input",{ref:"inputter",type:"text",onKeydown:[t[1]||(t[1]=Object(r["F"])(e=>d.onClick("ok"),["esc"])),t[2]||(t[2]=Object(r["F"])(e=>d.onClick("cancel"),["enter"]))]},null,544)])):Object(r["e"])("",!0),Object(r["h"])("div",s,[Object(r["h"])("div",{class:"btn",action:"yes",hidden:!l.actYes,onClick:t[3]||(t[3]=e=>d.onClick("yes"))},"是",8,["hidden"]),Object(r["h"])("div",{class:"btn",action:"no",hidden:!l.actNo,onClick:t[4]||(t[4]=e=>d.onClick("no"))},"否",8,["hidden"]),Object(r["h"])("div",{class:"btn",action:"ok",hidden:!l.actOk,onClick:t[5]||(t[5]=e=>d.onClick("ok"))},"确定",8,["hidden"]),Object(r["h"])("div",{class:"btn",action:"cancel",hidden:!l.actCancel,onClick:t[6]||(t[6]=e=>d.onClick("cancel"))},"取消",8,["hidden"])])],8,["show"])],64)}var l,d,u;window.showInfobox=async e=>{if(l)return await l.showInfoBox(e)};var h={name:"InfoBox",data(){return{show:!1,title:"",showInput:!1,actYes:!1,actNo:!1,actOk:!1,actCancel:!1}},install(e){a("86ba"),e.component("InfoBox",this)},mounted(){l=this},methods:{showInfoBox(e){return new Promise(t=>{this.show||(String.is(e)?(this.title=e,this.actOk=!0,this.actYes=!1,this.actNo=!1,this.actCancel=!1):(this.title=e.title||"",e.mode=e.mode||"",this.showInput=!!e.input,"html"===e.mode.toLowerCase()?this.$refs.content.innerHTML=e.content||"":this.$refs.content.innerText=e.content||"",e.action=e.action.toLowerCase(),this.actYes=e.action.indexOf("y")>=0,this.actNo=e.action.indexOf("n")>=0,this.actOk=e.action.indexOf("o")>=0,this.actCancel=e.action.indexOf("c")>=0),u&&u(null,null,this),u=t,d&&d(null,null,this),d=e.callback,this.show=!0)})},onClick(e){if(("yes"!==e||this.actYes)&&("no"!==e||this.actNo)&&("ok"!==e||this.actOk)&&("cancel"!==e||this.actCancel)){var t=null;this.$refs.inputter&&(t=this.$refs.inputter.value),u&&u(e,t||null,this),u=null,d&&d(e,t||null,this),d=null,this.show=!1,this.$refs.inputter&&(this.$refs.inputter.value="")}}}};h.render=c;t["a"]=h},5103:function(e,t,a){"use strict";var r=a("79c4");const i={class:"keyManagerFrame"},n=Object(r["h"])("div",{class:"title"},"秘钥管理",-1),o=Object(r["h"])("div",{class:"desc"},"秘钥将用于加密阅读",-1),s={class:"keyListArea"},c=Object(r["h"])("i",{class:"fas fa-times"},null,-1),l={class:"controlBox"};function d(e,t,a,d,u,h){return Object(r["q"])(),Object(r["d"])("div",{class:"KeyManager",show:u.show,onClick:t[3]||(t[3]=(...e)=>h.close&&h.close(...e))},[Object(r["h"])("div",i,[n,o,Object(r["h"])("div",s,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(u.keyList,e=>(Object(r["q"])(),Object(r["d"])("div",{class:"keyItem",current:e.current},[Object(r["h"])("div",{class:"keyContent",onClick:t=>h.chooseKey(e.key)},Object(r["z"])(e.key),9,["onClick"]),e.editable?(Object(r["q"])(),Object(r["d"])("div",{key:0,class:"keyDeleter",onClick:t=>h.removeKey(e.key,e.editable)},[c],8,["onClick"])):Object(r["e"])("",!0)],8,["current"]))),256))]),Object(r["h"])("div",l,[Object(r["h"])("input",{ref:"keyInputter",type:"text",onKeydown:t[1]||(t[1]=(...e)=>h.onEnter&&h.onEnter(...e))},null,544),Object(r["h"])("button",{onClick:t[2]||(t[2]=(...e)=>h.appendKey&&h.appendKey(...e))},"添加")])])],8,["show"])}const u="ob5n5mojn0f6XgqSL1p/rIn9EiSOGUxFjpofSKb6PDc=";localStorage.CurrentKey||(localStorage.CurrentKey=u);var h=null;PageBroadcast.on("setting",e=>{h&&"KeyManager"===e.action&&(h.update(),h.show=!0)});var m={name:"KeyManager",data(){return{show:!1,keyList:[]}},created(){h=this;var e=localStorage.getItem("CurrentKey");e||localStorage.setItem("CurrentKey",u)},methods:{update(){var e=localStorage.getItem("CurrentKey");e||(localStorage.setItem("CurrentKey",u),e=u),this.keyList.clear(),this.keyList.push({key:u,editable:!1,current:e===u});var t=localStorage.get("keyList",[]);0!==t.length&&this.keyList.push(...t.map(t=>({key:t,editable:!0,current:e===t})))},close(e){e.target===this.$el&&(this.show=!1)},chooseKey(e){localStorage.setItem("CurrentKey",e),this.keyList.forEach(t=>t.current=t.key===e),notify({type:"success",title:"密钥更换成功"})},removeKey(e,t){if(t){if(e){var a=-1;if(this.keyList.some((t,r)=>{if(t.key===e)return a=r,!0}),!(a<0)){this.keyList.splice(a,1),notify({type:"success",title:"成功删除密钥"+e});var r=this.keyList.map(e=>e.key);r.splice(0,1),localStorage.set("keyList",r)}}}else notify({type:"warn",title:"该密钥不可删除"})},appendKey(){var e=this.$refs.keyInputter.value;if(!e)return notify({type:"warn",title:"请输入密钥数据"}),void this.$refs.keyInputter.focus();this.keyList.push({key:e,editable:!0,current:!1}),this.$refs.keyInputter.value="",notify({type:"success",title:"成功添加密钥"+e});var t=this.keyList.map(e=>e.key);t.splice(0,1),localStorage.set("keyList",t)},onEnter(e){13===e.keyCode&&this.appendKey()}}};m.render=d;t["a"]=m},"55c7":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t),function(e){a("f5f8"),a("b43b"),a("94b5"),a("3202"),a("1214"),a("cf03"),a("6ae3"),a("fc58");var t=a("79c4"),r=a("7338"),i=a.n(r),n=a("3dfd"),o=a("a18c"),s=a("c428"),c=a("75be"),l=a("4fd0"),d=a("9d8d"),u=a("b2e4"),h=a("d61b"),m=a("bfef"),p=a("5103"),g=a("aab0"),f=a("8397"),y=a("c531");a("346c"),a("aa46"),a("5aea"),a("2294"),a("9a67"),a("4cf0"),a("6851"),a("899d"),a("55c7"),a("6f45"),a("8f09"),a("c879"),e.axios=i.a,e.memoryMode=3,Devices.isMobile?document.body.classList.add("mobile"):document.body.classList.add("notmobile"),(async()=>{if(await LifeCycle.emit.loaded()){await Promise.all([Barn.init(),InitAsimov()]);const e=Object(t["c"])(n["a"]);if(e.config.globalProperties.SiteName="超科技现象统计局",e.config.globalProperties.SiteOwner="LostAbaddon",e.config.globalProperties.LikeCoin=null,e.use(c["a"]),e.use(l["a"]),e.component("Loading",s["a"]),e.component("NavBar",d["a"]),e.component("NavMenuBar",u["a"]),e.component("NavMenuItem",h["a"]),e.component("TailBar",m["a"]),e.component("KeyManager",p["a"]),e.component("ImageShowcase",g["a"]),e.component("Crumb",f["a"]),e.component("Column",y["a"]),await LifeCycle.emit.ready(e)){e.use(o["a"]).mount("#app"),o["a"].app=e,document.body.addEventListener("keydown",e=>{"s"===e.key&&e.ctrlKey&&(o["a"].push({path:"/search"}),e.preventDefault())}),await LifeCycle.emit.initialized(e);let t=sessionStorage.getItem("sourceUpdated");t&&(sessionStorage.removeItem("sourceUpdated"),notify({title:"网站有新数据",message:t+" 已更新\n刷新可浏览新内容",duration:3e3,type:"success"}))}}})()}.call(this,a("950f"))},"5aea":function(e,t,a){},6851:function(e,t,a){},"6ae3":function(e,t){(()=>{var e,t;const a=async a=>{var r=a.target,i=r.className,n=r.getAttribute("href");if(n&&"#"===n.substr(0,1)){n=n.substring(1,n.length);var o=t.querySelector('a[name="'+n+'"]');if(o){var s=o.parentElement.innerHTML.replace(o.outerHTML,""),c="";"terminology"===i&&(c='<p class="note-title">'+r.innerText+"</p>"),c+='<p class="note-content">'+s+"</p>",e.innerHTML=c,e._status=1;var l=r.getBoundingClientRect(),d=!0,u=!0,h=l.left-10,m=l.top+l.height+10;h>.6*window.innerWidth&&(u=!1,h=window.innerWidth-l.right),m>.7*window.innerHeight&&(d=!1,m=window.innerHeight-l.top),u?(e.style.left=h+"px",e.style.right=""):(e.style.left="",e.style.right=h+"px"),d?(e.style.top=m+"px",e.style.bottom=""):(e.style.top="",e.style.bottom=m+"px"),e.style.display="block",await wait(50),e.style.opacity="1",e._status=2}}},r=async t=>{e.style.opacity="0",await wait(200),2===e._status&&(e.style.display="none",e._status=0)},i=async a=>{var r=a.target,i=r.className;if("notemark"===i||"terminology"===i){var n=r.computedStyleMap();n=n.get("text-decoration").toString();var o=!1;if(n.indexOf("underline")>=0&&(o=!0),o){var s=r.getAttribute("href");if("#"!==s.substr(0,1))return;s=s.substring(1,s.length);var c=t.querySelector('a[name="'+s+'"]');if(!c)return;var l=c.parentElement.innerHTML.replace(c.outerHTML,""),d="";"terminology"===i&&(d='<p class="note-title">'+r.innerText+"</p>"),d+='<p class="note-content">'+l+"</p>",e.innerHTML=d,e._status=1;var u=r.getBoundingClientRect(),h=!0,m=!0,p=u.left-10,g=u.top+u.height+10;p>.6*window.innerWidth&&(m=!1,p=window.innerWidth-u.right),g>.7*window.innerHeight&&(h=!1,g=window.innerHeight-u.top),m?(e.style.left=p+"px",e.style.right=""):(e.style.left="",e.style.right=p+"px"),h?(e.style.top=g+"px",e.style.bottom=""):(e.style.top="",e.style.bottom=g+"px"),e.style.display="block",await wait(50),e.style.opacity="1",e._status=2}else e.style.opacity="0",await wait(200),2===e._status&&(e.style.display="none",e._status=0)}},n=(e,t)=>{Devices.isMobile||e.querySelectorAll(t).forEach(e=>{var t=e.getAttribute("footnote_inited");t||(e.addEventListener("mouseleave",r),e.addEventListener("mouseenter",a),e.setAttribute("footnote_inited",!0))})},o=(e,t)=>{Devices.isMobile||e.querySelectorAll(t).forEach(e=>{var t=e.getAttribute("footnote_inited");t&&(e.removeEventListener("mouseleave",r),e.removeEventListener("mouseenter",a),e.removeAttribute("footnote_inited"))})};window.InitNotes=a=>{e=document.querySelector("#footnoteFrame"),e._status=e._status||0,t!==a&&t&&destructe(),t=a;var r=a.getAttribute("footnoted");r||(a.setAttribute("footnoted",!0),a.addEventListener("transitionstart",i)),n(a,"a.notemark"),n(a,"a.terminology")},window.destructe=()=>{t.removeEventListener("transitionstart",i),o(UI,"a.notemark"),o(UI,"a.terminology")};const s=e=>{var t,a,r=!0;if((e.tagName+"").match(/th/i)){if("true"!==e.getAttribute("sortable"))return[null,null];a=e}else{a=e;while(r){if(a=a.parentNode,!a)return[null,null];if((a.tagName+"").match(/th/i)){if("true"===a.getAttribute("sortable")){r=!1;break}return[null,null]}}}if(t=a.parentNode,t.tagName.match(/table/i))return[t,a];r=!0;while(r){if(t=t.parentNode,!t)return[null,null];if(t.tagName.match(/table/i))return r=!1,[t,a]}return[null,null]};document.body.addEventListener("click",e=>{var[t,a]=s(e.target);if(t&&a){var r=-1;if([].some.call(a.parentNode.children,(e,t)=>{if(e===a)return r=t,!0}),!(r<0)){var i=a.getAttribute("sortdir");i="down"!==i?"down":"up",[].forEach.call(a.parentNode.querySelectorAll("th"),e=>{e!==a?e.removeAttribute("sortdir"):e.setAttribute("sortdir",i)});var n=[].map.call(t.querySelectorAll("tbody > tr"),e=>e);n=n.map((e,t)=>{var a=[].map.call(e.querySelectorAll("td"),e=>e)[r],i=1*a.innerText;return isNaN(i)&&(i=0),[t,i,e]}),n.sort((e,t)=>"up"===i?t[1]-e[1]:e[1]-t[1]),n.forEach(([e,t,a])=>{var r=a.parentNode;r.appendChild(a)})}}});var c=25,l=5,d=50,u=["rgb(222, 28, 49)","rgb(152, 54, 128)","rgb(15, 89, 164)","rgb(18, 161, 130)","rgb(254, 215, 26)"];const h=e=>{if(!(e._index>=e._limit)){var t=e._data[e._index].copy(),a=t.splice(0,1)[0];e._hint?e._titleHint.innerText="("+e._hint+": "+a+")":e._titleHint.innerText="("+a+")";var r=[],i=[];t.forEach((e,t)=>{Number.is(e)?r.push([t+1,e]):i.push([t+1,e])}),r.sort((e,t)=>t[1]-e[1]),r.length>e._count&&i.unshift(...r.splice(e._count,r.length));var n=0;r.forEach(e=>{var t=e[1];t>n&&(n=t)}),r.forEach((t,a)=>{var r=e._bars[t[0]],i=Math.max(0,t[1]),o=u[a];o||(o=u.last),r.style.top=a*(c+l)+l+"px",r.style.width=Math.round(e._panelWidth*i/n)+"px",r.style.backgroundColor=o,r._value.innerText=t[1]}),i.forEach(t=>{var a=e._bars[t[0]],r=Math.max(0,t[1]);a.style.top=e._count*(c+l)+2*l+"px",a.style.width=Math.round(e._panelWidth*r/n)+"px",a.style.backgroundColor=u.last,a._value.innerText=t[1]}),e._index++,e._index<e._limit?setTimeout(h,e._duration,e):e._replay?(e._replay.style.opacity=1,e._replay.style.pointerEvents="auto"):e._repeat>0&&(e._index=0,setTimeout(h,e._repeat,e))}};window.initTableAnimationChart=()=>{[].forEach.call(document.querySelectorAll("div.animate-chart"),e=>{if(e._duration=1*e.getAttribute("duration"),isNaN(e._duration)&&(e._duration=1e3),e._repeat=1*e.getAttribute("repeatwait"),isNaN(e._repeat)&&(e._repeat=-1),e._count=1*e.getAttribute("barcount"),isNaN(e._count)&&(e._count=3),e._hint=(e.getAttribute("hint")||"").trim(),e._data=e.querySelector(".animate-chart-data"),e._data)if(e._data=e._data.innerText,e._data){try{e._data=JSON.parse(e._data)}catch(a){return void e.parentNode.removeChild(e)}var t=0;e._titleHint=e.querySelector(".animate-chart-title-hint"),e._panel=e.querySelector(".animate-chart-panel"),e._bars=[].map.call(e._panel.querySelectorAll(".animate-chart-bar"),e=>{e._value=e.querySelector(".animate-chart-bar-value");var a=e.querySelector(".animate-chart-bar-title");if(a){let e=Math.ceil(a.getBoundingClientRect().width)+10;e>t&&(t=e)}return e}),e._bars.unshift(null),e._replay=e.querySelector(".animate-chart-replay"),e._replay&&e._replay.addEventListener("click",()=>{e._replay.style.opacity=0,e._replay.style.pointerEvents="none",e._index=0,h(e)}),e._panel.style.height=Math.max(0,e._count*(c+l)+l)+"px",e._panelWidth=e._panel.getBoundingClientRect().width-t-d,e._bars.forEach(e=>{e&&(e.style.left=t+"px")}),e._index=0,e._limit=e._data.length,h(e)}else e.parentNode.removeChild(e);else e.parentNode.removeChild(e)})}})()},"6f45":function(e,t,a){},"75be":function(e,t,a){"use strict";var r,i=a("79c4");function n(e,t,a,r,n,o){return Object(i["q"])(),Object(i["d"])("div",{class:"notifaction-frame",horizontal:a.hAlign,vertial:a.vAlign,onClick:t[1]||(t[1]=(...e)=>o.onClick&&o.onClick(...e))},null,8,["horizontal","vertial"])}var o=new Set;PageBroadcast.on("show-notification",e=>{notify(e)}),window.notify=e=>{r?r.showMessage(e):o.add(e)};var s={name:"Notification",props:{hAlign:String,vAlign:String},install(e){a("7fd5"),e.component("Notification",this)},async mounted(){if(r=this,o){for(let e of o)await wait(),this.showMessage(e);o.clear(),o=null}},methods:{async showMessage(e){String.is(e)&&(e={title:e});var t=e.duration||3e3,a=Math.floor(1e10*Math.random());e.key=a,e.ele=this.newMsg(e),e.ele.exit=async()=>{e.timer&&clearTimeout(e.timer),delete e.timer,e.ele.classList.remove("show"),await wait(300),this.$el.removeChild(e.ele),delete e.ele.exit,delete e.ele},this.$el.appendChild(e.ele),await wait(100),e.ele.classList.add("show"),e.timer=setTimeout(e.ele.exit,t)},newMsg(e){var t=document.createElement("section");if(t.setAttribute("key",e.key),t.setAttribute("type",e.type||"default"),e.title){let a=document.createElement("header");a.innerText=e.title,t.appendChild(a)}if(e.message){let a=document.createElement("article");a.innerText=e.message,t.appendChild(a)}return t},onClick(e){var t=e.target;t&&t.exit&&t.exit()}}};s.render=n;t["a"]=s},"7fd5":function(e,t,a){},8397:function(e,t,a){"use strict";var r=a("79c4");const i={key:0,class:"crumb"},n=Object(r["h"])("span",{class:"hint"},"位置：",-1),o=Object(r["h"])("i",{class:"fas fa-angle-right"},null,-1);function s(e,t,a,s,c,l){return c.show?(Object(r["q"])(),Object(r["d"])("div",i,[n,(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(c.path,(e,t)=>(Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("span",{onClick:t=>l.jump(e.path,e.query)},Object(r["z"])(e.name),9,["onClick"]),o],64))),256))])):Object(r["e"])("",!0)}var c=null;PageBroadcast.on("page-changed",()=>{c&&c.update()});var l={name:"Crumb",data(){return{show:!0,path:[]}},props:{target:String},methods:{jump(e,t){t=Proxy.toObject(t);var a={path:e,query:t};this.$router.push(a),e===this.$route.path&&PageBroadcast.emit("page-changed",a)},update(){var e=null,t="",a=!!this.$route.query.l;if("/"===this.$route.path)e=null;else if("/category"===this.$route.path)this.$route.query&&this.$route.query.c&&(e=decodeURIComponent(this.$route.query.c).split(",").filter(e=>e.length>0),t="viewer");else if("/view"===this.$route.path){let a=this.$route.query.f||this.$route.query.l;this.$route.query&&a&&(e=decodeURIComponent(a).split("/"),e.pop(),e=e.filter(e=>e.length>0),t="view")}else{let a=this.target||this.$route.path;e=a.split("/").filter(e=>e.length>0),t="view"}e?(this.show=!0,this.path.splice(0,this.path.length),"viewer"!==t&&"page"!==t||e.pop(),a&&0===e.length&&e.push("tools","localLibrary"),this.path.push(...getPathNameList(e))):this.show=!1}},mounted(){this.update(),c=this},unmounted(){c=null}};l.render=s;t["a"]=l},"86ba":function(e,t,a){},"899d":function(e,t,a){},"8f09":function(e,t,a){},"94b5":function(e,t,a){(function(e){window.EventEmitter=class{constructor(){this._events=new Map,this._onces=new Map}on(e,t){var a=this._events.get(e);a||(a=new Set,this._events.set(e,a)),a.add(t)}once(e,t){var a=this._events.get(e);a||(a=new Set,this._events.set(e,a)),a.add(t);var r=this._onces.get(e);r||(r=new Set,this._onces.set(e,r)),r.add(t)}off(e,t){var a=this._events.get(e);a&&a.delete(t);var r=this._onces.get(e);r&&r.delete(t)}clear(e){var t=this._events.get(e);t&&(t.clear(),this._events.delete(e));var a=this._onces.get(e);a||(a.clear(),this._onces.delete(e))}clearAll(){for(let[e,t]of this._events)t.clear();this._events.clear();for(let[e,t]of this._onces)t.clear();this._onces.clear()}emit(e,...t){var a=this._events.get(e);if(a){var r=this._onces.get(e);for(let e of a){let i=e(...t);if(r&&r.has(e)&&(a.delete(e),r.delete(e)),i&&!(i instanceof Promise))break}}}async emitPipely(e,...t){var a=this._events.get(e);if(a){var r=this._onces.get(e);for(let e of a){let i=await e(...t);if(r&&r.has(e)&&(a.delete(e),r.delete(e)),i)break}}}},window.PageBroadcast=new EventEmitter,localStorage.__proto__.get=function(e,t={}){var a=this.getItem(e);if(!a)return t;try{a=JSON.parse(a)}catch(r){return t}return a},localStorage.__proto__.set=function(e,t){t=JSON.stringify(t),this.setItem(e,t)},localStorage.__proto__.getWithExpire=function(e,t,a={}){"number"!==typeof t&&(a=t,t=1/0);var r=this.getItem(e);if(!r)return a;try{r=JSON.parse(r)}catch(n){return a}var i=Date.now()-(r.stamp||0);return i>t?(this.removeItem(e),a):r.value},localStorage.__proto__.setWithExpire=function(e,t){t={value:t,stamp:Date.now()},t=JSON.stringify(t),this.setItem(e,t)},window.loadJS=e=>new Promise(t=>{var a=document.createElement("script");a.type="text/javascript",a.src=e,a.onload=t,a.onerror=t,document.body.appendChild(a)}),window.loadCSS=e=>new Promise(t=>{var a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=e,a.onload=t,a.onerror=t,document.body.appendChild(a)}),window.utf8tobase64=e=>window.btoa(window.unescape(window.encodeURIComponent(e))),window.base64toutf8=e=>window.decodeURIComponent(window.escape(window.atob(e))),window.base64tobuffer=e=>{var t=window.escape(window.atob(e)),a=t.length,r=[];for(let n=0;n<a;n++){let e=t.substr(n,1);if("%"===e){e=t.substr(n+1,2);try{e=parseInt(e,16)}catch(i){return console.error("输入 base64 字符串格式错误：",i),null}r.push(e),n+=2}else r.push(e.charCodeAt(0))}return r=new Uint8Array(r),r},window.findContentWrapper=e=>{if(!e)return e;while(1){let t=(e.nodeName||"").toLowerCase();if(!["span","font","sup","sub","i","u","b","del","em","strong","code"].includes(t))return e;e=e.parentElement}},window.onVueHyperLinkTriggered=(e,t)=>{var a=findContentWrapper(t.target);if("a"!==(a.nodeName||"").toLowerCase())return!1;var r=a.getAttribute("href");if(!r)return!1;if(0===r.indexOf("#/"))r=r.replace(/^#+[\\\/]+/,""),r=r.split(/[\\\/]+/),r={path:"/category",query:{c:r.join(",")}};else{if(0===r.indexOf("#")){r=r.replace(/^#+/,"");let e=document.querySelector('[name="'+r+'"]');if(e){let t=document.body.querySelector("#app");if(t){let a=(e.offsetTop||0)-t.scrollTop;Devices.isMobile||(a-=25),t.scrollBy({top:a,behavior:"smooth"})}}return t.preventDefault(),!0}if(0===r.indexOf("/page/#/"))r=r.replace(/^[\\\/]+page[\\\/]+#+[\\\/]+/,"/"),r={path:r};else if(0===r.indexOf("/page/"))r=r.replace("/page/","/"),r={path:r};else{if(0!==r.indexOf("/article/"))return!1;r=r.replace("/article/",""),r=encodeURIComponent(r),r={path:"/view",query:{f:r}}}}t.preventDefault();var i=location.hash.replace(/^#+/,"").split("?")[0];return e.$router.push(r),r.path===i&&PageBroadcast.emit("page-changed",r),!0},window.initMathJax=()=>{initMathJax.initialized||(initMathJax.initialized=!0,MathJax.Hub.Config({extensions:["tex2jax.js"],TeX:{extensions:["AMSmath.js","AMSsymbols.js"]},jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]]},"HTML-CSS":{availableFonts:["STIX","TeX"],showMathMenu:!1}}))},window.afterMarkUp=async(e,t)=>{e||(e=document.body.querySelector("article.markup-content"),e||(e=document.body.querySelector("#container"))),InitNotes(document.body.querySelector("#container")),initMathJax(),Function.is(t)?t():MathJax.Hub.Queue(["Typeset",MathJax.Hub,e]),initTableAnimationChart(),await ImageWall.init()},LifeCycle.on.ready(t=>{console.log("Schwarzschild Blackhole System is READY!"),t.config.globalProperties.afterMarkUp=window.afterMarkUp;const a=new MutationObserver(async e=>{var a=document.querySelectorAll(".markup");await Promise.all([].map.call(a,async e=>{var t=e.innerText;t=t.replace(/^\t+|\t+$/g,"\n"),t=await MarkUp.parse(t,{toc:e.classList.contains("toc"),glossary:e.classList.contains("glossary"),resources:e.classList.contains("resources"),showtitle:e.classList.contains("showtitle"),showauthor:!1,classname:"markup-content"}),e.innerHTML=t,e.classList.remove("markup")})),a.length>0&&await t.config.globalProperties.afterMarkUp()});a.observe(document.body,{childList:!0,subtree:!0}),e.changeThemeColor=e=>{e&&(localStorage.setItem("themeColor",e),document.body.setAttribute("theme",e))},changeThemeColor(localStorage.getItem("themeColor"))}),LifeCycle.on.initialized(e=>{console.log("Schwarzschild Blackhole System is INITIALIZED!")});var t=null;const a=e=>{var a=e.target;t&&clearTimeout(t),t=setTimeout(()=>{t=null,r(a)},500)},r=e=>{sessionStorage.setItem("sourceUpdated",e),location.reload()};if(window.BroadcastChannel){let e=new BroadcastChannel("source-updated");e.onmessage=e=>{a(e.data)}}else PageBroadcast.on("source-updated",e=>{a(e)});PageBroadcast.on("source-updated-cancel-reload",()=>{t&&(clearTimeout(t),t=null)}),(()=>{var e=window.innerWidth,t=window.innerHeight,a=null;const r=()=>{a&&clearTimeout(a),a=null;var r=window.innerWidth,i=window.innerHeight;r===e&&i===t||(e=r,t=i,PageBroadcast.emit("page-resize",r,i))};window.addEventListener("resize",()=>{a&&clearTimeout(a),a=setTimeout(r,100)})})()}).call(this,a("950f"))},"9a67":function(e,t,a){},"9d8d":function(e,t,a){"use strict";var r=a("79c4");const i={class:"nav-bar"},n=Object(r["h"])("i",{class:"fas fa-angle-right"},null,-1),o={class:"nav-docker"},s=Object(r["h"])("i",{class:"fas fa-caret-right"},null,-1),c={class:"nav-container"},l={class:"about-bar nav-container right"};function d(e,t,a,d,u,h){const m=Object(r["x"])("NavMenuBar");return Object(r["q"])(),Object(r["d"])("div",i,[Object(r["h"])("div",{class:"nav-hint",onClick:t[1]||(t[1]=(...e)=>h.toggleHint&&h.toggleHint(...e))},[n]),Object(r["h"])("div",o,[Object(r["h"])("a",{onClick:t[2]||(t[2]=(...e)=>h.backHome&&h.backHome(...e))},"首页"),s,Object(r["h"])("div",c,[Object(r["h"])(m,{menu:u.menu},null,8,["menu"])]),Object(r["h"])("div",l,[Object(r["h"])(m,{menu:u.aboutMenu},null,8,["menu"])])])])}var u=a("0747");u["a"].render=d;t["a"]=u["a"]},a18c:function(e,t,a){"use strict";var r=a("3608"),i=a("79c4");const n={class:"home"};function o(e,t,a,r,o,s){const c=Object(i["x"])("Column");return Object(i["q"])(),Object(i["d"])("div",n,[Object(i["h"])(c)])}var s={name:"Home"};s.render=o;var c=s;const l={class:"category"};function d(e,t,a,r,n,o){const s=Object(i["x"])("Crumb"),c=Object(i["x"])("Column");return Object(i["q"])(),Object(i["d"])("div",l,[Object(i["h"])(s),Object(i["h"])(c)])}var u={name:"Category"};u.render=d;var h=u;const m={key:0,ref:"menu",class:"floatMenu"},p=Object(i["h"])("i",{class:"fas fa-bars"},null,-1),g={class:"menuFrame"},f={key:1,class:"likeCoinArea"},y=Object(i["h"])("div",{class:"title"},"请输入 IV 码：",-1);function b(e,t,a,r,n,o){const s=Object(i["x"])("Crumb");return Object(i["q"])(),Object(i["d"])(i["a"],null,[Object(i["h"])(s),n.menuList.length>0?(Object(i["q"])(),Object(i["d"])("div",m,[p,Object(i["h"])("div",g,[(Object(i["q"])(!0),Object(i["d"])(i["a"],null,Object(i["w"])(n.menuList,e=>(Object(i["q"])(),Object(i["d"])("div",{class:"menuItem",read:e.read,level:e.level,onClick:t=>o.gotoMenu(e.key)},Object(i["z"])(e.title),9,["read","level","onClick"]))),256))])],512)):Object(i["e"])("",!0),Object(i["h"])("div",{ref:"article",class:"container",onClick:t[1]||(t[1]=(...e)=>o.onClick&&o.onClick(...e))},null,512),n.showLikeCoin?(Object(i["q"])(),Object(i["d"])("div",f,[n.likecoin?(Object(i["q"])(),Object(i["d"])("iframe",{key:0,src:n.likecoin},null,8,["src"])):Object(i["e"])("",!0)])):Object(i["e"])("",!0),Object(i["h"])("div",{class:"passwordInputter",show:n.showPassword},[y,Object(i["h"])("input",{ref:"ivinputter",onKeydown:t[2]||(t[2]=(...e)=>o.onEnter&&o.onEnter(...e))},null,544),Object(i["h"])("button",{onClick:t[3]||(t[3]=(...e)=>o.submitIV&&o.submitIV(...e))},"确定")],8,["show"])],64)}const v=["BY","SA","NC","ND"],w={BY:"署名",SA:"相同方式共享",NC:"非商业性使用",ND:"禁止演绎"};var k,j,O=null,C=null;PageBroadcast.on("page-scroll",e=>{O&&(k&&clearTimeout(k),k=setTimeout(()=>{O&&(O.onScroll(e),k=null)},100))}),PageBroadcast.on("page-changed",async()=>{await wait(),O&&O.update()});const S=e=>{if(O){var t=O.updateCloudArticle(e.target);t&&PageBroadcast.emit("source-updated-cancel-reload")}};if(window.BroadcastChannel){let e=new BroadcastChannel("local-article-updated");e.onmessage=e=>{if(O){var t=e.data;t&&O.updateEdgeArticle(t)}},e=new BroadcastChannel("source-updated"),e.onmessage=e=>{S(e.data)}}else PageBroadcast.on("source-updated",e=>{S(e)});var M={name:"Viewer",data(){return{likecoin:"",showLikeCoin:!1,menuList:[],chapList:[],chapMap:{},showPassword:!1}},methods:{async update(){PageBroadcast.emit("change-loading-hint",{name:"加载中……",action:"show"});var e=this.$route.query.f,t=0;e||(e=this.$route.query.l,e&&(t=1,e=e.split("/").last)),e?(await this.loadArticle(e,t),PageBroadcast.emit("change-loading-hint",{action:"hide"})):this.$router.push({path:"/"})},async updateEdgeArticle(e){var t=(this.$route.query.l||"").split("/").last;t===e&&(PageBroadcast.emit("change-loading-hint",{action:"show",title:"更新中..."}),await this.loadArticle(t,1),PageBroadcast.emit("change-loading-hint",{action:"hide"}))},updateCloudArticle(e){var t="SOURCE"===e||e==="/"+this.$route.query.f;return t?("SOURCE"!==e&&(notify({title:"本页有更新",duration:1500,type:"info"}),PageBroadcast.emit("change-loading-hint",{name:"更新中……",action:"show"})),this.loadArticle(this.$route.query.f,0,!0).then(()=>{"SOURCE"!==e&&(PageBroadcast.emit("change-loading-hint",{action:"hide"}),notify({title:"本页有更新",message:"已自动更新内容",duration:3e3,type:"success"}))}),!0):!!e.match(/\.e?m[du]$/i)},async loadArticle(e,t=0,a=!1){var r=0===t,i=1===t,n=!r||!!e.match(/\.e?mu$/i),o=r&&!!e.match(/\.em[ud]$/i);if(o&&(!window.crypto||!window.crypto.getRandomValues||!window.crypto.subtle||!window.crypto.subtle.encrypt||!window.crypto.subtle.decrypt))return this.showLikeCoin=!1,this.menuList.clear(),void(this.$refs.article.innerText='<article class="markup-content"><section><p>您的浏览器不支持<span class="english">WebCrypto</span>模块功能，请换用现代浏览器！</p></section></article>');var s=1*this.$route.query.t||0,c=[];r?c.push(Granary.getArticle(e,s)):i&&c.push(BookShelf.getArticle(e)),n&&(C?c.push((async()=>C)()):c.push(Granary.getContent("/api/copyright.md")));var[l,d]=await Promise.all(c);if(r||(l=l.content),!C&&d&&(C=d),!o||(l=await this.decrypt(l),l||!j)){var u,h="",m="",p=!0;l?d&&n&&(l.match(/(^ *#|\n *#)[ 　\t]*.+/)||(l="# 正文\n\n"+l),l=l+"\n\n\n"+d):(p=!1,h='<div class="page_not_found"><div class="frame"></div><div class="title">指定内容不存在，请联系站长。</div></div>'),p&&(0===s&&(s=Date.now()),u=await MarkUp.fullParse(l,{toc:!0,glossary:n,resources:!1,showtitle:!0,showauthor:n,date:s,classname:"markup-content"}),u.meta.others=u.meta.others||{},d=u.meta.others.CopyRight,m="《"+u.title+"》",h=u.content,h||(h='<div class="page_not_found"><div class="frame"></div><div class="title">MarkUp 内容解析失败，请联系作者。</div></div>',p=!1));var g=document.querySelector("#app"),f=g?g.scrollTop:0;if(this.$refs.article.innerHTML=h,p?(this.afterMarkUp(),this.addLikeCoin(u.meta.others.LikeCoin),this.refreshMenu(u),d&&n&&(await wait(),this.adjustCopyRight(d))):(this.showLikeCoin=!1,this.likecoin="",this.refreshMenu()),document.title=m+" ("+this.SiteName+")",i){let e=this.$refs.article.children.item(0);if(e&&(e=e.children.item(0)),e&&(e=e.nextSibling),e){let t=newEle("section","localAlert");t.innerHTML="这是存储在浏览器本地的文件，其它设备与用户无法看到本页内容！",e.parentElement.insertBefore(t,e)}}g&&a&&g.scrollTo(0,f),window.PageInfo=window.PageInfo||{},window.PageInfo.title=m,r?window.PageInfo.url=this.$route.query.f:i&&(window.PageInfo.url="l="+this.$route.query.l),PageBroadcast.emit("memory-updated",{type:"history",title:m,url:window.PageInfo.url})}},adjustCopyRight(e){if(!e)return html;var t=[],a="0";if(!e.match(/^ *cc *0(\.0)* *$/i)){if(!e.match(/^ *(cc +)(\w+\-)*\w+( +(\d+\.)*\d) *$/i))return;e=e.replace(/^ *cc +/i,"").replace(/ +$/,"").split(/ +/),a=e[1]||"4.0",a.indexOf(".")<0&&(a+=".0"),t=e[0].split("-").map(e=>e.toUpperCase()).filter(e=>v.includes(e)),t.sort((e,t)=>t>e?-1:t<e?1:0)}var r=null;this.$refs.article.querySelectorAll("section").forEach(e=>{var t=e.querySelector("h1");t&&"版权申明"===t.innerText&&(r=e)});var i=r.querySelector("p a"),n=r.querySelector("blockquote p");if(0===t.length){i.innerText="公共领域许可（CC0）协议",i.href="https://en.wikipedia.org/wiki/Creative_Commons_license#Zero_/_public_domain",n.innerHTML="通过本协议，您的作品将不受限制地在全球范围内发布内容，您将法律允许范围内放弃一切权利。";let e=n.parentElement.nextSibling;e.parentElement.removeChild(e)}else t.includes("BY")?(i.innerText="知识共享署名 4.0 国际许可（CC "+t.join("-")+" "+a+"）协议",i.href="http://creativecommons.org/licenses/"+t.join("-").toLowerCase()+"/"+a+"/",n.innerHTML="通过本协议，您可以<a href='https://en.wikipedia.org/wiki/Creative_Commons_license#Attribution' target='_blank'>分享并演绎本作品（创建派生内容）</a>，只要你遵守以下授权条款规定："+t.map(e=>"<strong>"+w[e]+"</strong>").join("、")+"。<br>具体内容请查阅上述协议声明。"):(i.innerText="知识共享 4.0 许可（CC "+t.join("-")+" "+a+"）协议",i.href="https://en.wikipedia.org/wiki/Creative_Commons",n.innerHTML="通过本协议，您可以<a href='https://en.wikipedia.org/wiki/Creative_Commons_license#Attribution' target='_blank'>分享并演绎本作品（创建派生内容）</a>，只要你遵守以下授权条款规定："+t.map(e=>"<strong>"+w[e]+"</strong>").join("、")+"。<br>具体内容请查阅上述协议声明。")},addLikeCoin(e){var t=!0;if(this.LikeCoin&&this.LikeCoin.forbidden&&this.LikeCoin.forbidden.length>0){let e=("."+location.hostname+".").replace(/\.+/g,".");t=this.LikeCoin.forbidden.every(t=>(t=("."+t+".").replace(/\.+/g,"."),e.indexOf(t)<0))}if(t){if(!e){if(!this.LikeCoin)return void(this.showLikeCoin=!1);e=String.is(this.LikeCoin)?this.LikeCoin:this.LikeCoin.id}e?(this.showLikeCoin=!0,this.likecoin="https://button.like.co/"+e):this.likecoin=""}else this.showLikeCoin=!1},refreshMenu(e){this.menuList.clear(),this.chapList.clear();for(let t in this.chapMap)delete this.chapMap[t];e&&e.chapList.forEach(e=>{this.menuList.push({level:e[0]-1,key:e[1],title:e[2],read:!1});var t=this.$refs.article.querySelector('a[name="'+e[1]+'"]');t&&(this.chapList.push(t),this.chapMap[e[1]]=t)})},onScroll(e){var t=Devices.isMobile?0:25,a=0,r=!0,i=0;e.total>e.height&&(i=e.top/(e.total-e.height),i=i*i*e.height),this.chapList.some((e,n)=>{var o=e.getBoundingClientRect().top;if(o-=i,o>t)return r=!1,a=n,!0}),0===a&&r&&(a=this.menuList.length);for(let n=0;n<this.menuList.length;n++)this.menuList[n].read=n<a},onClick(e){onVueHyperLinkTriggered(this,e)},gotoMenu(e){var t=this.chapMap[e];if(t){var a=t.getBoundingClientRect().top-(Devices.isMobile?5:30);app.scrollBy({top:a,behavior:"smooth"}),this.$refs.article.focus()}},requestIVWord(){return new Promise(e=>{var t=j;j=e,t&&t(null),this.showPassword=!0})},onEnter(e){13===e.keyCode&&this.submitIV()},submitIV(){var e=this.$refs.ivinputter.value;if(e){var t;try{t=base64tobuffer(e)}catch(r){notify({type:"error",duration:2e3,title:"无效IV码"})}var a=j;j=null,this.showPassword=!1,a([t,e])}else notify({type:"warn",title:"IV 码不能为空"})},async decrypt(e){var t=localStorage.getItem("CurrentKey");if(!t)return notify({type:"error",duration:2e3,title:"密钥丢失",message:"请在“设置/密钥管理”中选择或添加密钥"}),"";try{t=base64tobuffer(t),t=await window.crypto.subtle.importKey("raw",t,"AES-GCM",!0,["encrypt","decrypt"])}catch(n){return notify({type:"error",duration:2e3,title:"密钥损坏",message:"解码密钥失败，请在“设置/密钥管理”中选择或添加可用密钥"}),""}var a,r,i=localStorage.get("EncryptedContentKeys",{});if(r=i[this.$route.query.f],r)a=base64tobuffer(r);else if([a,r]=await this.requestIVWord(),null===a)return"";if(e=base64tobuffer(e),!e)return notify({title:"BASE64 内容解码失败！",duration:2e3,type:"error"}),"";try{e=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:a},t,e)}catch(n){return notify({type:"error",duration:2e3,title:"密钥或IV码错误",message:"请在“设置/密钥管理”中选择或添加正确的密钥，或换一个IV码重试。"}),""}try{e=(new TextDecoder).decode(e)}catch(n){return notify({title:"内容解码失败！",duration:2e3,type:"error"}),""}return i[this.$route.query.f]=r,localStorage.set("EncryptedContentKeys",i),e}},async mounted(){O=this,await this.update(),this.$refs.article.focus()},unmounted(){O=null}};M.render=b;var _=M;const x={class:"searchPage controller"},L=Object(i["h"])("i",{class:"fa fas fa-search"},null,-1),P=Object(i["g"])("搜索"),q={class:"searchPage articleList"},B=Object(i["h"])("div",{class:"title"},"本地与云端",-1),A={key:0,class:"hint"},I={class:"title"},E=Object(i["g"])("边缘搜索（"),T=Object(i["g"])("）"),N={key:1,class:"hint"},$=Object(i["f"])('<div class="searchPage commandPad"><div class="title">搜索命令</div><div class="command">T(*)：标题条件</div><div class="command">C(*)：正文条件（默认）</div><div class="command">K(*)：关键词条件</div><div class="command">reg(*)：采用正则表达式</div><div class="command">+：条件或</div><div class="command">*：条件与</div><div class="command">-：扣除</div><div class="title">注意事项</div><div class="command">本搜索对本地文库中内容可以进行本地全文搜索，但对云端内容，则只有缓存下来的内容（也即浏览过的内容）才能进行本地全文搜索，否则只会对摘要部分搜索。</div></div>',1);function D(e,t,a,r,n,o){const s=Object(i["x"])("Crumb");return Object(i["q"])(),Object(i["d"])(i["a"],null,[Object(i["h"])(s),Object(i["h"])("div",x,[Object(i["h"])("span",{ref:"searchCommand",class:"keywords",contenteditable:"true",onKeydown:t[1]||(t[1]=Object(i["F"])((...e)=>o.active&&o.active(...e),["enter"]))},null,544),Object(i["h"])("span",{class:"button",onClick:t[2]||(t[2]=(...e)=>o.active&&o.active(...e))},[L,P])]),Object(i["h"])("div",q,[B,0===n.result.length?(Object(i["q"])(),Object(i["d"])("div",A,"无")):Object(i["e"])("",!0),(Object(i["q"])(!0),Object(i["d"])(i["a"],null,Object(i["w"])(n.result,e=>(Object(i["q"])(),Object(i["d"])("div",{class:"article",onClick:t=>o.openArticle(e)},Object(i["z"])(e.title)+" （匹配度："+Object(i["z"])(e.score)+"）",9,["onClick"]))),256)),Object(i["h"])("div",I,[E,Object(i["h"])("span",null,Object(i["z"])(n.edgeCount),1),T]),0===n.remote.length?(Object(i["q"])(),Object(i["d"])("div",N,"无")):Object(i["e"])("",!0),(Object(i["q"])(!0),Object(i["d"])(i["a"],null,Object(i["w"])(n.remote,e=>(Object(i["q"])(),Object(i["d"])("div",{class:"article",onClick:t=>o.openArticle(e)},Object(i["z"])(e.title)+" （匹配度："+Object(i["z"])(e.score)+"）",9,["onClick"]))),256))]),$],64)}var H={name:"Search",data(){return{result:[],remote:[],edgeCount:0}},mounted(){PageBroadcast.emit("change-loading-hint",{action:"hide"}),this.$refs.searchCommand.focus()},methods:{active(e){e.preventDefault();var t=this.$refs.searchCommand.innerText;if(!t)return notify({title:"无法执行空查询",duration:2e3,type:"error"}),void this.$refs.searchCommand.focus();this.search(t)},async search(e){PageBroadcast.emit("change-loading-hint",{action:"show",title:"搜索中……"});var t=await DataCenter.searchArticle(e);if(t instanceof Error)return PageBroadcast.emit("change-loading-hint",{action:"hide"}),console.error(t),void notify({title:t.message,duration:5e3,type:"error"});this.result.splice(0,this.result.length,...t.match),notify({title:"本次搜索用时: "+t.timeused+"ms",duration:2e3,type:"success"}),PageBroadcast.emit("change-loading-hint",{action:"hide"})},openArticle(e){var t=location.href.split("#")[0]+"#/view?";"cloud"===e.type?t+="f="+e.url.replace(/^\//,""):t+="l="+e.url;var a=window.open(t);a.focus()}}};H.render=D;var W=H;const U=[{path:"/",name:"Home",component:c},{path:"/category",name:"Category",component:h},{path:"/view",name:"Viewer",component:_},{path:"/search",name:"Search",component:W},{path:"/about",name:"AboutSite",component:function(){return a.e("chunk-dd9d4c74").then(a.bind(null,"52a1"))}},{path:"/chinesecolor",name:"chinesecolor",component:function(){return a.e("chunk-0b878644").then(a.bind(null,"de6d"))}},{path:"/japanesecolor",name:"japanesecolor",component:function(){return a.e("chunk-9f0ca2e2").then(a.bind(null,"ce9d"))}},{path:"/latex",name:"latex",component:function(){return a.e("chunk-2d0cbe04").then(a.bind(null,"4c10"))}},{path:"/markup",name:"markup",component:function(){return a.e("chunk-5b60140f").then(a.bind(null,"f4c6"))}},{path:"/webcolor",name:"webcolor",component:function(){return a.e("chunk-2498186d").then(a.bind(null,"ef2f"))}},{path:"/entertain/cyberavatorarena",name:"cyberavatorarena",component:function(){return a.e("chunk-128206d4").then(a.bind(null,"f801"))}},{path:"/entertain/ballcrush",name:"ballcrush",component:function(){return a.e("chunk-2d0d4006").then(a.bind(null,"5ebb"))}},{path:"/entertain/rushgo",name:"rushgo",component:function(){return a.e("chunk-2d0de03c").then(a.bind(null,"849c"))}},{path:"/entertain/training",name:"training",component:function(){return a.e("chunk-2d0c1569").then(a.bind(null,"462c"))}},{path:"/entertain/ultralife",name:"ultralife",component:function(){return a.e("chunk-2d208737").then(a.bind(null,"a59f"))}},{path:"/popsci/quantum1",name:"quantum1",component:function(){return a.e("chunk-38f9ca80").then(a.bind(null,"1836"))}},{path:"/tools/blackholeCalculator",name:"blackholeCalculator",component:function(){return a.e("chunk-66c60e80").then(a.bind(null,"de6a"))}},{path:"/tools/localLibrary",name:"localLibrary",component:function(){return a.e("chunk-7f0a1c05").then(a.bind(null,"3cd4"))}},{path:"/tools/markupEditor",name:"markupEditor",component:function(){return a.e("chunk-2d0d7dbb").then(a.bind(null,"7936"))}},{path:"/tools/parseMarkup",name:"parseMarkup",component:function(){return a.e("chunk-7fcc32b6").then(a.bind(null,"dcfb"))}},{path:"/aboutMe",name:"AboutMe",component:function(){return a.e("chunk-235ac417").then(a.bind(null,"dd86"))}},{path:"/404",name:"PageNotFound",component:function(){return a.e("chunk-2d0e95df").then(a.bind(null,"8cdb"))}},{path:"/:pathMatch(.*)*",name:"PageNotFound",component:function(){return a.e("chunk-2d0e95df").then(a.bind(null,"8cdb"))}}],R=Object(r["a"])({history:Object(r["b"])(),routes:U});R.afterEach((e,t)=>{if("Category"===e.name){let t=getPathNameList(e.query.c.split(","),!1);document.title=t?R.app.config.globalProperties.SiteName+" / "+t.map(e=>e.name).join(" / "):R.app.config.globalProperties.SiteName}else document.title=R.app.config.globalProperties.SiteName;PageBroadcast.emit("route-updated",{from:t.fullPath,to:e.fullPath});var a=document.querySelector("#app");a.scrollTo(0,0),a=document.querySelector("#container"),a.focus();var r=document.getSelection();r.setPosition(a);var i=document.createRange();i.setStart(a,0),i.setEnd(a,0),r.removeAllRanges(),r.addRange(i)});t["a"]=R},aa46:function(e,t,a){},aab0:function(e,t,a){"use strict";var r=a("79c4");const i={class:"imageFrame"},n={class:"imageLegend"},o=Object(r["h"])("i",{class:"fas fa-times-circle"},null,-1),s=Object(r["h"])("i",{class:"fas fa-angle-left"},null,-1),c=Object(r["h"])("i",{class:"fas fa-angle-right"},null,-1);function l(e,t,a,l,d,u){return Object(r["q"])(),Object(r["d"])("div",{class:"imageShowcase "+(d.show?"show":"hide"),onClick:t[4]||(t[4]=(...e)=>u.onClick&&u.onClick(...e))},[Object(r["h"])("div",i,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(d.gallary,(e,t)=>(Object(r["q"])(),Object(r["d"])("div",{class:"imagePage",style:{left:100*(t-d.index)+"%"}},[Object(r["h"])("div",{class:"imageInstance",style:{backgroundImage:"url("+e.image+")",width:e.width+"px"},width:e.width,height:e.height},null,12,["width","height"]),Object(r["h"])("div",n,Object(r["z"])(e.title),1)],4))),256))]),Object(r["h"])("div",{class:"imageButton close",onClick:t[1]||(t[1]=e=>d.show=!1)},[o]),Object(r["h"])("div",{class:"imageButton left",inactive:d.index<=0,onClick:t[2]||(t[2]=e=>d.index--)},[s],8,["inactive"]),Object(r["h"])("div",{class:"imageButton right",inactive:d.index>=d.gallary.length-1,onClick:t[3]||(t[3]=e=>d.index++)},[c],8,["inactive"])],2)}const d=e=>{var t=e.parentNode;if(!t)return null;var a=t.tagName;return a?(a=a.toLowerCase(),"figure"===a?d(t):"div"!==a?null:t.classList.contains("image-wall")?t:d(t)):null};var u={name:"ImageShowcase",data(){return{show:!1,index:0,gallary:[]}},created(){document.body.addEventListener("click",e=>{if(!this.show){var t=e.target,a=t.tagName;if(a){a=a.toLowerCase();var r,i,n=!1;if("img"===a?(n=!0,r=t,i=d(t)):("figure"===a||"div"===a&&t.classList.contains("resource"))&&(r=t.querySelector("img"),r&&(n=!0,i=d(t))),n){var o=[],s=0;if(i)i.querySelectorAll(".image-container.image-float div.resource.image").forEach((e,t)=>{var a=e.querySelector("img");a===r&&(s=t);var i=e.querySelector("figcaption");i=i.innerText||"",o.push({image:a.src,width:a.naturalWidth,height:a.naturalHeight,title:i})});else{s=0;let e=r.parentNode;e&&(e=e.parentNode),e&&(e=e.querySelector("figcaption")),e&&(e=e.innerText),e=e||"",o=[{image:r.src,width:r.naturalWidth,height:r.naturalHeight,title:e}]}this.showGallary(s,o)}}}}),document.body.addEventListener("keydown",e=>{if(this.show){if(37===e.keyCode)e.ctrlKey?this.index=0:this.index>0&&this.index--;else if(39===e.keyCode)e.ctrlKey?this.index=this.gallary.length-1:this.index<this.gallary.length-1&&this.index++;else{if(27!==e.keyCode)return;this.show=!1}e.preventDefault()}})},methods:{onClick(e){if(!e.target.classList.contains("fas")&&!e.target.querySelector(".fas"))if(e.target.querySelector(".imageInstance"))this.show=!1;else if(e.target.classList.contains("imageInstance")){var t=1*e.target.getAttribute("width")||0,a=1*e.target.getAttribute("height")||0,r=e.target.getBoundingClientRect(),i=r.height;r=r.width;var n=e.offsetX,o=e.offsetY,s=0,c=0;if(t<=r)if(a>i){let e=t/a*i;s=(r-e)/2}else s=(r-t)/2,c=(i-a)/2;else{let e=r,n=a/t*r;n>i&&(e=r/n*i,n=i),s=(r-e)/2,c=(i-n)/2}n>r/2&&(n=r-n),o>i/2&&(o=i-o),(n<s||o<c)&&(this.show=!1)}},showGallary(e,t){this.index=e,this.gallary.splice(0,this.gallary.length,...t),this.show=!0}}};u.render=l;t["a"]=u},b2e4:function(e,t,a){"use strict";var r=a("79c4");const i={class:"nav-menu-bar"};function n(e,t,a,n,o,s){const c=Object(r["x"])("NavMenuItem");return Object(r["q"])(),Object(r["d"])("nav",i,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(a.menu,e=>(Object(r["q"])(),Object(r["d"])(c,{title:e.name,action:e.category&&e.category.length>0?a.supers?a.supers+","+e.category:e.category:"",type:e.type,subs:e.subs,disabled:e.disabled},null,8,["title","action","type","subs","disabled"]))),256))])}var o={name:"NavMenuBar",props:{supers:"",menu:Array}};o.render=n;t["a"]=o},b43b:function(e,t){(()=>{class e{constructor(e,t){this._name=e,this._version=t,this.conn=null,this.db=null,this.cbUpdates=[],this.cbConnects=[],this.caches={},this.ready=!1,this.available=!1}connect(){return new Promise((e,t)=>{this.conn=indexedDB.open(this.name,this.version),this.conn.onupgradeneeded=e=>{this.db=this.conn.result,this.cbUpdates.forEach(e=>e(this))},this.conn.onsuccess=t=>{this.ready=!0,this.available=!0,this.db=this.conn.result,this.cbConnects.forEach(e=>e(this)),e(this)},this.conn.onerror=e=>{this.ready=!0,this.available=!1,t(e)}})}onConnect(e){this.cbConnects.push(e)}onUpdate(e){this.cbUpdates.push(e)}open(e,t="id",a=0,r){if(!this.db.objectStoreNames.contains(e)){let a=this.db.createObjectStore(e,{keyPath:t});a.createIndex(t,t,{unique:!0}),r&&r.length>0&&r.forEach(e=>{a.createIndex(e,e,{unique:!1})})}a>0&&this.cache(t,a)}cache(e,t){this.caches[e]||(this.caches[e]=new LRUCache(t))}set(e,t,a){return new Promise((r,i)=>{var n=this.db.transaction([e],"readwrite");n||i(new Error("Open IndexedDB Transaction Failed: "+e));var o=n.objectStore(e);e||i(new Error("Open IndexedDB ObjectStore Failed: "+e));var s={};[...o.indexNames].forEach(e=>{s[e]=a[e]}),s[o.keyPath]=t,s.data=a;var c=o.put(s);c.onsuccess=i=>{var n=this.caches[e];n&&n.set(t,a),r(i.result)},c.onerror=e=>{i(e)}})}get(e,t){return new Promise((a,r)=>{var i=this.db.transaction([e],"readonly");i||r(new Error("Open IndexedDB Transaction Failed: "+e));var n=i.objectStore(e);e||r(new Error("Open IndexedDB ObjectStore Failed: "+e));var o,s=n.index(n.keyPath),c=this.caches[e];if(c&&(o=c.get(t),void 0!==o))return a(o);o=s.get(t),o.onsuccess=e=>{e.target.result?a(e.target.result.data):a(void 0)},o.onerror=e=>{r(e)}})}all(e,t){return new Promise((a,r)=>{var i=this.db.transaction([e],"readonly");i||r(new Error("Open IndexedDB Transaction Failed: "+e));var n,o=i.objectStore(e);e||r(new Error("Open IndexedDB ObjectStore Failed: "+e));try{n=o.index(t||o.keyPath)}catch(c){return void r(c)}var s=n.getAll();s.onsuccess=e=>{var r=e.target.result;if(!r)return a(r);var i=!t||t===o.keyPath,n=i?{}:[];r.forEach(e=>{i?n[e[o.keyPath]]=e.data:n.push(e.data)}),a(n)},s.onerror=e=>{r(e)}})}del(e,t){return new Promise((a,r)=>{var i=this.db.transaction([e],"readwrite");i||r(new Error("Open IndexedDB Transaction Failed: "+e));var n=i.objectStore(e);e||r(new Error("Open IndexedDB ObjectStore Failed: "+e));var o=n.delete(t);o.onsuccess=r=>{var i=this.caches[e];i&&i.del(t),a(r.result)},o.onerror=e=>{r(e)}})}clear(e){return new Promise((t,a)=>{var r=this.db.transaction([e],"readwrite");r||a(new Error("Open IndexedDB Transaction Failed: "+e));var i=r.objectStore(e);e||a(new Error("Open IndexedDB ObjectStore Failed: "+e));var n=i.clear();n.onsuccess=a=>{var r=this.caches[e];r&&r.clear(),t(a.result)},n.onerror=e=>{a(e)}})}clearCache(e){var t=this.caches[e];!t||t.clear()}get name(){return this._name}get version(){return this._version}}self.CachedDB=e})()},bae9:function(e,t,a){"use strict";(function(e){e.callPageLoaded=()=>{PageBroadcast.emit("change-loading-hint",{action:"hide"})};var a=null;t["a"]={name:"Loading",data(){return{title:"载入中……",show:!0,type:"pulse",forcequit:!1}},created(){PageBroadcast.on("change-loading-hint",e=>{"show"===e.action?(e.title=e.title||"载入中……",this.forcequit=!1,a&&(clearTimeout(a),a=null),a=setTimeout(()=>{this.forcequit=!0},5e3),this.show=!0):"hide"===e.action&&(e.title=e.title||"载入中……",this.forcequit=!1,a&&(clearTimeout(a),a=null),this.show=!1),String.is(e.title)&&(this.title=e.title),["spin","pulse"].indexOf(e.type)>=0&&(this.type=e.type)})},methods:{forceQuit(){a&&(clearTimeout(a),a=null),this.show=!1}}}}).call(this,a("950f"))},bfef:function(e,t,a){"use strict";var r=a("79c4");const i={class:"tail-bar"},n=Object(r["h"])("div",{class:"left"}," © 2020 - 2022 LostAbaddon, all rights reserved. ",-1),o=Object(r["h"])("div",{class:"right"},[Object(r["g"])(" Generated by "),Object(r["h"])("a",{target:"_blank",href:"https://github.com/LostAbaddon/Schwarzschild"},"Schwarzschild v0.2.2")],-1);function s(e,t,a,s,c,l){return Object(r["q"])(),Object(r["d"])("div",i,[n,o])}var c={name:"TailBar"};c.render=s;t["a"]=c},c428:function(e,t,a){"use strict";var r=a("79c4");const i={class:"hint"},n={key:0,class:"animate spin"},o=Object(r["h"])("i",{class:"fas fa-spinner fa-spin fa-fast"},null,-1),s={key:1,class:"animate pulse"},c=Object(r["f"])('<i class="fas fa-square"></i><i class="fas fa-square"></i><i class="fas fa-square"></i><i class="fas fa-square"></i><i class="fas fa-square"></i>',5),l={class:"title"};function d(e,t,a,d,u,h){return Object(r["q"])(),Object(r["d"])("div",{class:["loading",u.show?"show":"hide"]},[Object(r["h"])("div",i,["spin"===u.type?(Object(r["q"])(),Object(r["d"])("div",n,[o])):Object(r["e"])("",!0),"pulse"===u.type?(Object(r["q"])(),Object(r["d"])("div",s,[c])):Object(r["e"])("",!0),Object(r["h"])("div",l,Object(r["z"])(u.title),1)]),u.forcequit?(Object(r["q"])(),Object(r["d"])("div",{key:0,class:"forceQuit",onClick:t[1]||(t[1]=(...e)=>h.forceQuit&&h.forceQuit(...e))},"强制关闭")):Object(r["e"])("",!0)],2)}var u=a("bae9");u["a"].render=d;t["a"]=u["a"]},c531:function(e,t,a){"use strict";var r=a("79c4");const i={ref:"header"},n={key:0},o=Object(r["f"])('<span>文章列表</span><div class="controller"><div class="hint"><i class="fas fa-sliders-h"></i></div><div class="styleList"><div class="styleItem" name="bars"><i class="fas fa-bars"></i></div><div class="styleItem" name="lines"><i class="fas fa-stream"></i></div><div class="styleItem" name="columns"><i class="fas fa-columns"></i></div></div></div>',2),s={ref:"loadingHint",class:"column-loading hidden"};function c(e,t,a,c,l,d){const u=Object(r["x"])("ColumnItem");return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("section",{ref:"main",class:"column container",onClick:t[1]||(t[1]=(...e)=>d.onClick&&d.onClick(...e)),onMousewheel:t[2]||(t[2]=(...e)=>d.onScroll&&d.onScroll(...e))},[Object(r["h"])("header",i,null,512),l.showList?(Object(r["q"])(),Object(r["d"])("caption",n,[o])):Object(r["e"])("",!0),l.showList?(Object(r["q"])(!0),Object(r["d"])(r["a"],{key:1},Object(r["w"])(l.list,e=>(Object(r["q"])(),Object(r["d"])(u,{title:e.title,author:e.author,description:e.description,type:e.type,timemark:e.timemark,timestamp:e.timestamp,categoryName:e.category,categoryPath:e.sort,filename:e.filename,redirect:e.target},null,8,["title","author","description","type","timemark","timestamp","categoryName","categoryPath","filename","redirect"]))),256)):Object(r["e"])("",!0)],544),Object(r["h"])("div",s,"加载中……",512)],64)}const l={class:"title"},d={class:"author"},u={class:"timestamp"};function h(e,t,a,i,n,o){return Object(r["q"])(),Object(r["d"])("section",{class:"column-item",filename:a.filename?a.categoryPath+"/"+a.filename:"",timestamp:a.timestamp,redirect:a.redirect,type:a.type},[Object(r["h"])("header",null,[Object(r["h"])("div",l,Object(r["z"])(a.title),1),Object(r["h"])("div",{class:"category",path:a.categoryPath},Object(r["z"])(a.categoryName),9,["path"])]),Object(r["h"])("article",null,Object(r["z"])(a.description),1),Object(r["h"])("footer",null,[Object(r["h"])("div",d,Object(r["z"])(a.author),1),Object(r["h"])("div",u,Object(r["z"])(a.timemark),1)])],8,["filename","timestamp","redirect","type"])}var m={name:"ColumnItem",props:{title:String,author:String,description:String,type:String,timemark:String,timestamp:Number,categoryName:String,categoryPath:String,filename:String,redirect:String}};m.render=h;var p=m;const g=_("Utils").getTimeString;var f=null;PageBroadcast.on("page-changed",async()=>{await wait(),f&&f.update()}),PageBroadcast.on("page-scroll",()=>{f&&f.onScroll()});var y={name:"Column",components:{ColumnItem:p},data(){return{itemPerPage:20,list:[],showList:!0,currentCategory:"",currentPage:0,countPerPage:10,noMoreItem:!1}},methods:{async getHeaderInfo(e){var t=await Granary.getColumnHeader(e),a="";t&&!1!==t.ok&&(a=await MarkUp.parse(t,{toc:!1,glossary:!1,resources:!1,showtitle:!1,showauthor:!1,classname:"markup-content"})),this.$refs.header.innerHTML=a,t&&await this.afterMarkUp()},async getArticleList(e){this.$refs.loadingHint.classList.remove("hidden"),this.list.splice(this.currentPage*this.countPerPage,this.list.length);var t=await Granary.getCategory(e,this.currentPage);t.forEach(e=>{var t=e.sort;"/"!==t[0]&&(t="/"+t),e.category=CatePathMap[t]||t,e.placehoding=!1,e.timestamp=new Date(e.publish).getTime(),e.timemark=g(new Date(e.publish),"YYMMDDhhmm"),e.description=e.description||"暂无",this.list.push(e)}),this.noMoreItem=t.length<this.countPerPage,this.$refs.loadingHint.classList.add("hidden")},async update(){PageBroadcast.emit("change-loading-hint",{name:"加载中……",action:"show"});var e=localStorage.getItem("columnStyle")||"lines";this.$refs.main.setAttribute("columnStyle",e),this.list.splice(0,this.list.length),this.header="";var t=null;if("/"===this.$route.path)t="/";else{if("/category"!==this.$route.path)return void PageBroadcast.emit("change-loading-hint",{action:"hide"});if(!this.$route.query||!this.$route.query.c)return void PageBroadcast.emit("change-loading-hint",{action:"hide"});t="/"+this.$route.query.c.split(",").filter(e=>e.length>0).join("/")}t=t.replace(/^[\/\\]+/,"");var a=t.split("/").filter(e=>e.length>0),r=SiteMap;a.length>0?a.some(e=>{if(e=r[e],!(e.subs&&e.subs.length>0))return r=e.type,!0;r=e.subs}):r="viewer","folder"===r?(this.showList=!1,await this.getHeaderInfo(t)):"viewer"===r?(this.currentCategory=t,this.currentPage=0,this.showList=!0,await Promise.all([this.getHeaderInfo(t),this.getArticleList(t)])):this.showList=!1,PageBroadcast.emit("change-loading-hint",{action:"hide"})},onClick(e){var t=findContentWrapper(e.target);if(t&&!t.classList.contains("hint")){if(t.classList.contains("styleItem")){let e=t.getAttribute("name");return this.$refs.main.setAttribute("columnStyle",e),void localStorage.setItem("columnStyle",e)}if("a"!==t.nodeName.toLowerCase()||!onVueHyperLinkTriggered(this,e)){var a=void 0,r=void 0,i="article";if(t){while(!a&&!r)if(a=t.getAttribute("redirect"),a?i="redirect":(i=t.getAttribute("type"),a=t.getAttribute("filename")),r=t.getAttribute("path"),1*t.getAttribute("timestamp"),t=t.parentNode,!t||t===document.body)break;r?(this.$router.push({path:"/category",query:{c:r.split(/[\\\/]+/).join(",")}}),"Category"===this.$route.name&&PageBroadcast.emit("page-changed",r)):a&&("local"===i?this.$router.push({path:"/view",query:{l:a}}):this.$router.push({path:"/view",query:{f:a}}))}}}},onScroll(e){this.tmrScroll&&(clearTimeout(this.tmrScroll),this.tmrScroll=null),this.tmrScroll=setTimeout(()=>this.doScroll(),100)},doScroll(){if(this.tmrScroll&&(clearTimeout(this.tmrScroll),this.tmrScroll=null),!this.noMoreItem){var e=this.$refs.loadingHint,t=e.getBoundingClientRect().top,a=document.body.getBoundingClientRect().height+250;t>a||(this.currentPage++,this.getArticleList(this.currentCategory))}}},mounted(){f=this,this.update()},unmounted(){f=null}};y.render=c;t["a"]=y},c879:function(e,t,a){},cf03:function(e,t){window.InitAsimov=async()=>{if(window.SharedWorker||window.Worker){let e,t,a,r=new Map,i=()=>Math.floor(1e8*Math.random());window.SharedWorker?(a="Shared-Worker Asimov",e=new SharedWorker("/js/worker/asimov.js"),t=e.port):(a="Dedicated-Worker Asimov",e=new Worker("/js/worker/asimov.js"),t=e),t.onmessage=({data:e})=>{console.log(a+" finished task-"+e.id);var t=r.get(e.id);r.delete(e.id),t&&t(e.result)};let n=e=>{t.postMessage(e)};window.MarkUp=window.MarkUp||{},window.MarkUp.fullParse=(e,t)=>new Promise(o=>{var s=i();r.set(s,o),console.log(a+" started parse-task: "+s),n({id:s,action:"parse",content:e,config:t})}),window.MarkUp.parse=async(e,t)=>{var a;return a=await MarkUp.fullParse(e+"\n",t),a?a.content:""},window.MarkUp.reverse=e=>new Promise(t=>{var o=i();r.set(o,t),console.log(a+" started reverse-task: "+o),n({id:o,action:"reverse",content:e})}),window.onbeforeunload=()=>{n("suicide"),t.close()}}else await loadJS("/Asimov/markup.js"),await loadJS("/Asimov/extensions.js"),await loadJS("/js/worker/extmarkup.js")}},d61b:function(e,t,a){"use strict";var r=a("79c4");const i={key:0,class:"nav-menu-item"},n={key:0,class:"fas fa-caret-down"},o={key:0,class:"hint fas fa-caret-right"};function s(e,t,a,s,c,l){const d=Object(r["x"])("NavMenuBar");return a.disabled?Object(r["e"])("",!0):(Object(r["q"])(),Object(r["d"])("div",i,[Object(r["h"])("a",{onClick:t[1]||(t[1]=e=>l.click(a.type,a.action))},[Object(r["g"])(Object(r["z"])(a.title),1),a.subs?(Object(r["q"])(),Object(r["d"])("i",n)):Object(r["e"])("",!0)]),a.subs?(Object(r["q"])(),Object(r["d"])("i",o)):Object(r["e"])("",!0),a.subs?(Object(r["q"])(),Object(r["d"])(d,{key:1,menu:a.subs,supers:a.action},null,8,["menu","supers"])):Object(r["e"])("",!0)]))}var c={name:"NavMenuItem",props:{title:String,type:String,action:String,subs:Array,disabled:Boolean},methods:{click(e,t){if(t=t.split(",").filter(e=>e.length>0),0!==t.length){var a={};if("page"===e)a.path="/"+t.join("/");else if("viewer"===e||"folder"===e)a.path="/category",a.query={c:t.join(",")};else{if("article"!==e)return"url"===e?void(location.href=location.origin+t.last):"action"===e?void("color"===t[0]?changeThemeColor(t[1]):"keyManager"===t[0]?PageBroadcast.emit("setting",{action:"KeyManager"}):"addFavorite"===t[0]?PageBroadcast.emit("memory-updated",{type:"favorite",title:window.PageInfo.title,url:window.PageInfo.url}):"removeFavorite"===t[0]&&PageBroadcast.emit("memory-updated",{type:"unfavorite",title:window.PageInfo.title,url:window.PageInfo.url})):void 0;{a.path="/view";let e=t.last,r=e.match(/^l=/);a.query=r?{l:e.substring(2)}:{f:e}}}var r=!0,i=!1;if(this.$route.path===a.path){i=!0;let e=this.$route.query&&(this.$route.query.c||this.$route.query.f)||"",t=a.query&&(a.query.c||a.query.f)||"";e===t&&(r=!1)}r&&(this.$router.push(a),i&&PageBroadcast.emit("page-changed",a))}}}};c.render=s;t["a"]=c},f5f8:function(e,t){(()=>{const e=Symbol("update"),t=100,a=e=>!(isNaN(e)||"number"!=typeof e);class r{constructor(e=100){this.cache=new Map,this.secondary=new Map,this.limit=a(e)?e:t,this.length=0}set(t,a){this.cache.has(t)?this.cache.set(t,a):this[e](t,a)}get(t){var a=this.cache.get(t);return void 0!==a||(a=this.secondary.get(t),void 0!==a&&this[e](t,a)),a}del(e){this.cache.has(e)&&this.length--,this.cache.delete(e),this.secondary.delete(e)}has(e){return this.cache.has(e)||this.secondary.has(e)}clear(){this.cache.clear(),this.secondary.clear(),this.length=0}[e](e,t){this.length++,this.length>=this.limit&&(this.secondary=this.cache,this.cache=new Map,this.length=0),this.cache.set(e,t)}}self.LRUCache=r})()},fc58:function(e,t,a){(function(e){(()=>{const t=(e,t)=>{t=t||document;var a=t.querySelectorAll(e);return[].map.call(a,e=>e)},a=(e,t)=>{var a=document.createElement(e);return String.is(t)?a.classList.add(t):Array.is(t)&&t.forEach(e=>a.classList.add(e)),a},r=(e,t)=>{t.forEach(t=>{t!==e&&t.pause()})};e.ImageWall={whRate:3/4,async init(){const e=document.querySelector("#container > div");var i=[...t(".markup-content audio"),...t(".markup-content video")];i.forEach(e=>{e.onplay=()=>r(e,i)});var n=0,o=0;t(".markup-content .image-wall").forEach(e=>{var r=t("div.resource",e);e._total=r.length,e._index=0,e._frame=e.querySelector("div.image-container.image-ghost"),e._frame||(e._frame=a("div",["image-container","image-ghost"]),e.appendChild(e._frame)),e._float=e.querySelector("div.image-container.image-float"),e._float||(e._float=a("div",["image-container","image-float"]),e.appendChild(e._float)),e._left=e.querySelector("div.image-button-left"),e._left||(e._left=a("div","image-button-left"),e._left.innerHTML='<i class="fas fa-angle-left"></i>',e.appendChild(e._left),e._left.addEventListener("click",t=>{e._index<=0||(e._index--,e._float.style.transform="translateX(-"+100/e._total*e._index+"%)",e._index<e._total-1&&e._right.classList.remove("inactive"),e._index<=0&&e._left.classList.add("inactive"))})),e._right=e.querySelector("div.image-button-right"),e._right||(e._right=a("div","image-button-right"),e._right.innerHTML='<i class="fas fa-angle-right"></i>',e.appendChild(e._right),e._right.addEventListener("click",t=>{e._index>=e._total-1||(e._index++,e._float.style.transform="translateX(-"+100/e._total*e._index+"%)",e._index>0&&e._left.classList.remove("inactive"),e._index>=e._total-1&&e._right.classList.add("inactive"))})),e._callback=(i,n)=>{r.some(e=>!e._ready)||(e.classList.add("loaded"),e._index=0,e._float.style.transform="translateX(0%)",e._left.classList.add("inactive"),r.forEach((t,r)=>{var i=a("div","image-frame");e._frame.appendChild(i),i.appendChild(t)}),e._float.innerHTML=e._frame.innerHTML,e._float.style.width=100*e._total+"%",t("div.image-frame",e._float).forEach(t=>{t.style.width=100/e._total+"%"}))},r.forEach(t=>{e._frame.appendChild(t),t._wall=e,t.classList.add("inside")})}),await Promise.all(t("div.resource.image").map(t=>new Promise(a=>{n++;var r=t.querySelector("img"),i=t.querySelector("figure");if(!r)return o++,PageBroadcast.emit("change-loading-hint",{title:"载入图片: "+o+" / "+n}),a();var s=t.classList.contains("inside");s||t.classList.add("outside"),r.onload=()=>{var s=e.getBoundingClientRect().width;ImageWall.whRate;r._available=!0,r.setAttribute("oWidth",r.naturalWidth),r.setAttribute("oHeight",r.naturalHeight),i.classList.add("loaded"),i.style.backgroundImage="url("+r.src+")",t.style.width=r.naturalWidth+"px";var c=r.naturalWidth,l=r.naturalHeight;r.naturalHeight/r.naturalWidth>ImageWall.whRate?(i.classList.add("tall"),l=r.naturalWidth*ImageWall.whRate,c=l*r.naturalWidth/r.naturalHeight):i.classList.remove("tall"),i.style.width="100%",i.style.height="100%",t._wall&&(t._ready=!0,t._wall._callback(c,l)),o++,PageBroadcast.emit("change-loading-hint",{title:"载入图片: "+o+" / "+n}),a()},r.onerror=()=>{r._available=!1,t.classList.add("failed"),o++,PageBroadcast.emit("change-loading-hint",{title:"载入图片: "+o+" / "+n}),a()}})))}}})()}).call(this,a("950f"))}});
+(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],d=0,u=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);h&&h(t);while(u.length)u.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var s=a[i];0!==n[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var r={},i={index:0},n={index:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+".js"}function c(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-0b878644":1,"chunk-128206d4":1,"chunk-235ac417":1,"chunk-2498186d":1,"chunk-38f9ca80":1,"chunk-565e042e":1,"chunk-5b60140f":1,"chunk-7f0a1c05":1,"chunk-7fcc32b6":1,"chunk-9f0ca2e2":1,"chunk-dd9d4c74":1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=new Promise((function(t,a){for(var r="css/"+({}[e]||e)+".css",n=c.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var l=o[s],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===r||d===n))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){l=u[s],d=l.getAttribute("data-href");if(d===r||d===n)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||n,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete i[e],h.parentNode.removeChild(h),a(o)},h.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){i[e]=0})));var r=n[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,a){r=n[e]=[t,a]}));t.push(r[2]=o);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e);var u=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(h);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",u.name="ChunkLoadError",u.type=r,u.request=i,a[1](u)}n[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(a,r,function(t){return e[t]}.bind(null,r));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var h=d;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0747":function(e,t,a){"use strict";(function(e){const a=e=>{var t={};return e.forEach(e=>{var r={name:e.name,type:e.type};e.subs&&(r.subs=a(e.subs)),t[e.category]=r}),t};var r;e.getPathNameList=(t,a=!0)=>{if(!e.SiteMap)return null;var r=e.SiteMap,i=[],n=[];return t.some((e,t)=>{if(!r)return!0;var a=r[e];if(!a)return!0;var o={name:a.name};i.push(e),"page"===a.type?o.path="/"+i.join("/"):"viewer"!==a.type&&"view"!==a.type&&"folder"!==a.type||(o.path="/category",o.query={c:i.join(",")}),r=a.subs,n.push(o)}),a&&n.unshift({name:"首页",path:"/"}),n},PageBroadcast.on("route-updated",e=>{r&&r.disableFavoriteAction()}),PageBroadcast.on("memory-updated",e=>{var t,a=!0;if("history"===e.type)t="memory/history";else if("favorite"===e.type)t="memory/favorite";else{if("unfavorite"!==e.type)return;t="memory/favorite",a=!1}var i=localStorage.get(t,[]),n=-1;i.some((t,a)=>{if(t[1]===e.url)return n=a,!0}),n>=0&&i.splice(n,1),a&&(i.unshift([e.title,e.url]),i.length>10&&i.splice(10,i.length-10)),localStorage.set(t,i),r&&r.updateMemory()}),t["a"]={name:"NavBar",data(){return{menu:[{name:"随笔",type:"viewer",category:"essay",subs:[{name:"头脑风暴",type:"viewer",category:"mindstorm"},{name:"书评影评",type:"viewer",category:"reviews"},{name:"闲扯",type:"viewer",category:"issue"}]},{name:"格物致知",type:"viewer",category:"science",subs:[{name:"数学",type:"viewer",category:"math",subs:[{name:"组合数学",type:"viewer",category:"combination"},{name:"数论",type:"viewer",category:"number"},{name:"几何",type:"viewer",category:"geometry"}]},{name:"物理",type:"viewer",category:"physics",subs:[{name:"广义相对论",type:"viewer",category:"gravity"},{name:"规范场论",type:"viewer",category:"gauge"},{name:"复杂网络",type:"viewer",category:"complexnetwork"},{name:"量子计算",type:"viewer",category:"quantumcompute"},{name:"虚构",type:"viewer",category:"virtual"}]},{name:"算法信息论",type:"viewer",category:"AIT"},{name:"IT相关",type:"viewer",category:"IT",subs:[{name:"区块链",type:"viewer",category:"blockchain"}]}]},{name:"虚拟世界",type:"viewer",category:"novel",subs:[{name:"科幻",type:"viewer",category:"scific"},{name:"奇幻",type:"viewer",category:"magic"},{name:"推理",type:"viewer",category:"detective"}]},{name:"实用工具",type:"folder",category:"tools",subs:[{name:"解析 MarkUp",type:"page",category:"parseMarkup"},{name:"本地文库",type:"page",category:"localLibrary"},{name:"黑洞计算器",type:"page",category:"blackholeCalculator"},{name:"计算器（迁移中）",type:"page",category:"calculator"}]},{name:"休闲娱乐",type:"folder",category:"entertain",subs:[{name:"诡异哥布林与不靠谱守卫",type:"page",category:"ballcrush"},{name:"五子棋",type:"page",category:"rushgo"},{name:"自虐式炼脑",type:"page",category:"training"},{name:"终极生命",type:"page",category:"ultralife"},{name:"CyberAvatorArena (内测)",type:"page",category:"cyberavatorarena"},{name:"三消俄罗斯方块（迁移中）",type:"page",category:"tritetris"},{name:"无尽2048（迁移中）",type:"page",category:"infinity2048"}]},{name:"资料库",type:"viewer",category:"library",subs:[{name:"颜色表",type:"page",category:"",subs:[{name:"Web常用色彩表",type:"page",category:"webcolor"},{name:"中国古代常用色",type:"page",category:"chinesecolor"},{name:"日本古代常用色",type:"page",category:"japanesecolor"}]},{name:"码库",type:"page",category:"",subs:[{name:"MarkUp 语法表",type:"page",category:"markup"},{name:"LaTeX 数学公式",type:"page",category:"latex"}]},{name:"常用数据",type:"article",category:"library/data.md"},{name:"有趣好站",type:"article",category:"library/website.md"}]}],aboutMe:"aboutMe",aboutMenu:[{name:"收藏",type:"action",category:"addFavorite",disabled:!0},{name:"搜索",type:"page",category:"search"},{name:"配色",type:"action",category:"color",subs:[{name:"亮",type:"action",category:"light"},{name:"淡",type:"action",category:"normal"},{name:"黯",type:"action",category:"dark"}]},{name:"设置",type:"page",category:"",subs:[{name:"秘钥管理",type:"action",category:"keyManager"},{name:"本站",type:"page",category:"about"}]}],memoryMenu:{name:"记忆宫殿",type:"page",category:"",subs:[{name:"收藏夹",type:"page",category:"",subs:[]},{name:"浏览历史",type:"page",category:"",subs:[]}]}}},mounted(){r=this,this.aboutMe?(this.aboutMenu[3].subs[1]={name:"关于",type:"page",category:"",subs:[this.aboutMenu[3].subs[1]]},this.aboutMenu[3].subs[1].subs.unshift({name:"本站",type:"page",category:this.aboutMe}),this.aboutMenu[3].subs[1].subs[1].name="系统"):this.aboutMenu[3].subs[1].name="关于",1===memoryMode?this.memoryMenu.name="浏览历史":2===memoryMode&&(this.memoryMenu.name="收藏夹"),this.menu.push(this.memoryMenu),this.updateMemory(),e.SiteMap=a(this.menu),e.CatePathMap={},e.CateNameMap={},this.generateSiteMap(CatePathMap,CateNameMap,SiteMap)},methods:{toggleHint(){Devices.isMobile&&document.querySelector(".masker").classList.add("show")},backHome(){location.href="/#"},updateMemory(){if(memoryMode<1)return this.aboutMenu[0].disabled=!0,void(this.memoryMenu.disabled=!0);1===memoryMode?this.aboutMenu[0].disabled=!0:this.aboutMenu[0].disabled=!1;var e=[],t=[];if(2!==memoryMode&&(e=localStorage.get("memory/history",e)),1!==memoryMode&&(t=localStorage.get("memory/favorite",t)),0===e.length&&0===t.length)this.memoryMenu.disabled=!0,memoryMode>1&&(this.aboutMenu[0].name="添加收藏",this.aboutMenu[0].category="addFavorite");else{if(this.memoryMenu.disabled=!1,0===e.length)1===this.memoryMode?this.memoryMenu.disabled=!0:this.memoryMode>2&&(this.memoryMenu.subs[1].disabled=!0);else{let t;1===memoryMode?t=this.memoryMenu:memoryMode>2&&(t=this.memoryMenu.subs[1]),t.disabled=!1,t.subs.length>e.length&&t.subs.splice(e.length,t.subs.length-e.length),e.forEach((e,a)=>{t.subs[a]={name:e[0],type:"article",category:e[1]}})}if(0===t.length)2===this.memoryMode?(this.memoryMenu.disabled=!0,this.aboutMenu[0].name="添加收藏",this.aboutMenu[0].category="addFavorite"):this.memoryMode>2&&(this.memoryMenu.subs[0].disabled=!0,this.aboutMenu[0].name="添加收藏",this.aboutMenu[0].category="addFavorite");else{let e;this.memoryMenu.subs[0].disabled=!1,2===memoryMode?e=this.memoryMenu:memoryMode>2&&(e=this.memoryMenu.subs[0]),e.disabled=!1,e.subs.length>t.length&&e.subs.splice(t.length,e.subs.length-t.length);let a=!1;t.forEach((t,r)=>{e.subs[r]={name:t[0],type:"article",category:t[1]},t[1]===(window.PageInfo||"").url&&(a=!0)}),a?(this.aboutMenu[0].name="取消收藏",this.aboutMenu[0].category="removeFavorite"):(this.aboutMenu[0].name="添加收藏",this.aboutMenu[0].category="addFavorite")}}},disableFavoriteAction(){this.aboutMenu[0].disabled=!0},generateSiteMap(e,t,a,r=""){for(let i in a){if(!i)continue;let n=a[i],o=r+"/"+i;t[n.name]=o,e[o]=n.name;let s=n.subs;s&&this.generateSiteMap(e,t,s,o)}}}}}).call(this,a("950f"))},1214:function(e,t){if(window.totalDecodeURI=e=>{var t=decodeURIComponent(e);return t===e?t:totalDecodeURI(t)},window.useSharedWorker=!!window.SharedWorker,useSharedWorker){let e=new Map,t=()=>Math.floor(1e8*Math.random()),a="Shared-Worker DataCenter",r=new SharedWorker("/js/worker/dataCenter.js"),i=r.port;i.onmessage=({data:t})=>{console.log(a+" finished task-"+t.tid);var r=e.get(t.tid);e.delete(t.tid),r&&r(t.result)};let n=e=>{i.postMessage(e)};window.DataCenter={get:(r,i,o)=>new Promise(s=>{var c=t();e.set(c,s),console.log(a+" start task-"+c+": get : "+r+"/"+i+"/"+o),n({tid:c,action:"get",dbName:r,store:i,key:o})}),set:(r,i,o,s)=>new Promise(c=>{var l=t();e.set(l,c),console.log(a+" start task-"+l+": set : "+r+"/"+i+"/"+o),n({tid:l,action:"set",dbName:r,store:i,key:o,value:s})}),all:(r,i,o)=>new Promise(s=>{var c=t();e.set(c,s),console.log(a+" start task-"+c+": all : "+r+"/"+i+"/"+(o||"default")),n({tid:c,action:"all",dbName:r,store:i,key:o})}),del:(r,i,o)=>new Promise(s=>{var c=t();e.set(c,s),console.log(a+" start task-"+c+": del : "+r+"/"+i+"/"+o),n({tid:c,action:"del",dbName:r,store:i,key:o})}),clear:(r,i)=>new Promise(o=>{var s=t();e.set(s,o),console.log(a+" start task-"+s+": clear : "+r+"/"+i),n({tid:s,action:"clear",dbName:r,store:i})}),searchArticle:async r=>new Promise(i=>{var o=t();e.set(o,i),console.log(a+" start task-"+o+": search : "+r),n({tid:o,action:"searchArticle",command:r,prefix:[Barn.API,Barn.DataGranary],map:CatePathMap})})}}window.Barn={server:"",API:"/api",DataGranary:"/api/granary",dbName:"APIData",async init(){useSharedWorker||(await loadJS("./js/worker/dataCenter.js"),await DataCenter.init())},quests:new Map,waitForRequest:e=>new Promise(t=>{var a=Barn.quests.get(e);a?a.push(t):t(null)}),get(e,t=!1,a=0){return new Promise(async r=>{var i=await DataCenter.get(Barn.dbName,"data",e);if(!(i&&(r(i.data),t&&a<=i.update)))if(Barn.quests.get(e)){let t=await Barn.waitForRequest(e);i||r(t)}else{let t;Barn.quests.set(e,[]);try{t=await axios.get(Barn.server+e)}catch(n){t=null,console.error(n)}if(t&&(t=t.data),t){await DataCenter.set(Barn.dbName,"data",e,{data:t,update:a||Date.now()});let r=i&&i.data.update||0,n=t.update||0;if(n>r||void 0===t.update){let t={latest:n,last:r},a=!!e.match(/(^sources|[\\\/]sources)\.json$/i);if(a?t.target="SOURCE":(0===e.indexOf(Barn.DataGranary)&&(e=e.replace(Barn.DataGranary,"")),t.target=e),window.BroadcastChannel){let e=new BroadcastChannel("source-updated");e.postMessage(t)}else PageBroadcast.emit("source-updated",t)}}let o=Barn.quests.get(e);Barn.quests.delete(e),i||r(t),o&&o.forEach(e=>e(t))}})},async clearAllCache(){await DataCenter.clear(Barn.dbName,"data")}},window.Granary={async getSource(e,t,a){e=totalDecodeURI(e);var r={articles:[],comments:[]};return await Promise.all(Array.generate(t+1).map(async t=>{var i=Barn.API+"/"+e+"-"+t+".json",n=await Barn.get(i,!0,a);String.is(n)||(r.articles.push(...n.articles),r.comments.push(...n.comments))})),r.articles.sort((e,t)=>t.publish-e.publish),r.comments.sort((e,t)=>t.publish-e.publish),r},async getCategory(e,t=0,a=10){e=totalDecodeURI(e);var r=await Barn.get(Barn.API+"/sources.json",!1),i=[];if(!r||!r.sources)return i;var n=r.update||0,o=r.sources.map(async t=>{var a=await Granary.getSource(t.owner,t.pages,n);a=a.articles.filter(t=>0===t.sort.indexOf(e)),i.push(...a)});o.push((async()=>{var t="/"+e,a=await BookShelf.getAllArticles();a.reverse().forEach(e=>{e.category=e.category||[],e.category.forEach(a=>{if(0===a.indexOf(t)){var r={type:"local",title:e.title,author:e.author,description:e.description,filename:e.id,publish:e.publish,sort:a};i.push(r)}})})})()),await Promise.all(o);var s={};return i.forEach(e=>{var t=null;if("article"===e.type)t=e.sort+"/"+e.filename;else if("redirect"===e.type)t=e.target;else{if("local"!==e.type)return;t=e.filename}var a=s[t];(!a||e.publish>a.publish)&&(s[t]=e)}),i=Object.values(s),i.sort((e,t)=>t.publish-e.publish),i=i.splice(t*a,a),i},async getColumnHeader(e){e=totalDecodeURI(e);var t=await Barn.get(Barn.API+"/sources.json",!1);t=t||{},t.update=t.update||0;var a,r=Barn.DataGranary+"/";e&&(r=r+e+"/"),r+="info.md";try{a=await Barn.get(r,!0,t.update),a=a||""}catch(i){a=""}return a},async getArticle(e,t=0){if(e=totalDecodeURI(e),t<=0){var a=await Barn.get(Barn.API+"/sources.json",!1);a=a||{},t=a.update||0}var r;e=Barn.DataGranary+"/"+e;try{r=await Barn.get(e,!0,t),r=r||""}catch(i){r="你所寻找的文件不存在！"}return r},async getContent(e,t=!0){if(e=totalDecodeURI(e),t){var a=await Barn.get(Barn.API+"/sources.json",!1);a=a||{},timestamp=a.update||0}var r;try{r=await Barn.get(e,t,timestamp),r=r||""}catch(i){r="你所寻找的文件不存在！"}return r},async clearAllCache(){sessionStorage.clear();var e=[Barn.clearAllCache()];window.caches&&e.push(caches.delete("schwarzschild")),await Promise.all(e)}},window.BookShelf={dbName:"localBookShelf",newLongID(){var e=[];for(let t=0;t<32;t++){let t=Math.floor(62*Math.random());t<10?e.push(t+""):t<36?e.push(String.fromCharCode(t+87)):e.push(String.fromCharCode(t+29))}return e.join("")},async getAllArticles(){return await DataCenter.all(BookShelf.dbName,"list","publish")},async getArticle(e){return await DataCenter.get(BookShelf.dbName,"article",e)},async saveArticle(e){var t={id:e.id,title:e.title,category:e.category,author:e.author,description:e.description,publish:e.publish},a={id:e.id,title:e.title,content:e.content};if(await Promise.all([DataCenter.set(BookShelf.dbName,"list",e.id,t),DataCenter.set(BookShelf.dbName,"article",e.id,a)]),window.BroadcastChannel){let t=new BroadcastChannel("local-article-updated");t.postMessage(e.id)}},async removeArticle(e){await Promise.all([DataCenter.del(BookShelf.dbName,"list",e),DataCenter.del(BookShelf.dbName,"article",e)])}}},2294:function(e,t,a){},3202:function(e,t){(async()=>{if(navigator.serviceWorker){if(window.caches){let e=await caches.keys();e.length>0&&e.forEach(async e=>{var t=await caches.open(e),a=await t.keys();console.log("资源缓存库 "+e+": "+a.length)})}try{let e=await navigator.serviceWorker.getRegistrations();console.log("Service Worker: "+e.length);for(let t of e)t.waiting&&(console.log("有等待中的新版本 Service Worker"),notify({title:"有新版网站中台等待更新",message:"新版 Service Worker 将在下次打开本页面后启用。",duration:5e3,type:"warn"}))}catch(e){console.error("获取已安装 Service 出错：",e)}try{let e=await navigator.serviceWorker.register("/priory.js");e.onupdatefound=e=>{e.target.update()},console.log("安装 Service Worker "+(e?"成功":"失败"))}catch(e){console.error("安装本地 Service 出错：",e)}}})()},"346c":function(e,t,a){},"3dfd":function(e,t,a){"use strict";var r=a("79c4");const i={id:"container"},n=Object(r["h"])("div",{id:"footnoteFrame"},null,-1),o=Object(r["h"])("i",{class:"fas fa-angle-up"},null,-1);function s(e,t,a,s,c,l){const d=Object(r["x"])("NavBar"),u=Object(r["x"])("loading"),h=Object(r["x"])("Notification"),m=Object(r["x"])("InfoBox"),p=Object(r["x"])("ImageShowcase"),g=Object(r["x"])("KeyManager"),f=Object(r["x"])("router-view"),y=Object(r["x"])("TailBar");return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])(d),Object(r["h"])(u),Object(r["h"])(h,{hAlign:"right",vAlign:"top"}),Object(r["h"])(m),Object(r["h"])(p),Object(r["h"])(g),Object(r["h"])("div",i,[Object(r["h"])(f)]),n,Object(r["h"])(y),Object(r["h"])("div",{class:"backer",show:c.overscroll,onClick:t[1]||(t[1]=(...e)=>l.backTop&&l.backTop(...e))},[o],8,["show"]),Object(r["h"])("div",{ref:"masker",class:"masker",onClick:t[2]||(t[2]=(...e)=>l.onClick&&l.onClick(...e))},null,512)],64)}var c={name:"App",data(){return{overscroll:!1}},mounted(){app.onscroll=this.onScroll},methods:{onScroll(){app.scrollTop>=app.offsetHeight?this.overscroll||(this.overscroll=!0):this.overscroll&&(this.overscroll=!1),PageBroadcast.emit("page-scroll",{top:app.scrollTop,total:app.scrollHeight,height:app.offsetHeight})},onClick(){this.$refs.masker.classList.remove("show")},backTop(){app.scrollBy({top:-app.scrollTop,behavior:"smooth"})}}};c.render=s;t["a"]=c},"4cf0":function(e,t,a){},"4fd0":function(e,t,a){"use strict";var r=a("79c4");const i={class:"title"},n={ref:"content",class:"content"},o={key:0,class:"inputter"},s={class:"controller"};function c(e,t,a,c,l,d){return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("div",{class:"infobox-mask",show:l.show},null,8,["show"]),Object(r["h"])("div",{class:"infobox-frame scroller",show:l.show},[Object(r["h"])("div",i,Object(r["z"])(l.title),1),Object(r["h"])("div",n,null,512),l.showInput?(Object(r["q"])(),Object(r["d"])("div",o,[Object(r["h"])("input",{ref:"inputter",type:"text",onKeydown:[t[1]||(t[1]=Object(r["F"])(e=>d.onClick("ok"),["esc"])),t[2]||(t[2]=Object(r["F"])(e=>d.onClick("cancel"),["enter"]))]},null,544)])):Object(r["e"])("",!0),Object(r["h"])("div",s,[Object(r["h"])("div",{class:"btn",action:"yes",hidden:!l.actYes,onClick:t[3]||(t[3]=e=>d.onClick("yes"))},"是",8,["hidden"]),Object(r["h"])("div",{class:"btn",action:"no",hidden:!l.actNo,onClick:t[4]||(t[4]=e=>d.onClick("no"))},"否",8,["hidden"]),Object(r["h"])("div",{class:"btn",action:"ok",hidden:!l.actOk,onClick:t[5]||(t[5]=e=>d.onClick("ok"))},"确定",8,["hidden"]),Object(r["h"])("div",{class:"btn",action:"cancel",hidden:!l.actCancel,onClick:t[6]||(t[6]=e=>d.onClick("cancel"))},"取消",8,["hidden"])])],8,["show"])],64)}var l,d,u;window.showInfobox=async e=>{if(l)return await l.showInfoBox(e)};var h={name:"InfoBox",data(){return{show:!1,title:"",showInput:!1,actYes:!1,actNo:!1,actOk:!1,actCancel:!1}},install(e){a("86ba"),e.component("InfoBox",this)},mounted(){l=this},methods:{showInfoBox(e){return new Promise(t=>{this.show||(String.is(e)?(this.title=e,this.actOk=!0,this.actYes=!1,this.actNo=!1,this.actCancel=!1):(this.title=e.title||"",e.mode=e.mode||"",this.showInput=!!e.input,"html"===e.mode.toLowerCase()?this.$refs.content.innerHTML=e.content||"":this.$refs.content.innerText=e.content||"",e.action=e.action.toLowerCase(),this.actYes=e.action.indexOf("y")>=0,this.actNo=e.action.indexOf("n")>=0,this.actOk=e.action.indexOf("o")>=0,this.actCancel=e.action.indexOf("c")>=0),u&&u(null,null,this),u=t,d&&d(null,null,this),d=e.callback,this.show=!0)})},onClick(e){if(("yes"!==e||this.actYes)&&("no"!==e||this.actNo)&&("ok"!==e||this.actOk)&&("cancel"!==e||this.actCancel)){var t=null;this.$refs.inputter&&(t=this.$refs.inputter.value),u&&u(e,t||null,this),u=null,d&&d(e,t||null,this),d=null,this.show=!1,this.$refs.inputter&&(this.$refs.inputter.value="")}}}};h.render=c;t["a"]=h},5103:function(e,t,a){"use strict";var r=a("79c4");const i={class:"keyManagerFrame"},n=Object(r["h"])("div",{class:"title"},"秘钥管理",-1),o=Object(r["h"])("div",{class:"desc"},"秘钥将用于加密阅读",-1),s={class:"keyListArea"},c=Object(r["h"])("i",{class:"fas fa-times"},null,-1),l={class:"controlBox"};function d(e,t,a,d,u,h){return Object(r["q"])(),Object(r["d"])("div",{class:"KeyManager",show:u.show,onClick:t[3]||(t[3]=(...e)=>h.close&&h.close(...e))},[Object(r["h"])("div",i,[n,o,Object(r["h"])("div",s,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(u.keyList,e=>(Object(r["q"])(),Object(r["d"])("div",{class:"keyItem",current:e.current},[Object(r["h"])("div",{class:"keyContent",onClick:t=>h.chooseKey(e.key)},Object(r["z"])(e.key),9,["onClick"]),e.editable?(Object(r["q"])(),Object(r["d"])("div",{key:0,class:"keyDeleter",onClick:t=>h.removeKey(e.key,e.editable)},[c],8,["onClick"])):Object(r["e"])("",!0)],8,["current"]))),256))]),Object(r["h"])("div",l,[Object(r["h"])("input",{ref:"keyInputter",type:"text",onKeydown:t[1]||(t[1]=(...e)=>h.onEnter&&h.onEnter(...e))},null,544),Object(r["h"])("button",{onClick:t[2]||(t[2]=(...e)=>h.appendKey&&h.appendKey(...e))},"添加")])])],8,["show"])}const u="ob5n5mojn0f6XgqSL1p/rIn9EiSOGUxFjpofSKb6PDc=";localStorage.CurrentKey||(localStorage.CurrentKey=u);var h=null;PageBroadcast.on("setting",e=>{h&&"KeyManager"===e.action&&(h.update(),h.show=!0)});var m={name:"KeyManager",data(){return{show:!1,keyList:[]}},created(){h=this;var e=localStorage.getItem("CurrentKey");e||localStorage.setItem("CurrentKey",u)},methods:{update(){var e=localStorage.getItem("CurrentKey");e||(localStorage.setItem("CurrentKey",u),e=u),this.keyList.clear(),this.keyList.push({key:u,editable:!1,current:e===u});var t=localStorage.get("keyList",[]);0!==t.length&&this.keyList.push(...t.map(t=>({key:t,editable:!0,current:e===t})))},close(e){e.target===this.$el&&(this.show=!1)},chooseKey(e){localStorage.setItem("CurrentKey",e),this.keyList.forEach(t=>t.current=t.key===e),notify({type:"success",title:"密钥更换成功"})},removeKey(e,t){if(t){if(e){var a=-1;if(this.keyList.some((t,r)=>{if(t.key===e)return a=r,!0}),!(a<0)){this.keyList.splice(a,1),notify({type:"success",title:"成功删除密钥"+e});var r=this.keyList.map(e=>e.key);r.splice(0,1),localStorage.set("keyList",r)}}}else notify({type:"warn",title:"该密钥不可删除"})},appendKey(){var e=this.$refs.keyInputter.value;if(!e)return notify({type:"warn",title:"请输入密钥数据"}),void this.$refs.keyInputter.focus();this.keyList.push({key:e,editable:!0,current:!1}),this.$refs.keyInputter.value="",notify({type:"success",title:"成功添加密钥"+e});var t=this.keyList.map(e=>e.key);t.splice(0,1),localStorage.set("keyList",t)},onEnter(e){13===e.keyCode&&this.appendKey()}}};m.render=d;t["a"]=m},"55c7":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t),function(e){a("f5f8"),a("b43b"),a("94b5"),a("3202"),a("1214"),a("cf03"),a("6ae3"),a("fc58");var t=a("79c4"),r=a("7338"),i=a.n(r),n=a("3dfd"),o=a("a18c"),s=a("c428"),c=a("75be"),l=a("4fd0"),d=a("9d8d"),u=a("b2e4"),h=a("d61b"),m=a("bfef"),p=a("5103"),g=a("aab0"),f=a("8397"),y=a("c531");a("346c"),a("aa46"),a("5aea"),a("2294"),a("9a67"),a("4cf0"),a("6851"),a("899d"),a("55c7"),a("6f45"),a("8f09"),a("c879"),e.axios=i.a,e.memoryMode=3,Devices.isMobile?document.body.classList.add("mobile"):document.body.classList.add("notmobile"),(async()=>{if(await LifeCycle.emit.loaded()){await Promise.all([Barn.init(),InitAsimov()]);const e=Object(t["c"])(n["a"]);if(e.config.globalProperties.SiteName="超科技现象统计局",e.config.globalProperties.SiteOwner="LostAbaddon",e.config.globalProperties.LikeCoin=null,e.use(c["a"]),e.use(l["a"]),e.component("Loading",s["a"]),e.component("NavBar",d["a"]),e.component("NavMenuBar",u["a"]),e.component("NavMenuItem",h["a"]),e.component("TailBar",m["a"]),e.component("KeyManager",p["a"]),e.component("ImageShowcase",g["a"]),e.component("Crumb",f["a"]),e.component("Column",y["a"]),await LifeCycle.emit.ready(e)){e.use(o["a"]).mount("#app"),o["a"].app=e,document.body.addEventListener("keydown",e=>{"s"===e.key&&e.ctrlKey&&(o["a"].push({path:"/search"}),e.preventDefault())}),await LifeCycle.emit.initialized(e);let t=sessionStorage.getItem("sourceUpdated");t&&(sessionStorage.removeItem("sourceUpdated"),notify({title:"网站有新数据",message:t+" 已更新\n刷新可浏览新内容",duration:3e3,type:"success"}))}}})()}.call(this,a("950f"))},"5aea":function(e,t,a){},6851:function(e,t,a){},"6ae3":function(e,t){(()=>{var e,t;const a=async a=>{var r=a.target,i=r.className,n=r.getAttribute("href");if(n&&"#"===n.substr(0,1)){n=n.substring(1,n.length);var o=t.querySelector('a[name="'+n+'"]');if(o){var s=o.parentElement.innerHTML.replace(o.outerHTML,""),c="";"terminology"===i&&(c='<p class="note-title">'+r.innerText+"</p>"),c+='<p class="note-content">'+s+"</p>",e.innerHTML=c,e._status=1;var l=r.getBoundingClientRect(),d=!0,u=!0,h=l.left-10,m=l.top+l.height+10;h>.6*window.innerWidth&&(u=!1,h=window.innerWidth-l.right),m>.7*window.innerHeight&&(d=!1,m=window.innerHeight-l.top),u?(e.style.left=h+"px",e.style.right=""):(e.style.left="",e.style.right=h+"px"),d?(e.style.top=m+"px",e.style.bottom=""):(e.style.top="",e.style.bottom=m+"px"),e.style.display="block",await wait(50),e.style.opacity="1",e._status=2}}},r=async t=>{e.style.opacity="0",await wait(200),2===e._status&&(e.style.display="none",e._status=0)},i=async a=>{var r=a.target,i=r.className;if("notemark"===i||"terminology"===i){var n=r.computedStyleMap();n=n.get("text-decoration").toString();var o=!1;if(n.indexOf("underline")>=0&&(o=!0),o){var s=r.getAttribute("href");if("#"!==s.substr(0,1))return;s=s.substring(1,s.length);var c=t.querySelector('a[name="'+s+'"]');if(!c)return;var l=c.parentElement.innerHTML.replace(c.outerHTML,""),d="";"terminology"===i&&(d='<p class="note-title">'+r.innerText+"</p>"),d+='<p class="note-content">'+l+"</p>",e.innerHTML=d,e._status=1;var u=r.getBoundingClientRect(),h=!0,m=!0,p=u.left-10,g=u.top+u.height+10;p>.6*window.innerWidth&&(m=!1,p=window.innerWidth-u.right),g>.7*window.innerHeight&&(h=!1,g=window.innerHeight-u.top),m?(e.style.left=p+"px",e.style.right=""):(e.style.left="",e.style.right=p+"px"),h?(e.style.top=g+"px",e.style.bottom=""):(e.style.top="",e.style.bottom=g+"px"),e.style.display="block",await wait(50),e.style.opacity="1",e._status=2}else e.style.opacity="0",await wait(200),2===e._status&&(e.style.display="none",e._status=0)}},n=(e,t)=>{Devices.isMobile||e.querySelectorAll(t).forEach(e=>{var t=e.getAttribute("footnote_inited");t||(e.addEventListener("mouseleave",r),e.addEventListener("mouseenter",a),e.setAttribute("footnote_inited",!0))})},o=(e,t)=>{Devices.isMobile||e.querySelectorAll(t).forEach(e=>{var t=e.getAttribute("footnote_inited");t&&(e.removeEventListener("mouseleave",r),e.removeEventListener("mouseenter",a),e.removeAttribute("footnote_inited"))})};window.InitNotes=a=>{e=document.querySelector("#footnoteFrame"),e._status=e._status||0,t!==a&&t&&destructe(),t=a;var r=a.getAttribute("footnoted");r||(a.setAttribute("footnoted",!0),a.addEventListener("transitionstart",i)),n(a,"a.notemark"),n(a,"a.terminology")},window.destructe=()=>{t.removeEventListener("transitionstart",i),o(UI,"a.notemark"),o(UI,"a.terminology")};const s=e=>{var t,a,r=!0;if((e.tagName+"").match(/th/i)){if("true"!==e.getAttribute("sortable"))return[null,null];a=e}else{a=e;while(r){if(a=a.parentNode,!a)return[null,null];if((a.tagName+"").match(/th/i)){if("true"===a.getAttribute("sortable")){r=!1;break}return[null,null]}}}if(t=a.parentNode,t.tagName.match(/table/i))return[t,a];r=!0;while(r){if(t=t.parentNode,!t)return[null,null];if(t.tagName.match(/table/i))return r=!1,[t,a]}return[null,null]};document.body.addEventListener("click",e=>{var[t,a]=s(e.target);if(t&&a){var r=-1;if([].some.call(a.parentNode.children,(e,t)=>{if(e===a)return r=t,!0}),!(r<0)){var i=a.getAttribute("sortdir");i="down"!==i?"down":"up",[].forEach.call(a.parentNode.querySelectorAll("th"),e=>{e!==a?e.removeAttribute("sortdir"):e.setAttribute("sortdir",i)});var n=[].map.call(t.querySelectorAll("tbody > tr"),e=>e);n=n.map((e,t)=>{var a=[].map.call(e.querySelectorAll("td"),e=>e)[r],i=1*a.innerText;return isNaN(i)&&(i=0),[t,i,e]}),n.sort((e,t)=>"up"===i?t[1]-e[1]:e[1]-t[1]),n.forEach(([e,t,a])=>{var r=a.parentNode;r.appendChild(a)})}}});var c=25,l=5,d=50,u=["rgb(222, 28, 49)","rgb(152, 54, 128)","rgb(15, 89, 164)","rgb(18, 161, 130)","rgb(254, 215, 26)"];const h=e=>{if(!(e._index>=e._limit)){var t=e._data[e._index].copy(),a=t.splice(0,1)[0];e._hint?e._titleHint.innerText="("+e._hint+": "+a+")":e._titleHint.innerText="("+a+")";var r=[],i=[];t.forEach((e,t)=>{Number.is(e)?r.push([t+1,e]):i.push([t+1,e])}),r.sort((e,t)=>t[1]-e[1]),r.length>e._count&&i.unshift(...r.splice(e._count,r.length));var n=0;r.forEach(e=>{var t=e[1];t>n&&(n=t)}),r.forEach((t,a)=>{var r=e._bars[t[0]],i=Math.max(0,t[1]),o=u[a];o||(o=u.last),r.style.top=a*(c+l)+l+"px",r.style.width=Math.round(e._panelWidth*i/n)+"px",r.style.backgroundColor=o,r._value.innerText=t[1]}),i.forEach(t=>{var a=e._bars[t[0]],r=Math.max(0,t[1]);a.style.top=e._count*(c+l)+2*l+"px",a.style.width=Math.round(e._panelWidth*r/n)+"px",a.style.backgroundColor=u.last,a._value.innerText=t[1]}),e._index++,e._index<e._limit?setTimeout(h,e._duration,e):e._replay?(e._replay.style.opacity=1,e._replay.style.pointerEvents="auto"):e._repeat>0&&(e._index=0,setTimeout(h,e._repeat,e))}};window.initTableAnimationChart=()=>{[].forEach.call(document.querySelectorAll("div.animate-chart"),e=>{if(e._duration=1*e.getAttribute("duration"),isNaN(e._duration)&&(e._duration=1e3),e._repeat=1*e.getAttribute("repeatwait"),isNaN(e._repeat)&&(e._repeat=-1),e._count=1*e.getAttribute("barcount"),isNaN(e._count)&&(e._count=3),e._hint=(e.getAttribute("hint")||"").trim(),e._data=e.querySelector(".animate-chart-data"),e._data)if(e._data=e._data.innerText,e._data){try{e._data=JSON.parse(e._data)}catch(a){return void e.parentNode.removeChild(e)}var t=0;e._titleHint=e.querySelector(".animate-chart-title-hint"),e._panel=e.querySelector(".animate-chart-panel"),e._bars=[].map.call(e._panel.querySelectorAll(".animate-chart-bar"),e=>{e._value=e.querySelector(".animate-chart-bar-value");var a=e.querySelector(".animate-chart-bar-title");if(a){let e=Math.ceil(a.getBoundingClientRect().width)+10;e>t&&(t=e)}return e}),e._bars.unshift(null),e._replay=e.querySelector(".animate-chart-replay"),e._replay&&e._replay.addEventListener("click",()=>{e._replay.style.opacity=0,e._replay.style.pointerEvents="none",e._index=0,h(e)}),e._panel.style.height=Math.max(0,e._count*(c+l)+l)+"px",e._panelWidth=e._panel.getBoundingClientRect().width-t-d,e._bars.forEach(e=>{e&&(e.style.left=t+"px")}),e._index=0,e._limit=e._data.length,h(e)}else e.parentNode.removeChild(e);else e.parentNode.removeChild(e)})}})()},"6f45":function(e,t,a){},"75be":function(e,t,a){"use strict";var r,i=a("79c4");function n(e,t,a,r,n,o){return Object(i["q"])(),Object(i["d"])("div",{class:"notifaction-frame",horizontal:a.hAlign,vertial:a.vAlign,onClick:t[1]||(t[1]=(...e)=>o.onClick&&o.onClick(...e))},null,8,["horizontal","vertial"])}var o=new Set;PageBroadcast.on("show-notification",e=>{notify(e)}),window.notify=e=>{r?r.showMessage(e):o.add(e)};var s={name:"Notification",props:{hAlign:String,vAlign:String},install(e){a("7fd5"),e.component("Notification",this)},async mounted(){if(r=this,o){for(let e of o)await wait(),this.showMessage(e);o.clear(),o=null}},methods:{async showMessage(e){String.is(e)&&(e={title:e});var t=e.duration||3e3,a=Math.floor(1e10*Math.random());e.key=a,e.ele=this.newMsg(e),e.ele.exit=async()=>{e.timer&&clearTimeout(e.timer),delete e.timer,e.ele.classList.remove("show"),await wait(300),this.$el.removeChild(e.ele),delete e.ele.exit,delete e.ele},this.$el.appendChild(e.ele),await wait(100),e.ele.classList.add("show"),e.timer=setTimeout(e.ele.exit,t)},newMsg(e){var t=document.createElement("section");if(t.setAttribute("key",e.key),t.setAttribute("type",e.type||"default"),e.title){let a=document.createElement("header");a.innerText=e.title,t.appendChild(a)}if(e.message){let a=document.createElement("article");a.innerText=e.message,t.appendChild(a)}return t},onClick(e){var t=e.target;t&&t.exit&&t.exit()}}};s.render=n;t["a"]=s},"7fd5":function(e,t,a){},8397:function(e,t,a){"use strict";var r=a("79c4");const i={key:0,class:"crumb"},n=Object(r["h"])("span",{class:"hint"},"位置：",-1),o=Object(r["h"])("i",{class:"fas fa-angle-right"},null,-1);function s(e,t,a,s,c,l){return c.show?(Object(r["q"])(),Object(r["d"])("div",i,[n,(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(c.path,(e,t)=>(Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("span",{onClick:t=>l.jump(e.path,e.query)},Object(r["z"])(e.name),9,["onClick"]),o],64))),256))])):Object(r["e"])("",!0)}var c=null;PageBroadcast.on("page-changed",()=>{c&&c.update()});var l={name:"Crumb",data(){return{show:!0,path:[]}},props:{target:String},methods:{jump(e,t){t=Proxy.toObject(t);var a={path:e,query:t};this.$router.push(a),e===this.$route.path&&PageBroadcast.emit("page-changed",a)},update(){var e=null,t="",a=!!this.$route.query.l;if("/"===this.$route.path)e=null;else if("/category"===this.$route.path)this.$route.query&&this.$route.query.c&&(e=decodeURIComponent(this.$route.query.c).split(",").filter(e=>e.length>0),t="viewer");else if("/view"===this.$route.path){let a=this.$route.query.f||this.$route.query.l;this.$route.query&&a&&(e=decodeURIComponent(a).split("/"),e.pop(),e=e.filter(e=>e.length>0),t="view")}else{let a=this.target||this.$route.path;e=a.split("/").filter(e=>e.length>0),t="view"}e?(this.show=!0,this.path.splice(0,this.path.length),"viewer"!==t&&"page"!==t||e.pop(),a&&0===e.length&&e.push("tools","localLibrary"),this.path.push(...getPathNameList(e))):this.show=!1}},mounted(){this.update(),c=this},unmounted(){c=null}};l.render=s;t["a"]=l},"86ba":function(e,t,a){},"899d":function(e,t,a){},"8f09":function(e,t,a){},"94b5":function(e,t,a){(function(e){window.EventEmitter=class{constructor(){this._events=new Map,this._onces=new Map}on(e,t){var a=this._events.get(e);a||(a=new Set,this._events.set(e,a)),a.add(t)}once(e,t){var a=this._events.get(e);a||(a=new Set,this._events.set(e,a)),a.add(t);var r=this._onces.get(e);r||(r=new Set,this._onces.set(e,r)),r.add(t)}off(e,t){var a=this._events.get(e);a&&a.delete(t);var r=this._onces.get(e);r&&r.delete(t)}clear(e){var t=this._events.get(e);t&&(t.clear(),this._events.delete(e));var a=this._onces.get(e);a||(a.clear(),this._onces.delete(e))}clearAll(){for(let[e,t]of this._events)t.clear();this._events.clear();for(let[e,t]of this._onces)t.clear();this._onces.clear()}emit(e,...t){var a=this._events.get(e);if(a){var r=this._onces.get(e);for(let e of a){let i=e(...t);if(r&&r.has(e)&&(a.delete(e),r.delete(e)),i&&!(i instanceof Promise))break}}}async emitPipely(e,...t){var a=this._events.get(e);if(a){var r=this._onces.get(e);for(let e of a){let i=await e(...t);if(r&&r.has(e)&&(a.delete(e),r.delete(e)),i)break}}}},window.PageBroadcast=new EventEmitter,localStorage.__proto__.get=function(e,t={}){var a=this.getItem(e);if(!a)return t;try{a=JSON.parse(a)}catch(r){return t}return a},localStorage.__proto__.set=function(e,t){t=JSON.stringify(t),this.setItem(e,t)},localStorage.__proto__.getWithExpire=function(e,t,a={}){"number"!==typeof t&&(a=t,t=1/0);var r=this.getItem(e);if(!r)return a;try{r=JSON.parse(r)}catch(n){return a}var i=Date.now()-(r.stamp||0);return i>t?(this.removeItem(e),a):r.value},localStorage.__proto__.setWithExpire=function(e,t){t={value:t,stamp:Date.now()},t=JSON.stringify(t),this.setItem(e,t)},window.loadJS=e=>new Promise(t=>{var a=document.createElement("script");a.type="text/javascript",a.src=e,a.onload=t,a.onerror=t,document.body.appendChild(a)}),window.loadCSS=e=>new Promise(t=>{var a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=e,a.onload=t,a.onerror=t,document.body.appendChild(a)}),window.utf8tobase64=e=>window.btoa(window.unescape(window.encodeURIComponent(e))),window.base64toutf8=e=>window.decodeURIComponent(window.escape(window.atob(e))),window.base64tobuffer=e=>{var t=window.escape(window.atob(e)),a=t.length,r=[];for(let n=0;n<a;n++){let e=t.substr(n,1);if("%"===e){e=t.substr(n+1,2);try{e=parseInt(e,16)}catch(i){return console.error("输入 base64 字符串格式错误：",i),null}r.push(e),n+=2}else r.push(e.charCodeAt(0))}return r=new Uint8Array(r),r},window.findContentWrapper=e=>{if(!e)return e;while(1){let t=(e.nodeName||"").toLowerCase();if(!["span","font","sup","sub","i","u","b","del","em","strong","code"].includes(t))return e;e=e.parentElement}},window.onVueHyperLinkTriggered=(e,t)=>{var a=findContentWrapper(t.target);if("a"!==(a.nodeName||"").toLowerCase())return!1;var r=a.getAttribute("href");if(!r)return!1;if(0===r.indexOf("#/"))r=r.replace(/^#+[\\\/]+/,""),r=r.split(/[\\\/]+/),r={path:"/category",query:{c:r.join(",")}};else{if(0===r.indexOf("#")){r=r.replace(/^#+/,"");let e=document.querySelector('[name="'+r+'"]');if(e){let t=document.body.querySelector("#app");if(t){let a=(e.offsetTop||0)-t.scrollTop;Devices.isMobile||(a-=25),t.scrollBy({top:a,behavior:"smooth"})}}return t.preventDefault(),!0}if(0===r.indexOf("/page/#/"))r=r.replace(/^[\\\/]+page[\\\/]+#+[\\\/]+/,"/"),r={path:r};else if(0===r.indexOf("/page/"))r=r.replace("/page/","/"),r={path:r};else{if(0!==r.indexOf("/article/"))return!1;r=r.replace("/article/",""),r=encodeURIComponent(r),r={path:"/view",query:{f:r}}}}t.preventDefault();var i=location.hash.replace(/^#+/,"").split("?")[0];return e.$router.push(r),r.path===i&&PageBroadcast.emit("page-changed",r),!0},window.initMathJax=()=>{initMathJax.initialized||(initMathJax.initialized=!0,MathJax.Hub.Config({extensions:["tex2jax.js"],TeX:{extensions:["AMSmath.js","AMSsymbols.js"]},jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]]},"HTML-CSS":{availableFonts:["STIX","TeX"],showMathMenu:!1}}))},window.afterMarkUp=async(e,t)=>{e||(e=document.body.querySelector("article.markup-content"),e||(e=document.body.querySelector("#container"))),InitNotes(document.body.querySelector("#container")),initMathJax(),Function.is(t)?t():MathJax.Hub.Queue(["Typeset",MathJax.Hub,e]),initTableAnimationChart(),await ImageWall.init()},LifeCycle.on.ready(t=>{console.log("Schwarzschild Blackhole System is READY!"),t.config.globalProperties.afterMarkUp=window.afterMarkUp;const a=new MutationObserver(async e=>{var a=document.querySelectorAll(".markup");await Promise.all([].map.call(a,async e=>{var t=e.innerText;t=t.replace(/^\t+|\t+$/g,"\n"),t=await MarkUp.parse(t,{toc:e.classList.contains("toc"),glossary:e.classList.contains("glossary"),resources:e.classList.contains("resources"),showtitle:e.classList.contains("showtitle"),showauthor:!1,classname:"markup-content"}),e.innerHTML=t,e.classList.remove("markup")})),a.length>0&&await t.config.globalProperties.afterMarkUp()});a.observe(document.body,{childList:!0,subtree:!0}),e.changeThemeColor=e=>{e&&(localStorage.setItem("themeColor",e),document.body.setAttribute("theme",e))},changeThemeColor(localStorage.getItem("themeColor"))}),LifeCycle.on.initialized(e=>{console.log("Schwarzschild Blackhole System is INITIALIZED!")});var t=null;const a=e=>{var a=e.target;t&&clearTimeout(t),t=setTimeout(()=>{t=null,r(a)},500)},r=e=>{sessionStorage.setItem("sourceUpdated",e),location.reload()};if(window.BroadcastChannel){let e=new BroadcastChannel("source-updated");e.onmessage=e=>{a(e.data)}}else PageBroadcast.on("source-updated",e=>{a(e)});PageBroadcast.on("source-updated-cancel-reload",()=>{t&&(clearTimeout(t),t=null)}),(()=>{var e=window.innerWidth,t=window.innerHeight,a=null;const r=()=>{a&&clearTimeout(a),a=null;var r=window.innerWidth,i=window.innerHeight;r===e&&i===t||(e=r,t=i,PageBroadcast.emit("page-resize",r,i))};window.addEventListener("resize",()=>{a&&clearTimeout(a),a=setTimeout(r,100)})})()}).call(this,a("950f"))},"9a67":function(e,t,a){},"9d8d":function(e,t,a){"use strict";var r=a("79c4");const i={class:"nav-bar"},n=Object(r["h"])("i",{class:"fas fa-angle-right"},null,-1),o={class:"nav-docker"},s=Object(r["h"])("i",{class:"fas fa-caret-right"},null,-1),c={class:"nav-container"},l={class:"about-bar nav-container right"};function d(e,t,a,d,u,h){const m=Object(r["x"])("NavMenuBar");return Object(r["q"])(),Object(r["d"])("div",i,[Object(r["h"])("div",{class:"nav-hint",onClick:t[1]||(t[1]=(...e)=>h.toggleHint&&h.toggleHint(...e))},[n]),Object(r["h"])("div",o,[Object(r["h"])("a",{onClick:t[2]||(t[2]=(...e)=>h.backHome&&h.backHome(...e))},"首页"),s,Object(r["h"])("div",c,[Object(r["h"])(m,{menu:u.menu},null,8,["menu"])]),Object(r["h"])("div",l,[Object(r["h"])(m,{menu:u.aboutMenu},null,8,["menu"])])])])}var u=a("0747");u["a"].render=d;t["a"]=u["a"]},a18c:function(e,t,a){"use strict";var r=a("3608"),i=a("79c4");const n={class:"home"};function o(e,t,a,r,o,s){const c=Object(i["x"])("Column");return Object(i["q"])(),Object(i["d"])("div",n,[Object(i["h"])(c)])}var s={name:"Home"};s.render=o;var c=s;const l={class:"category"};function d(e,t,a,r,n,o){const s=Object(i["x"])("Crumb"),c=Object(i["x"])("Column");return Object(i["q"])(),Object(i["d"])("div",l,[Object(i["h"])(s),Object(i["h"])(c)])}var u={name:"Category"};u.render=d;var h=u;const m={key:0,ref:"menu",class:"floatMenu"},p=Object(i["h"])("i",{class:"fas fa-bars"},null,-1),g={class:"menuFrame"},f={key:1,class:"likeCoinArea"},y=Object(i["h"])("div",{class:"title"},"请输入 IV 码：",-1);function b(e,t,a,r,n,o){const s=Object(i["x"])("Crumb");return Object(i["q"])(),Object(i["d"])(i["a"],null,[Object(i["h"])(s),n.menuList.length>0?(Object(i["q"])(),Object(i["d"])("div",m,[p,Object(i["h"])("div",g,[(Object(i["q"])(!0),Object(i["d"])(i["a"],null,Object(i["w"])(n.menuList,e=>(Object(i["q"])(),Object(i["d"])("div",{class:"menuItem",read:e.read,level:e.level,onClick:t=>o.gotoMenu(e.key)},Object(i["z"])(e.title),9,["read","level","onClick"]))),256))])],512)):Object(i["e"])("",!0),Object(i["h"])("div",{ref:"article",class:"container",onClick:t[1]||(t[1]=(...e)=>o.onClick&&o.onClick(...e))},null,512),n.showLikeCoin?(Object(i["q"])(),Object(i["d"])("div",f,[n.likecoin?(Object(i["q"])(),Object(i["d"])("iframe",{key:0,src:n.likecoin},null,8,["src"])):Object(i["e"])("",!0)])):Object(i["e"])("",!0),Object(i["h"])("div",{class:"passwordInputter",show:n.showPassword},[y,Object(i["h"])("input",{ref:"ivinputter",onKeydown:t[2]||(t[2]=(...e)=>o.onEnter&&o.onEnter(...e))},null,544),Object(i["h"])("button",{onClick:t[3]||(t[3]=(...e)=>o.submitIV&&o.submitIV(...e))},"确定")],8,["show"])],64)}const v=["BY","SA","NC","ND"],w={BY:"署名",SA:"相同方式共享",NC:"非商业性使用",ND:"禁止演绎"};var k,j,O=null,C=null;PageBroadcast.on("page-scroll",e=>{O&&(k&&clearTimeout(k),k=setTimeout(()=>{O&&(O.onScroll(e),k=null)},100))}),PageBroadcast.on("page-changed",async()=>{await wait(),O&&O.update()});const S=e=>{if(O){var t=O.updateCloudArticle(e.target);t&&PageBroadcast.emit("source-updated-cancel-reload")}};if(window.BroadcastChannel){let e=new BroadcastChannel("local-article-updated");e.onmessage=e=>{if(O){var t=e.data;t&&O.updateEdgeArticle(t)}},e=new BroadcastChannel("source-updated"),e.onmessage=e=>{S(e.data)}}else PageBroadcast.on("source-updated",e=>{S(e)});var M={name:"Viewer",data(){return{likecoin:"",showLikeCoin:!1,menuList:[],chapList:[],chapMap:{},showPassword:!1}},methods:{async update(){PageBroadcast.emit("change-loading-hint",{name:"加载中……",action:"show"});var e=this.$route.query.f,t=0;e||(e=this.$route.query.l,e&&(t=1,e=e.split("/").last)),e?(await this.loadArticle(e,t),PageBroadcast.emit("change-loading-hint",{action:"hide"})):this.$router.push({path:"/"})},async updateEdgeArticle(e){var t=(this.$route.query.l||"").split("/").last;t===e&&(PageBroadcast.emit("change-loading-hint",{action:"show",title:"更新中..."}),await this.loadArticle(t,1),PageBroadcast.emit("change-loading-hint",{action:"hide"}))},updateCloudArticle(e){var t="SOURCE"===e||e==="/"+this.$route.query.f;return t?("SOURCE"!==e&&(notify({title:"本页有更新",duration:1500,type:"info"}),PageBroadcast.emit("change-loading-hint",{name:"更新中……",action:"show"})),this.loadArticle(this.$route.query.f,0,!0).then(()=>{"SOURCE"!==e&&(PageBroadcast.emit("change-loading-hint",{action:"hide"}),notify({title:"本页有更新",message:"已自动更新内容",duration:3e3,type:"success"}))}),!0):!!e.match(/\.e?m[du]$/i)},async loadArticle(e,t=0,a=!1){var r=0===t,i=1===t,n=!r||!!e.match(/\.e?mu$/i),o=r&&!!e.match(/\.em[ud]$/i);if(o&&(!window.crypto||!window.crypto.getRandomValues||!window.crypto.subtle||!window.crypto.subtle.encrypt||!window.crypto.subtle.decrypt))return this.showLikeCoin=!1,this.menuList.clear(),void(this.$refs.article.innerText='<article class="markup-content"><section><p>您的浏览器不支持<span class="english">WebCrypto</span>模块功能，请换用现代浏览器！</p></section></article>');var s=1*this.$route.query.t||0,c=[];r?c.push(Granary.getArticle(e,s)):i&&c.push(BookShelf.getArticle(e)),n&&(C?c.push((async()=>C)()):c.push(Granary.getContent("/api/copyright.md")));var[l,d]=await Promise.all(c);if(r||(l=l.content),!C&&d&&(C=d),!o||(l=await this.decrypt(l),l||!j)){var u,h="",m="",p=!0;l?d&&n&&(l.match(/(^ *#|\n *#)[ 　\t]*.+/)||(l="# 正文\n\n"+l),l=l+"\n\n\n"+d):(p=!1,h='<div class="page_not_found"><div class="frame"></div><div class="title">指定内容不存在，请联系站长。</div></div>'),p&&(0===s&&(s=Date.now()),u=await MarkUp.fullParse(l,{toc:!0,glossary:n,resources:!1,showtitle:!0,showauthor:n,date:s,classname:"markup-content"}),u.meta.others=u.meta.others||{},d=u.meta.others.CopyRight,m="《"+u.title+"》",h=u.content,h||(h='<div class="page_not_found"><div class="frame"></div><div class="title">MarkUp 内容解析失败，请联系作者。</div></div>',p=!1));var g=document.querySelector("#app"),f=g?g.scrollTop:0;if(this.$refs.article.innerHTML=h,p?(this.afterMarkUp(),this.addLikeCoin(u.meta.others.LikeCoin),this.refreshMenu(u),d&&n&&(await wait(),this.adjustCopyRight(d))):(this.showLikeCoin=!1,this.likecoin="",this.refreshMenu()),document.title=m+" ("+this.SiteName+")",i){let e=this.$refs.article.children.item(0);if(e&&(e=e.children.item(0)),e&&(e=e.nextSibling),e){let t=newEle("section","localAlert");t.innerHTML="这是存储在浏览器本地的文件，其它设备与用户无法看到本页内容！",e.parentElement.insertBefore(t,e)}}g&&a&&g.scrollTo(0,f),window.PageInfo=window.PageInfo||{},window.PageInfo.title=m,r?window.PageInfo.url=this.$route.query.f:i&&(window.PageInfo.url="l="+this.$route.query.l),PageBroadcast.emit("memory-updated",{type:"history",title:m,url:window.PageInfo.url})}},adjustCopyRight(e){if(!e)return html;var t=[],a="0";if(!e.match(/^ *cc *0(\.0)* *$/i)){if(!e.match(/^ *(cc +)(\w+\-)*\w+( +(\d+\.)*\d) *$/i))return;e=e.replace(/^ *cc +/i,"").replace(/ +$/,"").split(/ +/),a=e[1]||"4.0",a.indexOf(".")<0&&(a+=".0"),t=e[0].split("-").map(e=>e.toUpperCase()).filter(e=>v.includes(e)),t.sort((e,t)=>t>e?-1:t<e?1:0)}var r=null;this.$refs.article.querySelectorAll("section").forEach(e=>{var t=e.querySelector("h1");t&&"版权申明"===t.innerText&&(r=e)});var i=r.querySelector("p a"),n=r.querySelector("blockquote p");if(0===t.length){i.innerText="公共领域许可（CC0）协议",i.href="https://en.wikipedia.org/wiki/Creative_Commons_license#Zero_/_public_domain",n.innerHTML="通过本协议，您的作品将不受限制地在全球范围内发布内容，您将法律允许范围内放弃一切权利。";let e=n.parentElement.nextSibling;e.parentElement.removeChild(e)}else t.includes("BY")?(i.innerText="知识共享署名 4.0 国际许可（CC "+t.join("-")+" "+a+"）协议",i.href="http://creativecommons.org/licenses/"+t.join("-").toLowerCase()+"/"+a+"/",n.innerHTML="通过本协议，您可以<a href='https://en.wikipedia.org/wiki/Creative_Commons_license#Attribution' target='_blank'>分享并演绎本作品（创建派生内容）</a>，只要你遵守以下授权条款规定："+t.map(e=>"<strong>"+w[e]+"</strong>").join("、")+"。<br>具体内容请查阅上述协议声明。"):(i.innerText="知识共享 4.0 许可（CC "+t.join("-")+" "+a+"）协议",i.href="https://en.wikipedia.org/wiki/Creative_Commons",n.innerHTML="通过本协议，您可以<a href='https://en.wikipedia.org/wiki/Creative_Commons_license#Attribution' target='_blank'>分享并演绎本作品（创建派生内容）</a>，只要你遵守以下授权条款规定："+t.map(e=>"<strong>"+w[e]+"</strong>").join("、")+"。<br>具体内容请查阅上述协议声明。")},addLikeCoin(e){var t=!0;if(this.LikeCoin&&this.LikeCoin.forbidden&&this.LikeCoin.forbidden.length>0){let e=("."+location.hostname+".").replace(/\.+/g,".");t=this.LikeCoin.forbidden.every(t=>(t=("."+t+".").replace(/\.+/g,"."),e.indexOf(t)<0))}if(t){if(!e){if(!this.LikeCoin)return void(this.showLikeCoin=!1);e=String.is(this.LikeCoin)?this.LikeCoin:this.LikeCoin.id}e?(this.showLikeCoin=!0,this.likecoin="https://button.like.co/"+e):this.likecoin=""}else this.showLikeCoin=!1},refreshMenu(e){this.menuList.clear(),this.chapList.clear();for(let t in this.chapMap)delete this.chapMap[t];e&&e.chapList.forEach(e=>{this.menuList.push({level:e[0]-1,key:e[1],title:e[2],read:!1});var t=this.$refs.article.querySelector('a[name="'+e[1]+'"]');t&&(this.chapList.push(t),this.chapMap[e[1]]=t)})},onScroll(e){var t=Devices.isMobile?0:25,a=0,r=!0,i=0;e.total>e.height&&(i=e.top/(e.total-e.height),i=i*i*e.height),this.chapList.some((e,n)=>{var o=e.getBoundingClientRect().top;if(o-=i,o>t)return r=!1,a=n,!0}),0===a&&r&&(a=this.menuList.length);for(let n=0;n<this.menuList.length;n++)this.menuList[n].read=n<a},onClick(e){onVueHyperLinkTriggered(this,e)},gotoMenu(e){var t=this.chapMap[e];if(t){var a=t.getBoundingClientRect().top-(Devices.isMobile?5:30);app.scrollBy({top:a,behavior:"smooth"}),this.$refs.article.focus()}},requestIVWord(){return new Promise(e=>{var t=j;j=e,t&&t(null),this.showPassword=!0})},onEnter(e){13===e.keyCode&&this.submitIV()},submitIV(){var e=this.$refs.ivinputter.value;if(e){var t;try{t=base64tobuffer(e)}catch(r){notify({type:"error",duration:2e3,title:"无效IV码"})}var a=j;j=null,this.showPassword=!1,a([t,e])}else notify({type:"warn",title:"IV 码不能为空"})},async decrypt(e){var t=localStorage.getItem("CurrentKey");if(!t)return notify({type:"error",duration:2e3,title:"密钥丢失",message:"请在“设置/密钥管理”中选择或添加密钥"}),"";try{t=base64tobuffer(t),t=await window.crypto.subtle.importKey("raw",t,"AES-GCM",!0,["encrypt","decrypt"])}catch(n){return notify({type:"error",duration:2e3,title:"密钥损坏",message:"解码密钥失败，请在“设置/密钥管理”中选择或添加可用密钥"}),""}var a,r,i=localStorage.get("EncryptedContentKeys",{});if(r=i[this.$route.query.f],r)a=base64tobuffer(r);else if([a,r]=await this.requestIVWord(),null===a)return"";if(e=base64tobuffer(e),!e)return notify({title:"BASE64 内容解码失败！",duration:2e3,type:"error"}),"";try{e=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:a},t,e)}catch(n){return notify({type:"error",duration:2e3,title:"密钥或IV码错误",message:"请在“设置/密钥管理”中选择或添加正确的密钥，或换一个IV码重试。"}),""}try{e=(new TextDecoder).decode(e)}catch(n){return notify({title:"内容解码失败！",duration:2e3,type:"error"}),""}return i[this.$route.query.f]=r,localStorage.set("EncryptedContentKeys",i),e}},async mounted(){O=this,await this.update(),this.$refs.article.focus()},unmounted(){O=null}};M.render=b;var _=M;const x={class:"searchPage controller"},L=Object(i["h"])("i",{class:"fa fas fa-search"},null,-1),P=Object(i["g"])("搜索"),q={class:"searchPage articleList"},B=Object(i["h"])("div",{class:"title"},"本地与云端",-1),A={key:0,class:"hint"},I={class:"title"},E=Object(i["g"])("边缘搜索（"),T=Object(i["g"])("）"),N={key:1,class:"hint"},$=Object(i["f"])('<div class="searchPage commandPad"><div class="title">搜索命令</div><div class="command">T(*)：标题条件</div><div class="command">C(*)：正文条件（默认）</div><div class="command">K(*)：关键词条件</div><div class="command">reg(*)：采用正则表达式</div><div class="command">+：条件或</div><div class="command">*：条件与</div><div class="command">-：扣除</div><div class="title">注意事项</div><div class="command">本搜索对本地文库中内容可以进行本地全文搜索，但对云端内容，则只有缓存下来的内容（也即浏览过的内容）才能进行本地全文搜索，否则只会对摘要部分搜索。</div></div>',1);function D(e,t,a,r,n,o){const s=Object(i["x"])("Crumb");return Object(i["q"])(),Object(i["d"])(i["a"],null,[Object(i["h"])(s),Object(i["h"])("div",x,[Object(i["h"])("span",{ref:"searchCommand",class:"keywords",contenteditable:"true",onKeydown:t[1]||(t[1]=Object(i["F"])((...e)=>o.active&&o.active(...e),["enter"]))},null,544),Object(i["h"])("span",{class:"button",onClick:t[2]||(t[2]=(...e)=>o.active&&o.active(...e))},[L,P])]),Object(i["h"])("div",q,[B,0===n.result.length?(Object(i["q"])(),Object(i["d"])("div",A,"无")):Object(i["e"])("",!0),(Object(i["q"])(!0),Object(i["d"])(i["a"],null,Object(i["w"])(n.result,e=>(Object(i["q"])(),Object(i["d"])("div",{class:"article",onClick:t=>o.openArticle(e)},Object(i["z"])(e.title)+" （匹配度："+Object(i["z"])(e.score)+"）",9,["onClick"]))),256)),Object(i["h"])("div",I,[E,Object(i["h"])("span",null,Object(i["z"])(n.edgeCount),1),T]),0===n.remote.length?(Object(i["q"])(),Object(i["d"])("div",N,"无")):Object(i["e"])("",!0),(Object(i["q"])(!0),Object(i["d"])(i["a"],null,Object(i["w"])(n.remote,e=>(Object(i["q"])(),Object(i["d"])("div",{class:"article",onClick:t=>o.openArticle(e)},Object(i["z"])(e.title)+" （匹配度："+Object(i["z"])(e.score)+"）",9,["onClick"]))),256))]),$],64)}var H={name:"Search",data(){return{result:[],remote:[],edgeCount:0}},mounted(){PageBroadcast.emit("change-loading-hint",{action:"hide"}),this.$refs.searchCommand.focus()},methods:{active(e){e.preventDefault();var t=this.$refs.searchCommand.innerText;if(!t)return notify({title:"无法执行空查询",duration:2e3,type:"error"}),void this.$refs.searchCommand.focus();this.search(t)},async search(e){PageBroadcast.emit("change-loading-hint",{action:"show",title:"搜索中……"});var t=await DataCenter.searchArticle(e);if(t instanceof Error)return PageBroadcast.emit("change-loading-hint",{action:"hide"}),console.error(t),void notify({title:t.message,duration:5e3,type:"error"});this.result.splice(0,this.result.length,...t.match),notify({title:"本次搜索用时: "+t.timeused+"ms",duration:2e3,type:"success"}),PageBroadcast.emit("change-loading-hint",{action:"hide"})},openArticle(e){var t=location.href.split("#")[0]+"#/view?";"cloud"===e.type?t+="f="+e.url.replace(/^\//,""):t+="l="+e.url;var a=window.open(t);a.focus()}}};H.render=D;var W=H;const U=[{path:"/",name:"Home",component:c},{path:"/category",name:"Category",component:h},{path:"/view",name:"Viewer",component:_},{path:"/search",name:"Search",component:W},{path:"/about",name:"AboutSite",component:function(){return a.e("chunk-dd9d4c74").then(a.bind(null,"52a1"))}},{path:"/chinesecolor",name:"chinesecolor",component:function(){return a.e("chunk-0b878644").then(a.bind(null,"de6d"))}},{path:"/japanesecolor",name:"japanesecolor",component:function(){return a.e("chunk-9f0ca2e2").then(a.bind(null,"ce9d"))}},{path:"/markup",name:"markup",component:function(){return a.e("chunk-5b60140f").then(a.bind(null,"f4c6"))}},{path:"/latex",name:"latex",component:function(){return a.e("chunk-2d0cbe04").then(a.bind(null,"4c10"))}},{path:"/webcolor",name:"webcolor",component:function(){return a.e("chunk-2498186d").then(a.bind(null,"ef2f"))}},{path:"/entertain/ballcrush",name:"ballcrush",component:function(){return a.e("chunk-2d0d4006").then(a.bind(null,"5ebb"))}},{path:"/entertain/rushgo",name:"rushgo",component:function(){return a.e("chunk-2d0de03c").then(a.bind(null,"849c"))}},{path:"/entertain/cyberavatorarena",name:"cyberavatorarena",component:function(){return a.e("chunk-128206d4").then(a.bind(null,"f801"))}},{path:"/entertain/training",name:"training",component:function(){return a.e("chunk-2d0c1569").then(a.bind(null,"462c"))}},{path:"/entertain/ultralife",name:"ultralife",component:function(){return a.e("chunk-2d208737").then(a.bind(null,"a59f"))}},{path:"/popsci/quantum1",name:"quantum1",component:function(){return a.e("chunk-38f9ca80").then(a.bind(null,"1836"))}},{path:"/tools/blackholeCalculator",name:"blackholeCalculator",component:function(){return a.e("chunk-565e042e").then(a.bind(null,"de6a"))}},{path:"/tools/localLibrary",name:"localLibrary",component:function(){return a.e("chunk-7f0a1c05").then(a.bind(null,"3cd4"))}},{path:"/tools/parseMarkup",name:"parseMarkup",component:function(){return a.e("chunk-7fcc32b6").then(a.bind(null,"dcfb"))}},{path:"/tools/markupEditor",name:"markupEditor",component:function(){return a.e("chunk-2d0d7dbb").then(a.bind(null,"7936"))}},{path:"/aboutMe",name:"AboutMe",component:function(){return a.e("chunk-235ac417").then(a.bind(null,"dd86"))}},{path:"/404",name:"PageNotFound",component:function(){return a.e("chunk-2d0e95df").then(a.bind(null,"8cdb"))}},{path:"/:pathMatch(.*)*",name:"PageNotFound",component:function(){return a.e("chunk-2d0e95df").then(a.bind(null,"8cdb"))}}],R=Object(r["a"])({history:Object(r["b"])(),routes:U});R.afterEach((e,t)=>{if("Category"===e.name){let t=getPathNameList(e.query.c.split(","),!1);document.title=t?R.app.config.globalProperties.SiteName+" / "+t.map(e=>e.name).join(" / "):R.app.config.globalProperties.SiteName}else document.title=R.app.config.globalProperties.SiteName;PageBroadcast.emit("route-updated",{from:t.fullPath,to:e.fullPath});var a=document.querySelector("#app");a.scrollTo(0,0),a=document.querySelector("#container"),a.focus();var r=document.getSelection();r.setPosition(a);var i=document.createRange();i.setStart(a,0),i.setEnd(a,0),r.removeAllRanges(),r.addRange(i)});t["a"]=R},aa46:function(e,t,a){},aab0:function(e,t,a){"use strict";var r=a("79c4");const i={class:"imageFrame"},n={class:"imageLegend"},o=Object(r["h"])("i",{class:"fas fa-times-circle"},null,-1),s=Object(r["h"])("i",{class:"fas fa-angle-left"},null,-1),c=Object(r["h"])("i",{class:"fas fa-angle-right"},null,-1);function l(e,t,a,l,d,u){return Object(r["q"])(),Object(r["d"])("div",{class:"imageShowcase "+(d.show?"show":"hide"),onClick:t[4]||(t[4]=(...e)=>u.onClick&&u.onClick(...e))},[Object(r["h"])("div",i,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(d.gallary,(e,t)=>(Object(r["q"])(),Object(r["d"])("div",{class:"imagePage",style:{left:100*(t-d.index)+"%"}},[Object(r["h"])("div",{class:"imageInstance",style:{backgroundImage:"url("+e.image+")",width:e.width+"px"},width:e.width,height:e.height},null,12,["width","height"]),Object(r["h"])("div",n,Object(r["z"])(e.title),1)],4))),256))]),Object(r["h"])("div",{class:"imageButton close",onClick:t[1]||(t[1]=e=>d.show=!1)},[o]),Object(r["h"])("div",{class:"imageButton left",inactive:d.index<=0,onClick:t[2]||(t[2]=e=>d.index--)},[s],8,["inactive"]),Object(r["h"])("div",{class:"imageButton right",inactive:d.index>=d.gallary.length-1,onClick:t[3]||(t[3]=e=>d.index++)},[c],8,["inactive"])],2)}const d=e=>{var t=e.parentNode;if(!t)return null;var a=t.tagName;return a?(a=a.toLowerCase(),"figure"===a?d(t):"div"!==a?null:t.classList.contains("image-wall")?t:d(t)):null};var u={name:"ImageShowcase",data(){return{show:!1,index:0,gallary:[]}},created(){document.body.addEventListener("click",e=>{if(!this.show){var t=e.target,a=t.tagName;if(a){a=a.toLowerCase();var r,i,n=!1;if("img"===a?(n=!0,r=t,i=d(t)):("figure"===a||"div"===a&&t.classList.contains("resource"))&&(r=t.querySelector("img"),r&&(n=!0,i=d(t))),n){var o=[],s=0;if(i)i.querySelectorAll(".image-container.image-float div.resource.image").forEach((e,t)=>{var a=e.querySelector("img");a===r&&(s=t);var i=e.querySelector("figcaption");i=i.innerText||"",o.push({image:a.src,width:a.naturalWidth,height:a.naturalHeight,title:i})});else{s=0;let e=r.parentNode;e&&(e=e.parentNode),e&&(e=e.querySelector("figcaption")),e&&(e=e.innerText),e=e||"",o=[{image:r.src,width:r.naturalWidth,height:r.naturalHeight,title:e}]}this.showGallary(s,o)}}}}),document.body.addEventListener("keydown",e=>{if(this.show){if(37===e.keyCode)e.ctrlKey?this.index=0:this.index>0&&this.index--;else if(39===e.keyCode)e.ctrlKey?this.index=this.gallary.length-1:this.index<this.gallary.length-1&&this.index++;else{if(27!==e.keyCode)return;this.show=!1}e.preventDefault()}})},methods:{onClick(e){if(!e.target.classList.contains("fas")&&!e.target.querySelector(".fas"))if(e.target.querySelector(".imageInstance"))this.show=!1;else if(e.target.classList.contains("imageInstance")){var t=1*e.target.getAttribute("width")||0,a=1*e.target.getAttribute("height")||0,r=e.target.getBoundingClientRect(),i=r.height;r=r.width;var n=e.offsetX,o=e.offsetY,s=0,c=0;if(t<=r)if(a>i){let e=t/a*i;s=(r-e)/2}else s=(r-t)/2,c=(i-a)/2;else{let e=r,n=a/t*r;n>i&&(e=r/n*i,n=i),s=(r-e)/2,c=(i-n)/2}n>r/2&&(n=r-n),o>i/2&&(o=i-o),(n<s||o<c)&&(this.show=!1)}},showGallary(e,t){this.index=e,this.gallary.splice(0,this.gallary.length,...t),this.show=!0}}};u.render=l;t["a"]=u},b2e4:function(e,t,a){"use strict";var r=a("79c4");const i={class:"nav-menu-bar"};function n(e,t,a,n,o,s){const c=Object(r["x"])("NavMenuItem");return Object(r["q"])(),Object(r["d"])("nav",i,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(a.menu,e=>(Object(r["q"])(),Object(r["d"])(c,{title:e.name,action:e.category&&e.category.length>0?a.supers?a.supers+","+e.category:e.category:"",type:e.type,subs:e.subs,disabled:e.disabled},null,8,["title","action","type","subs","disabled"]))),256))])}var o={name:"NavMenuBar",props:{supers:"",menu:Array}};o.render=n;t["a"]=o},b43b:function(e,t){(()=>{class e{constructor(e,t){this._name=e,this._version=t,this.conn=null,this.db=null,this.cbUpdates=[],this.cbConnects=[],this.caches={},this.ready=!1,this.available=!1}connect(){return new Promise((e,t)=>{this.conn=indexedDB.open(this.name,this.version),this.conn.onupgradeneeded=e=>{this.db=this.conn.result,this.cbUpdates.forEach(e=>e(this))},this.conn.onsuccess=t=>{this.ready=!0,this.available=!0,this.db=this.conn.result,this.cbConnects.forEach(e=>e(this)),e(this)},this.conn.onerror=e=>{this.ready=!0,this.available=!1,t(e)}})}onConnect(e){this.cbConnects.push(e)}onUpdate(e){this.cbUpdates.push(e)}open(e,t="id",a=0,r){if(!this.db.objectStoreNames.contains(e)){let a=this.db.createObjectStore(e,{keyPath:t});a.createIndex(t,t,{unique:!0}),r&&r.length>0&&r.forEach(e=>{a.createIndex(e,e,{unique:!1})})}a>0&&this.cache(t,a)}cache(e,t){this.caches[e]||(this.caches[e]=new LRUCache(t))}set(e,t,a){return new Promise((r,i)=>{var n=this.db.transaction([e],"readwrite");n||i(new Error("Open IndexedDB Transaction Failed: "+e));var o=n.objectStore(e);e||i(new Error("Open IndexedDB ObjectStore Failed: "+e));var s={};[...o.indexNames].forEach(e=>{s[e]=a[e]}),s[o.keyPath]=t,s.data=a;var c=o.put(s);c.onsuccess=i=>{var n=this.caches[e];n&&n.set(t,a),r(i.result)},c.onerror=e=>{i(e)}})}get(e,t){return new Promise((a,r)=>{var i=this.db.transaction([e],"readonly");i||r(new Error("Open IndexedDB Transaction Failed: "+e));var n=i.objectStore(e);e||r(new Error("Open IndexedDB ObjectStore Failed: "+e));var o,s=n.index(n.keyPath),c=this.caches[e];if(c&&(o=c.get(t),void 0!==o))return a(o);o=s.get(t),o.onsuccess=e=>{e.target.result?a(e.target.result.data):a(void 0)},o.onerror=e=>{r(e)}})}all(e,t){return new Promise((a,r)=>{var i=this.db.transaction([e],"readonly");i||r(new Error("Open IndexedDB Transaction Failed: "+e));var n,o=i.objectStore(e);e||r(new Error("Open IndexedDB ObjectStore Failed: "+e));try{n=o.index(t||o.keyPath)}catch(c){return void r(c)}var s=n.getAll();s.onsuccess=e=>{var r=e.target.result;if(!r)return a(r);var i=!t||t===o.keyPath,n=i?{}:[];r.forEach(e=>{i?n[e[o.keyPath]]=e.data:n.push(e.data)}),a(n)},s.onerror=e=>{r(e)}})}del(e,t){return new Promise((a,r)=>{var i=this.db.transaction([e],"readwrite");i||r(new Error("Open IndexedDB Transaction Failed: "+e));var n=i.objectStore(e);e||r(new Error("Open IndexedDB ObjectStore Failed: "+e));var o=n.delete(t);o.onsuccess=r=>{var i=this.caches[e];i&&i.del(t),a(r.result)},o.onerror=e=>{r(e)}})}clear(e){return new Promise((t,a)=>{var r=this.db.transaction([e],"readwrite");r||a(new Error("Open IndexedDB Transaction Failed: "+e));var i=r.objectStore(e);e||a(new Error("Open IndexedDB ObjectStore Failed: "+e));var n=i.clear();n.onsuccess=a=>{var r=this.caches[e];r&&r.clear(),t(a.result)},n.onerror=e=>{a(e)}})}clearCache(e){var t=this.caches[e];!t||t.clear()}get name(){return this._name}get version(){return this._version}}self.CachedDB=e})()},bae9:function(e,t,a){"use strict";(function(e){e.callPageLoaded=()=>{PageBroadcast.emit("change-loading-hint",{action:"hide"})};var a=null;t["a"]={name:"Loading",data(){return{title:"载入中……",show:!0,type:"pulse",forcequit:!1}},created(){PageBroadcast.on("change-loading-hint",e=>{"show"===e.action?(e.title=e.title||"载入中……",this.forcequit=!1,a&&(clearTimeout(a),a=null),a=setTimeout(()=>{this.forcequit=!0},5e3),this.show=!0):"hide"===e.action&&(e.title=e.title||"载入中……",this.forcequit=!1,a&&(clearTimeout(a),a=null),this.show=!1),String.is(e.title)&&(this.title=e.title),["spin","pulse"].indexOf(e.type)>=0&&(this.type=e.type)})},methods:{forceQuit(){a&&(clearTimeout(a),a=null),this.show=!1}}}}).call(this,a("950f"))},bfef:function(e,t,a){"use strict";var r=a("79c4");const i={class:"tail-bar"},n=Object(r["h"])("div",{class:"left"}," © 2020 - 2022 LostAbaddon, all rights reserved. ",-1),o=Object(r["h"])("div",{class:"right"},[Object(r["g"])(" Generated by "),Object(r["h"])("a",{target:"_blank",href:"https://github.com/LostAbaddon/Schwarzschild"},"Schwarzschild v0.2.2")],-1);function s(e,t,a,s,c,l){return Object(r["q"])(),Object(r["d"])("div",i,[n,o])}var c={name:"TailBar"};c.render=s;t["a"]=c},c428:function(e,t,a){"use strict";var r=a("79c4");const i={class:"hint"},n={key:0,class:"animate spin"},o=Object(r["h"])("i",{class:"fas fa-spinner fa-spin fa-fast"},null,-1),s={key:1,class:"animate pulse"},c=Object(r["f"])('<i class="fas fa-square"></i><i class="fas fa-square"></i><i class="fas fa-square"></i><i class="fas fa-square"></i><i class="fas fa-square"></i>',5),l={class:"title"};function d(e,t,a,d,u,h){return Object(r["q"])(),Object(r["d"])("div",{class:["loading",u.show?"show":"hide"]},[Object(r["h"])("div",i,["spin"===u.type?(Object(r["q"])(),Object(r["d"])("div",n,[o])):Object(r["e"])("",!0),"pulse"===u.type?(Object(r["q"])(),Object(r["d"])("div",s,[c])):Object(r["e"])("",!0),Object(r["h"])("div",l,Object(r["z"])(u.title),1)]),u.forcequit?(Object(r["q"])(),Object(r["d"])("div",{key:0,class:"forceQuit",onClick:t[1]||(t[1]=(...e)=>h.forceQuit&&h.forceQuit(...e))},"强制关闭")):Object(r["e"])("",!0)],2)}var u=a("bae9");u["a"].render=d;t["a"]=u["a"]},c531:function(e,t,a){"use strict";var r=a("79c4");const i={ref:"header"},n={key:0},o=Object(r["f"])('<span>文章列表</span><div class="controller"><div class="hint"><i class="fas fa-sliders-h"></i></div><div class="styleList"><div class="styleItem" name="bars"><i class="fas fa-bars"></i></div><div class="styleItem" name="lines"><i class="fas fa-stream"></i></div><div class="styleItem" name="columns"><i class="fas fa-columns"></i></div></div></div>',2),s={ref:"loadingHint",class:"column-loading hidden"};function c(e,t,a,c,l,d){const u=Object(r["x"])("ColumnItem");return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("section",{ref:"main",class:"column container",onClick:t[1]||(t[1]=(...e)=>d.onClick&&d.onClick(...e)),onMousewheel:t[2]||(t[2]=(...e)=>d.onScroll&&d.onScroll(...e))},[Object(r["h"])("header",i,null,512),l.showList?(Object(r["q"])(),Object(r["d"])("caption",n,[o])):Object(r["e"])("",!0),l.showList?(Object(r["q"])(!0),Object(r["d"])(r["a"],{key:1},Object(r["w"])(l.list,e=>(Object(r["q"])(),Object(r["d"])(u,{title:e.title,author:e.author,description:e.description,type:e.type,timemark:e.timemark,timestamp:e.timestamp,categoryName:e.category,categoryPath:e.sort,filename:e.filename,redirect:e.target},null,8,["title","author","description","type","timemark","timestamp","categoryName","categoryPath","filename","redirect"]))),256)):Object(r["e"])("",!0)],544),Object(r["h"])("div",s,"加载中……",512)],64)}const l={class:"title"},d={class:"author"},u={class:"timestamp"};function h(e,t,a,i,n,o){return Object(r["q"])(),Object(r["d"])("section",{class:"column-item",filename:a.filename?a.categoryPath+"/"+a.filename:"",timestamp:a.timestamp,redirect:a.redirect,type:a.type},[Object(r["h"])("header",null,[Object(r["h"])("div",l,Object(r["z"])(a.title),1),Object(r["h"])("div",{class:"category",path:a.categoryPath},Object(r["z"])(a.categoryName),9,["path"])]),Object(r["h"])("article",null,Object(r["z"])(a.description),1),Object(r["h"])("footer",null,[Object(r["h"])("div",d,Object(r["z"])(a.author),1),Object(r["h"])("div",u,Object(r["z"])(a.timemark),1)])],8,["filename","timestamp","redirect","type"])}var m={name:"ColumnItem",props:{title:String,author:String,description:String,type:String,timemark:String,timestamp:Number,categoryName:String,categoryPath:String,filename:String,redirect:String}};m.render=h;var p=m;const g=_("Utils").getTimeString;var f=null;PageBroadcast.on("page-changed",async()=>{await wait(),f&&f.update()}),PageBroadcast.on("page-scroll",()=>{f&&f.onScroll()});var y={name:"Column",components:{ColumnItem:p},data(){return{itemPerPage:20,list:[],showList:!0,currentCategory:"",currentPage:0,countPerPage:10,noMoreItem:!1}},methods:{async getHeaderInfo(e){var t=await Granary.getColumnHeader(e),a="";t&&!1!==t.ok&&(a=await MarkUp.parse(t,{toc:!1,glossary:!1,resources:!1,showtitle:!1,showauthor:!1,classname:"markup-content"})),this.$refs.header.innerHTML=a,t&&await this.afterMarkUp()},async getArticleList(e){this.$refs.loadingHint.classList.remove("hidden"),this.list.splice(this.currentPage*this.countPerPage,this.list.length);var t=await Granary.getCategory(e,this.currentPage);t.forEach(e=>{var t=e.sort;"/"!==t[0]&&(t="/"+t),e.category=CatePathMap[t]||t,e.placehoding=!1,e.timestamp=new Date(e.publish).getTime(),e.timemark=g(new Date(e.publish),"YYMMDDhhmm"),e.description=e.description||"暂无",this.list.push(e)}),this.noMoreItem=t.length<this.countPerPage,this.$refs.loadingHint.classList.add("hidden")},async update(){PageBroadcast.emit("change-loading-hint",{name:"加载中……",action:"show"});var e=localStorage.getItem("columnStyle")||"lines";this.$refs.main.setAttribute("columnStyle",e),this.list.splice(0,this.list.length),this.header="";var t=null;if("/"===this.$route.path)t="/";else{if("/category"!==this.$route.path)return void PageBroadcast.emit("change-loading-hint",{action:"hide"});if(!this.$route.query||!this.$route.query.c)return void PageBroadcast.emit("change-loading-hint",{action:"hide"});t="/"+this.$route.query.c.split(",").filter(e=>e.length>0).join("/")}t=t.replace(/^[\/\\]+/,"");var a=t.split("/").filter(e=>e.length>0),r=SiteMap;a.length>0?a.some(e=>{if(e=r[e],!(e.subs&&e.subs.length>0))return r=e.type,!0;r=e.subs}):r="viewer","folder"===r?(this.showList=!1,await this.getHeaderInfo(t)):"viewer"===r?(this.currentCategory=t,this.currentPage=0,this.showList=!0,await Promise.all([this.getHeaderInfo(t),this.getArticleList(t)])):this.showList=!1,PageBroadcast.emit("change-loading-hint",{action:"hide"})},onClick(e){var t=findContentWrapper(e.target);if(t&&!t.classList.contains("hint")){if(t.classList.contains("styleItem")){let e=t.getAttribute("name");return this.$refs.main.setAttribute("columnStyle",e),void localStorage.setItem("columnStyle",e)}if("a"!==t.nodeName.toLowerCase()||!onVueHyperLinkTriggered(this,e)){var a=void 0,r=void 0,i="article";if(t){while(!a&&!r)if(a=t.getAttribute("redirect"),a?i="redirect":(i=t.getAttribute("type"),a=t.getAttribute("filename")),r=t.getAttribute("path"),1*t.getAttribute("timestamp"),t=t.parentNode,!t||t===document.body)break;r?(this.$router.push({path:"/category",query:{c:r.split(/[\\\/]+/).join(",")}}),"Category"===this.$route.name&&PageBroadcast.emit("page-changed",r)):a&&("local"===i?this.$router.push({path:"/view",query:{l:a}}):this.$router.push({path:"/view",query:{f:a}}))}}}},onScroll(e){this.tmrScroll&&(clearTimeout(this.tmrScroll),this.tmrScroll=null),this.tmrScroll=setTimeout(()=>this.doScroll(),100)},doScroll(){if(this.tmrScroll&&(clearTimeout(this.tmrScroll),this.tmrScroll=null),!this.noMoreItem){var e=this.$refs.loadingHint,t=e.getBoundingClientRect().top,a=document.body.getBoundingClientRect().height+250;t>a||(this.currentPage++,this.getArticleList(this.currentCategory))}}},mounted(){f=this,this.update()},unmounted(){f=null}};y.render=c;t["a"]=y},c879:function(e,t,a){},cf03:function(e,t){window.InitAsimov=async()=>{if(window.SharedWorker||window.Worker){let e,t,a,r=new Map,i=()=>Math.floor(1e8*Math.random());window.SharedWorker?(a="Shared-Worker Asimov",e=new SharedWorker("/js/worker/asimov.js"),t=e.port):(a="Dedicated-Worker Asimov",e=new Worker("/js/worker/asimov.js"),t=e),t.onmessage=({data:e})=>{console.log(a+" finished task-"+e.id);var t=r.get(e.id);r.delete(e.id),t&&t(e.result)};let n=e=>{t.postMessage(e)};window.MarkUp=window.MarkUp||{},window.MarkUp.fullParse=(e,t)=>new Promise(o=>{var s=i();r.set(s,o),console.log(a+" started parse-task: "+s),n({id:s,action:"parse",content:e,config:t})}),window.MarkUp.parse=async(e,t)=>{var a;return a=await MarkUp.fullParse(e+"\n",t),a?a.content:""},window.MarkUp.reverse=e=>new Promise(t=>{var o=i();r.set(o,t),console.log(a+" started reverse-task: "+o),n({id:o,action:"reverse",content:e})}),window.onbeforeunload=()=>{n("suicide"),t.close()}}else await loadJS("/Asimov/markup.js"),await loadJS("/Asimov/extensions.js"),await loadJS("/js/worker/extmarkup.js")}},d61b:function(e,t,a){"use strict";var r=a("79c4");const i={key:0,class:"nav-menu-item"},n={key:0,class:"fas fa-caret-down"},o={key:0,class:"hint fas fa-caret-right"};function s(e,t,a,s,c,l){const d=Object(r["x"])("NavMenuBar");return a.disabled?Object(r["e"])("",!0):(Object(r["q"])(),Object(r["d"])("div",i,[Object(r["h"])("a",{onClick:t[1]||(t[1]=e=>l.click(a.type,a.action))},[Object(r["g"])(Object(r["z"])(a.title),1),a.subs?(Object(r["q"])(),Object(r["d"])("i",n)):Object(r["e"])("",!0)]),a.subs?(Object(r["q"])(),Object(r["d"])("i",o)):Object(r["e"])("",!0),a.subs?(Object(r["q"])(),Object(r["d"])(d,{key:1,menu:a.subs,supers:a.action},null,8,["menu","supers"])):Object(r["e"])("",!0)]))}var c={name:"NavMenuItem",props:{title:String,type:String,action:String,subs:Array,disabled:Boolean},methods:{click(e,t){if(t=t.split(",").filter(e=>e.length>0),0!==t.length){var a={};if("page"===e)a.path="/"+t.join("/");else if("viewer"===e||"folder"===e)a.path="/category",a.query={c:t.join(",")};else{if("article"!==e)return"url"===e?void(location.href=location.origin+t.last):"action"===e?void("color"===t[0]?changeThemeColor(t[1]):"keyManager"===t[0]?PageBroadcast.emit("setting",{action:"KeyManager"}):"addFavorite"===t[0]?PageBroadcast.emit("memory-updated",{type:"favorite",title:window.PageInfo.title,url:window.PageInfo.url}):"removeFavorite"===t[0]&&PageBroadcast.emit("memory-updated",{type:"unfavorite",title:window.PageInfo.title,url:window.PageInfo.url})):void 0;{a.path="/view";let e=t.last,r=e.match(/^l=/);a.query=r?{l:e.substring(2)}:{f:e}}}var r=!0,i=!1;if(this.$route.path===a.path){i=!0;let e=this.$route.query&&(this.$route.query.c||this.$route.query.f)||"",t=a.query&&(a.query.c||a.query.f)||"";e===t&&(r=!1)}r&&(this.$router.push(a),i&&PageBroadcast.emit("page-changed",a))}}}};c.render=s;t["a"]=c},f5f8:function(e,t){(()=>{const e=Symbol("update"),t=100,a=e=>!(isNaN(e)||"number"!=typeof e);class r{constructor(e=100){this.cache=new Map,this.secondary=new Map,this.limit=a(e)?e:t,this.length=0}set(t,a){this.cache.has(t)?this.cache.set(t,a):this[e](t,a)}get(t){var a=this.cache.get(t);return void 0!==a||(a=this.secondary.get(t),void 0!==a&&this[e](t,a)),a}del(e){this.cache.has(e)&&this.length--,this.cache.delete(e),this.secondary.delete(e)}has(e){return this.cache.has(e)||this.secondary.has(e)}clear(){this.cache.clear(),this.secondary.clear(),this.length=0}[e](e,t){this.length++,this.length>=this.limit&&(this.secondary=this.cache,this.cache=new Map,this.length=0),this.cache.set(e,t)}}self.LRUCache=r})()},fc58:function(e,t,a){(function(e){(()=>{const t=(e,t)=>{t=t||document;var a=t.querySelectorAll(e);return[].map.call(a,e=>e)},a=(e,t)=>{var a=document.createElement(e);return String.is(t)?a.classList.add(t):Array.is(t)&&t.forEach(e=>a.classList.add(e)),a},r=(e,t)=>{t.forEach(t=>{t!==e&&t.pause()})};e.ImageWall={whRate:3/4,async init(){const e=document.querySelector("#container > div");var i=[...t(".markup-content audio"),...t(".markup-content video")];i.forEach(e=>{e.onplay=()=>r(e,i)});var n=0,o=0;t(".markup-content .image-wall").forEach(e=>{var r=t("div.resource",e);e._total=r.length,e._index=0,e._frame=e.querySelector("div.image-container.image-ghost"),e._frame||(e._frame=a("div",["image-container","image-ghost"]),e.appendChild(e._frame)),e._float=e.querySelector("div.image-container.image-float"),e._float||(e._float=a("div",["image-container","image-float"]),e.appendChild(e._float)),e._left=e.querySelector("div.image-button-left"),e._left||(e._left=a("div","image-button-left"),e._left.innerHTML='<i class="fas fa-angle-left"></i>',e.appendChild(e._left),e._left.addEventListener("click",t=>{e._index<=0||(e._index--,e._float.style.transform="translateX(-"+100/e._total*e._index+"%)",e._index<e._total-1&&e._right.classList.remove("inactive"),e._index<=0&&e._left.classList.add("inactive"))})),e._right=e.querySelector("div.image-button-right"),e._right||(e._right=a("div","image-button-right"),e._right.innerHTML='<i class="fas fa-angle-right"></i>',e.appendChild(e._right),e._right.addEventListener("click",t=>{e._index>=e._total-1||(e._index++,e._float.style.transform="translateX(-"+100/e._total*e._index+"%)",e._index>0&&e._left.classList.remove("inactive"),e._index>=e._total-1&&e._right.classList.add("inactive"))})),e._callback=(i,n)=>{r.some(e=>!e._ready)||(e.classList.add("loaded"),e._index=0,e._float.style.transform="translateX(0%)",e._left.classList.add("inactive"),r.forEach((t,r)=>{var i=a("div","image-frame");e._frame.appendChild(i),i.appendChild(t)}),e._float.innerHTML=e._frame.innerHTML,e._float.style.width=100*e._total+"%",t("div.image-frame",e._float).forEach(t=>{t.style.width=100/e._total+"%"}))},r.forEach(t=>{e._frame.appendChild(t),t._wall=e,t.classList.add("inside")})}),await Promise.all(t("div.resource.image").map(t=>new Promise(a=>{n++;var r=t.querySelector("img"),i=t.querySelector("figure");if(!r)return o++,PageBroadcast.emit("change-loading-hint",{title:"载入图片: "+o+" / "+n}),a();var s=t.classList.contains("inside");s||t.classList.add("outside"),r.onload=()=>{var s=e.getBoundingClientRect().width;ImageWall.whRate;r._available=!0,r.setAttribute("oWidth",r.naturalWidth),r.setAttribute("oHeight",r.naturalHeight),i.classList.add("loaded"),i.style.backgroundImage="url("+r.src+")",t.style.width=r.naturalWidth+"px";var c=r.naturalWidth,l=r.naturalHeight;r.naturalHeight/r.naturalWidth>ImageWall.whRate?(i.classList.add("tall"),l=r.naturalWidth*ImageWall.whRate,c=l*r.naturalWidth/r.naturalHeight):i.classList.remove("tall"),i.style.width="100%",i.style.height="100%",t._wall&&(t._ready=!0,t._wall._callback(c,l)),o++,PageBroadcast.emit("change-loading-hint",{title:"载入图片: "+o+" / "+n}),a()},r.onerror=()=>{r._available=!1,t.classList.add("failed"),o++,PageBroadcast.emit("change-loading-hint",{title:"载入图片: "+o+" / "+n}),a()}})))}}})()}).call(this,a("950f"))}});
 //# sourceMappingURL=index.js.map
\ No newline at end of file
