Array.prototype.copy=function(){return this.map(r=>r)},Array.prototype.duplicate=function(){var r=this.map(e=>{if(Object.isBasicType(e))return e.valueOf();if(e==null)return e;if(e instanceof Date)return new Date(e.getTime());if(typeof e=="object"&&!(e instanceof Promise))return e.duplicate()});return Object.assign([],this,r)},Array.prototype.randomize=function(){var r=this.length,e=Array.random(r),n=this;return e=e.map(t=>n[t]),e},Array.prototype.remove=function(r){var e=this.indexOf(r);return e<0?this:(this.splice(e,1),this)},Array.prototype.clear=function(r){return this.splice(0,this.length),this},Array.prototype.translate=function(r){var e=this.copy();if(isNaN(r))return e;var n=this.length;if(r>=n||r<=-n)return e;if(r>0){for(let t=0,i=r;t<n-r;t++,i++)e[t]=this[i];for(let t=n-r,i=0;t<n;t++,i++)e[t]=this[i]}else{r=-r;for(let t=0,i=r;t<n-r;t++,i++)e[i]=this[t];for(let t=n-r,i=0;t<n;t++,i++)e[i]=this[t]}return e},Array.prototype.query=function(r){var e=-1;return this.some((n,t)=>{const i=!!r(n);return i&&(e=t),i}),e},Array.prototype.pick=function(){var r=this.length,e=Math.floor(Math.random()*r);return this[e]},Array.prototype.equal=function(r){if(!(r instanceof Array))return!1;var e=this.byteLength;if(e!=r.byteLength)return!1;for(let n=0;n<e;n++)if(this[n]!==r[n])return!1;return!0},Object.defineProperty(Array.prototype,"first",{get(){return this[0]},enumerable:!1,configurable:!1}),Object.defineProperty(Array.prototype,"last",{get(){return this[this.length-1]},enumerable:!1,configurable:!1}),Object.defineProperty(Array.prototype,"copy",{enumerable:!1}),Object.defineProperty(Array.prototype,"duplicate",{enumerable:!1}),Object.defineProperty(Array.prototype,"remove",{enumerable:!1}),Object.defineProperty(Array.prototype,"clear",{enumerable:!1}),Object.defineProperty(Array.prototype,"randomize",{enumerable:!1}),Object.defineProperty(Array.prototype,"translate",{enumerable:!1}),Object.defineProperty(Array.prototype,"query",{enumerable:!1}),Object.defineProperty(Array.prototype,"pick",{enumerable:!1}),Object.defineProperty(Array.prototype,"equal",{enumerable:!1}),Array.is=r=>r instanceof Array,Array.generate=(r,e=n=>n)=>{var n=[];if(Function.is(e))for(let t=0;t<r;t++)n.push(e(t));else for(let t=0;t<r;t++)n.push(e);return n},Array.random=(r,e=n=>n)=>{var n=[],t=[];for(let i=0;i<r;i++)n.push(i);for(let i=0;i<r;i++){let o=Math.floor(Math.random()*n.length);t.push(e(n[o])),n.splice(o,1)}return t},Uint8Array.prototype.__proto__.copy=function(){return new Uint8Array(this)},Uint8Array.prototype.__proto__.duplicate=Uint8Array.prototype.__proto__.copy,Object.defineProperty(Uint8Array.prototype.__proto__,"copy",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype.__proto__,"duplicate",{enumerable:!1}),global._env==="node"&&(Uint8Array.prototype.__proto__.toBuffer=function(){var r=Buffer.alloc(this.length,this);return r},Uint8Array.prototype.__proto__.toBase64=function(){var r=Buffer.alloc(this.length,this);return r.toString("base64")},Object.defineProperty(Uint8Array.prototype.__proto__,"toBuffer",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype.__proto__,"toBase64",{enumerable:!1}),Uint8Array.fromString=(r,e="utf8")=>Uint8Array.fromBuffer(Buffer.from(r,e)),Uint8Array.fromBase64=r=>{var e=Buffer.from(r,"base64");return Uint8Array.fromBuffer(e)},Uint8Array.fromBuffer=r=>new Uint8Array(r),Uint16Array.fromBuffer=r=>new Uint16Array(r),Uint32Array.fromBuffer=r=>new Uint32Array(r),Int8Array.fromBuffer=r=>new Int8Array(r),Int16Array.fromBuffer=r=>new Int16Array(r),Int32Array.fromBuffer=r=>new Int32Array(r),Float32Array.fromBuffer=r=>new Float32Array(r),Float64Array.fromBuffer=r=>new Float64Array(r),BigInt64Array.fromBuffer=r=>new BigInt64Array(r),BigUint64Array.fromBuffer=r=>new BigUint64Array(r)),Uint8Array.prototype.sub=function(r,e){return isNaN(r)?this.copy():(isNaN(e)&&(e=r,r=0),new Uint8Array(Buffer.from(this).subarray(r,r+e)))},Uint8Array.prototype.concat=function(r){if(!(r instanceof Uint8Array))return this.copy();var e=Buffer.concat([this,r]);return Buffer.from(e)},Uint8Array.prototype.padEnd=function(r,e=0){if(r<=this.length)return this.copy();(!Number.is(e)||e<0||e>255)&&(e=0);var n=new Uint8Array(r);for(let t=0;t<this.length;t++)n[t]=this[t];for(let t=this.length;t<r;t++)n[t]=e;return n},Uint8Array.prototype.padStart=function(r,e=0){if(r<=this.length)return this.copy();(!Number.is(e)||e<0||e>255)&&(e=0);var n=new Uint8Array(r);r=r-this.length;for(let t=0;t<r;t++)n[t]=e;for(let t=0;t<this.length;t++)n[t+r]=this[t];return n},Uint8Array.prototype.equal=function(r){if(!(r instanceof Uint8Array))return!1;var e=this.byteLength;if(e!=r.byteLength)return!1;for(let n=0;n<e;n++)if(this[n]!==r[n])return!1;return!0},Object.defineProperty(Uint8Array.prototype,"sub",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype,"concat",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype,"padEnd",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype,"padStart",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype,"equal",{enumerable:!1});
