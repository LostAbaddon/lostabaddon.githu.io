(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06f149ec"],{"0771":function(t,e,c){"use strict";c("3401")},3401:function(t,e,c){},"3cd4":function(t,e,c){"use strict";c.r(e);var a=c("79c4");const i=Object(a["D"])("data-v-64418bfe");Object(a["t"])("data-v-64418bfe");const s={class:"infoPad"},n=Object(a["h"])("span",{class:"hint"},"文档数：",-1),o={ref:"count",class:"info"},l=Object(a["h"])("span",{class:"sep"},null,-1),r={class:"articleList"},h={class:"article"},u={class:"controller right"},b={class:"category"};Object(a["r"])();const p=i((t,e,c,i,p,d)=>(Object(a["q"])(),Object(a["d"])(a["a"],null,[Object(a["h"])("section",s,[n,Object(a["h"])("span",o,"0",512),l,Object(a["h"])("span",{class:"hint right clickable",onClick:e[1]||(e[1]=(...t)=>d.newArticle&&d.newArticle(...t))},"添加文档")]),Object(a["h"])("section",r,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(p.list,t=>(Object(a["q"])(),Object(a["d"])("div",h,[Object(a["h"])("span",{class:"title",onClick:e=>d.openArticle(t.id)},Object(a["z"])(t.name),9,["onClick"]),Object(a["h"])("span",u,[Object(a["h"])("span",b,Object(a["z"])(t.category),1),Object(a["h"])("span",{class:"button",onClick:e=>d.modifyArticle(t.id)},"编辑",8,["onClick"]),Object(a["h"])("span",{class:"button",onClick:e=>d.removeArticle(t.id,t.title)},"删除",8,["onClick"])])]))),256))])],64)));var d={name:"LocalLibrary",data(){return{list:[]}},components:{},async mounted(){await this.updateList(),callPageLoaded()},unmounted(){},methods:{async updateList(){var t=await BookShelf.getAllArticles();this.$refs.count.innerText=t.length,t.reverse().forEach(t=>{t.author!==this.SiteOwner?t.name=t.title+" ("+t.author+")":t.name=t.title,t.category.length>0?t.category=t.category.map(t=>CatePathMap[t]||t).join("; "):t.category="未分类"}),this.list.splice(0,this.list.length,...t)},newArticle(){this.$router.push({path:"/tools/markupEditor",query:{action:"newfile"}})},openArticle(t){this.$router.push({path:"/view",query:{l:t}})},modifyArticle(t){this.$router.push({path:"/tools/markupEditor",query:{action:t}})},removeArticle(t,e){showInfobox({title:"确认删除文章《"+e+"》么？",action:"yn",callback:async(e,c,a)=>{"yes"===e&&(await BookShelf.removeArticle(t),await this.updateList())}})}}};c("0771");d.render=p,d.__scopeId="data-v-64418bfe";e["default"]=d}}]);
//# sourceMappingURL=chunk-06f149ec.js.map