{"version":3,"sources":["webpack:///./src/pages/markup.vue?a792","webpack:///./src/pages/markup.vue","webpack:///./src/pages/markup.vue?dc56"],"names":["class","target","togglePreview","onClick","name","previewing","chChangeLoadingHint","BroadcastChannel","postMessage","action","wait","content","Granary","getContent","replace","this","$el","querySelector","innerText","html","MarkUp","parse","toc","glossary","resources","showtitle","showauthor","classname","innerHTML","afterMarkUp","methods","toggler","pad","classList","remove","add","style","transform","evt","onVueHyperLinkTriggered","render","__scopeId"],"mappings":"gHAAA,W,qKCCMA,MAAM,U,GAELA,MAAM,a,iBACqC,O,EAAG,eAAiC,KAA9BA,MAAM,qBAAmB,S,GACzEA,MAAM,U,EACV,eAAsC,OAAjCA,MAAM,WAAS,CAAC,eAAW,S,sGALnC,eASM,MATN,EASM,CARL,eAA0B,GAAnBC,OAAO,YACd,eAMM,MANN,EAMM,CALL,eAAyF,OAApFD,MAAM,aAAc,QAAK,oBAAE,EAAAE,eAAA,EAAAA,iBAAA,K,GAAkB,IAClD,eAGM,MAHN,EAGM,CAFL,EACA,eAA+C,OAA1CF,MAAM,aAAc,QAAK,oBAAE,EAAAG,SAAA,EAAAA,WAAA,cA+CrB,OACdC,KAAM,SACN,OACC,MAAO,CACNC,YAAY,IAGd,gBACC,IAAIC,EAAsB,IAAIC,iBAAiB,uBAC/CD,EAAoBE,YAAY,CAC/BJ,KAAM,QACNK,OAAQ,eAEHC,OAEN,IAAIC,QAAgBC,QAAQC,WAAW,kBACvCF,EAAUA,EAAQG,QAAQ,0DAA2D,WACrFC,KAAKC,IAAIC,cAAc,wBAAwBC,UAAYP,EAC3D,IAAIQ,QAAaC,OAAOC,MAAMV,EAAS,CACtCW,KAAK,EACLC,UAAU,EACVC,WAAW,EACXC,WAAW,EACXC,YAAY,EACZC,UAAW,mBAEZZ,KAAKC,IAAIC,cAAc,uBAAuBW,UAAYT,QACpDJ,KAAKc,cAEXvB,EAAoBE,YAAY,CAACC,OAAQ,UAE1CqB,QAAS,CACR,gBACCf,KAAKV,YAAcU,KAAKV,WACxB,IAAI0B,EAAUhB,KAAKC,IAAIC,cAAc,4BACjCe,EAAMjB,KAAKC,IAAIC,cAAc,sBAC7BF,KAAKV,YACR0B,EAAQE,UAAUC,OAAO,iBACzBH,EAAQE,UAAUE,IAAI,gBACtBH,EAAII,MAAMC,UAAY,qBAGtBN,EAAQE,UAAUC,OAAO,gBACzBH,EAAQE,UAAUE,IAAI,iBACtBH,EAAII,MAAMC,UAAY,mBAGxB,QAASC,GACRC,wBAAwBxB,KAAMuB,M,UCjGjC,EAAOE,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-403e2902.js","sourcesContent":["export * from \"-!../../../../Schwarzschild/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Schwarzschild/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../Schwarzschild/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../Schwarzschild/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./markup.vue?vue&type=style&index=0&id=0049ce5c&scoped=true&lang=css\"","<template>\r\n\t<div class=\"viewer\">\r\n\t\t<Crumb target=\"library\" />\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"controller\" @click=\"togglePreview\">预览：<i class=\"fas fa-toggle-off\"></i></div>\r\n\t\t\t<div class=\"asimov\">\r\n\t\t\t\t<div class=\"codePad\"><pre></pre></div>\r\n\t\t\t\t<div class=\"previewPad\" @click=\"onClick\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style scoped>\r\n.container {\r\n\tdisplay: block;\r\n\tbox-sizing: border-box;\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\toverflow-x: hidden;\r\n}\r\n.container .asimov {\r\n\tbox-sizing: border-box;\r\n\tposition: relative;\r\n\twidth: 205%;\r\n\ttransform: translateX(0%);\r\n\ttransition: transform 300ms ease-in-out;\r\n}\r\n.container .asimov .codePad,\r\n.container .asimov .previewPad {\r\n\tdisplay: inline-block;\r\n\tbox-sizing: border-box;\r\n\twidth: 48.78%;\r\n\tvertical-align: top;\r\n}\r\n.container .asimov .codePad {\r\n\tmargin-right: 1.21%;\r\n}\r\n.container .asimov .codePad pre {\r\n\tword-break: break-word;\r\n\tword-spacing: normal;\r\n\twhite-space: break-spaces;\r\n}\r\n.container .controller {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 0px;\r\n\tz-index: 1;\r\n\tuser-select: none;\r\n\tcursor: pointer;\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"markup\",\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tpreviewing: false\r\n\t\t}\r\n\t},\r\n\tasync mounted () {\r\n\t\tvar chChangeLoadingHint = new BroadcastChannel('change-loading-hint');\r\n\t\tchChangeLoadingHint.postMessage({\r\n\t\t\tname: '加载中……',\r\n\t\t\taction: 'show'\r\n\t\t});\r\n\t\tawait wait();\r\n\r\n\t\tvar content = await Granary.getContent('Asimov/demo.mu');\r\n\t\tcontent = content.replace(/https:\\/\\/upload-images\\.jianshu\\.io\\/upload_images\\//gi, '/image/');\r\n\t\tthis.$el.querySelector('.asimov .codePad pre').innerText = content;\r\n\t\tvar html = await MarkUp.parse(content, {\r\n\t\t\ttoc: true,\r\n\t\t\tglossary: true,\r\n\t\t\tresources: true,\r\n\t\t\tshowtitle: true,\r\n\t\t\tshowauthor: true,\r\n\t\t\tclassname: 'markup-content',\r\n\t\t});\r\n\t\tthis.$el.querySelector('.asimov .previewPad').innerHTML = html;\r\n\t\tawait this.afterMarkUp();\r\n\r\n\t\tchChangeLoadingHint.postMessage({action: 'hide'});\r\n\t},\r\n\tmethods: {\r\n\t\ttogglePreview () {\r\n\t\t\tthis.previewing = !this.previewing;\r\n\t\t\tvar toggler = this.$el.querySelector('.container .controller i');\r\n\t\t\tvar pad = this.$el.querySelector('.container .asimov');\r\n\t\t\tif (this.previewing) {\r\n\t\t\t\ttoggler.classList.remove('fa-toggle-off');\r\n\t\t\t\ttoggler.classList.add('fa-toggle-on');\r\n\t\t\t\tpad.style.transform = 'translateX(-50%)';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttoggler.classList.remove('fa-toggle-on');\r\n\t\t\t\ttoggler.classList.add('fa-toggle-off');\r\n\t\t\t\tpad.style.transform = 'translateX(0%)';\r\n\t\t\t}\r\n\t\t},\r\n\t\tonClick (evt) {\r\n\t\t\tonVueHyperLinkTriggered(this, evt);\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./markup.vue?vue&type=template&id=0049ce5c&scoped=true\"\nimport script from \"./markup.vue?vue&type=script&lang=js\"\nexport * from \"./markup.vue?vue&type=script&lang=js\"\n\nimport \"./markup.vue?vue&type=style&index=0&id=0049ce5c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-0049ce5c\"\n\nexport default script"],"sourceRoot":""}