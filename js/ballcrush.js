(()=>{const Le=50,de=2,Ee=4e3,Pe=20,pt=1,ue=1e3/60,Te=10,J=50,F=[[0,[237,227,231]],[20,[248,223,114]],[50,[147,181,207]],[100,[81,196,211]],[150,[86,152,195]],[200,[87,195,194]],[300,[32,137,77]],[500,[212,37,23]],[800,[72,30,28]],[1e3,[76,31,36]],[2e3,[44,42,41]]],V=[[0,[226,225,228]],[3,[205,209,211]],[8,[192,196,195]]],re="ballcrush_save",Be="ballcrush_rank";class R{constructor(t,s,i=30,e=1){this.x=500,this.y=0,this.vx=t,this.vy=s,this.r=i,this.p=e,this.score=0,this.mass=1,this.hits=0,this.color="white",this.border="black",this.text="black",this.isBall=!1,this.isGhost=!0,this.isBlackHole=!1,this.isRedNeck=!1,this.isGolden=!1}move(t){var s=this.x,i=this.y,e=s,l=i;if(this.y<-100&&this.vy<0&&(this.isGhost=!1),this.x+=this.vx*t,this.y+=this.vy*t,this.y>2e3+this.r)return[!1,!1];for(var a=!1,n=[],v=!1,g={x:this.vx,y:this.vy},o=null,k=!0,S=t,T=10,w=T,y=!1;k&&w>0;){w--,k=!1;let h=[],d=at(s,i,this.x,this.y,this);if(!!d&&d[3]!==o&&(h.push(d),k=!0),P.forEach(c=>{c!==o&&(d=c.collide(s,i,this.x,this.y,this),!!d&&(h.push(d),k=!0))}),!k)break;this.isGhost=!1,h.sort((c,p)=>c[2]-p[2]),h=h[0],this.vx=h[0].x,this.vy=h[0].y,s=h[1].x,i=h[1].y;let u=1-h[2];if(u*=S,this.x=s+this.vx*u,this.y=i+this.vy*u,this.vx*=Ie,this.vy*=Ie,o=h[3],isNaN(o))if(a=!0,Ce=!0,o.isBlackHole){this.p-=o.p,o.score+=1,this.p<=0&&(this.p=1,o.score+=1),y=!0,this.updateSize();break}else if(o.isGolden){if(this.hits+=2,this.score++,o.p--,o.p===0){let c=P.indexOf(o);c>=0&&P.splice(c,1),v=!0,this.score+=this.p}z+=1,_+=1,Y+=this.p}else{let c=this.p;if(c>o.p&&(c=o.p),this.hits+=c,o.p-=c,z+=c,_+=c,Y++,o.isRedNeck&&(this.score+=c,Y++),o.p===0){let p=P.indexOf(o);p>=0&&P.splice(p,1),this.hits>1&&(o.isRedNeck?this.score+=o.max:this.score++)}}}if(y)return[!0,a,!0];var L=0,m=0;this.x<this.r?L=this.r-this.x:this.x>1e3-this.r&&(L=this.x+this.r-1e3),this.y<this.r&&(m=this.r-this.y);var E=[],B=[];return P.forEach(h=>{h.isBlackHole?E.push(h):h.isRedNeck&&B.push(h);var d=h.doesInside(this.x,this.y,this.r);!d||(L+=d.x,m+=d.y)}),B.forEach(h=>{if(!(h.p<=0)){var d=this.x-h.x,u=this.y-h.y,c=(d**2+u**2)**.5;c<this.r+h.r&&(c=this.r+h.r),d/=c,u/=c,c=c**2;var p=h.max/this.p;p>200&&(p=200),p*=h.p/h.max,p=p/c*Ue,p>te&&(p=te);var N=p*u;p=p*d,L+=p/this.mass/t,m+=N/this.mass/t}}),E.forEach(h=>{if(!(h.p<=0)){var d=h.x-this.x,u=h.y-this.y,c=(d**2+u**2)**.5;c<this.r+h.r&&(c=this.r+h.r),d/=c,u/=c,c=c**2;var p=10*Math.sqrt(h.score+h.p+this.p);p>100&&(p=100),p=p/c*$e,p>te&&(p=te);var N=p*u;p=p*d,L+=p/this.mass/t,m+=N/this.mass/t}}),this.isGhost||(L-=this.vx*He,m-=this.vy*He,m+=te),this.vx+=L*t,this.vy+=m*t,Math.abs(this.x-e)+Math.abs(this.y-l)<Pe&&Math.abs(this.vy)<Pe&&(this.mass+=.1),this.score>8*this.p**2.5+(this.p-1)**3.5-4&&(this.score=0,this.p++,this.updateSize()),Y>5*H**1.8+(H/10)**2+.2*(H/20)**5+(H/30)**8-3&&(Y-=10*H,Y<0&&(Y=0),he(!0)),[!0,a,!1,v]}updateSize(){this.r=28+this.p*2}draw(){var t,s,i;this.isBlackHole?(t="black",s="white",i=" "):(t=Oe(this.p,this.isBall),this.isRedNeck?s="red":this.isGolden?s="green":s=this.border,i=this.p),tt(this.x,this.y,this.r,t,s,this.text,i,this.isBall)}static getHitPointOnCircle(t,s,i,e,l,a,n){var v=i-t,g=e-s,o=t-l,k=s-a,S=v*v+g*g,T=o*o+k*k,w=o*v+k*g,y=w*w-(T-n*n)*S;if(y<0)return null;y=Math.sqrt(y);var L=-(w-y)/S;if(y=-(w+y)/S,y<0||y>1)return null;var m=t+y*v,E=s+y*g,B=!1,h=t-l,d=s-a;return Math.abs(h)<=n&&Math.abs(d)<n&&(B=h**2+d**2-n**2<0),[m,E,y,B]}collide(t,s,i,e,l){var a=R.getHitPointOnCircle(t,s,i,e,this.x,this.y,l.r+this.r);if(!a)return null;var[n,v,g,o]=a;if(o)return null;var k={x:n,y:v},S={x:0,y:0},T=2*Math.atan2(n-this.x,v-this.y),w=Math.sin(T),y=Math.cos(T);return S.x=l.vx*y-l.vy*w,S.y=0-l.vy*y-l.vx*w,[S,k,g,this]}doesInside(t,s,i){var e=this.r+i,l=t-this.x,a=s-this.y,n=Math.sqrt(l*l+a*a);return n>e?null:(e=e-n,e/=n,{x:l*e,y:a*e})}}class be extends R{constructor(t,s,i=30,e=1){super(t,s,i,e);this.length=0,this.rotate=0,this.poly=3+Math.floor(Math.random()*4);var l=Math.PI*2/this.poly;if(this.ang=(Math.random()-.5)*l,Math.random()<.15){let a=Math.PI*(.008+Math.random()*.012);Math.random()<.5&&(a*=-1),this.rotate=a}}draw(){var t,s,i;this.isBlackHole?(t="black",s="white",i=" "):(t=Oe(this.p,this.isBall),this.isRedNeck?s="red":this.isGolden?s="green":s=this.border,i=this.p),it(this.x,this.y,this.r,this.poly,this.ang,t,s,this.text,i)}collide(t,s,i,e,l){t-=this.x,s-=this.y,i-=this.x,e-=this.y;var a=Math.PI*2/this.poly,n=a/2,v=Math.sin(n),g=Math.cos(n),o=this.r+l.r/g,k=this.r*g+l.r,S=this.r*v,T=-S,w=S,y=this.r*g,L=this.ang+n,m=[];for(let p=0;p<this.poly;p++){L+=a;let N=!1,b=Math.sin(L),q=Math.cos(L),ie=t*q-s*b,K=s*q+t*b,Fe=i*q-e*b,Q=e*q+i*b,se=Q<=o&&Q>=0;if(!se)continue;se=!1;let ce=!1,U=0,ve=0,Ve=0;if(K===Q?(se=!0,ce=!0):(U=(K-k)/(K-Q),ve=ie+(Fe-ie)*U,Ve=K+(Q-K)*U,se=!0,ve>=T&&ve<=S?(U<0||U>1)&&(ce=!0):ce=!0),!se)continue;let we=l.vx*q-l.vy*b,ke=l.vy*q+l.vx*b;if(ce){let G=R.getHitPointOnCircle(ie,K,Fe,Q,w,y,l.r);if(!G||G[3])continue;let W={},Se={};Se.x=G[0],Se.y=G[1];let Ze=2*Math.atan2(G[0]-w,G[1]-y),Ke=Math.sin(Ze),Qe=Math.cos(Ze);W.x=we*Qe-ke*Ke,W.y=0-ke*Qe-we*Ke,m.push([W,Se,G[2],b,q,!0])}else{let G={},W={};G.x=we,G.y=Math.abs(ke),W.x=ve,W.y=Ve,m.push([G,W,U,b,q,!1])}}if(m.length===0)return null;m.sort((p,N)=>p[2]-N[2]),m=m[0];var E=m[0],B=m[1],h=m[3],d=m[4],u={},c={};return u.x=E.x*d+E.y*h,u.y=E.y*d-E.x*h,c.x=B.x*d+B.y*h+this.x,c.y=B.y*d-B.x*h+this.y,[u,c,m[2],this]}doesInside(t,s,i){t=t-this.x,s=s-this.y;var e=i+this.r;if(Math.abs(t)>e||Math.abs(s)>e)return null;var l=Math.PI*2/this.poly,a=l/2,n=Math.sin(a),v=Math.cos(a),g=i+this.r*v,o=this.r*n,k=-o,S=o,T=this.r*v,w=this.ang+a,y=[];for(let E=0;E<this.poly;E++){let B=!1,h=Math.sin(w),d=Math.cos(w),u=t*d-s*h,c=s*d+t*h;if(!(c>g||c<0)){if(u>=k&&u<=o){let p={x:0,y:g-c};y.push([u,c,w,!1,p.y,p,h,d])}else{let p=u-S,N=c-T,b=Math.sqrt(p*p+N*N);if(b>i)continue;let q=i-b;b=q/b;let ie={x:p*b,y:N*b};y.push([u,c,w,!0,q,ie,h,d])}w+=l}}if(y.length===0)return null;y.sort((E,B)=>E[4]-B[4]),y=y[0];var L={x:0,y:0},m=y[5],l=[y[6],y[7]];return L.x=m.x*l[1]+m.y*l[0],L.y=m.y*l[1]-m.x*l[0],L}}var pe=document.querySelector('div.container div.area div.infoPad[name="GameEnd"]'),le=document.querySelector('div.container div.area div.infoPad[name="ModeSelector"]'),z=0,H=0,C=0,_=0,Y=0,f,Z,j=0,ye,me,xe,ae,Me,$=500,ee=9,te=9e3,He=.3,Ue=2e5,$e=1e5,Ie=.9,I=0,ne=0,oe=0,A=0,Ce=!1,ge=!1,P=[],X=1,Re={},qe={},Ge="",De="",x=[],D=[],O=[];const M={difficult:0,finish:0,newLine0(r=!0){return M.newLine1(r,!1,!1)},newLine1(r=!0,t=!0,s=!0){var i=[],e=3+Math.floor(Math.random()*3.5),l=1e3,a=(1/2-1/e)/2.5,n=X,v=H,g=_,o=C;M.finish===1?(n=80,v=100,o=150):(v<1&&(v=1),o<1&&(o=1),g<1&&(g=1));var k=1+Math.round((n**1.05+(n/10)**2)*g**.1+o**.8),S=k+Math.round(n**.4+o**.3+g**.1),T=Math.sqrt((v-8)/v)/8;M.finish===0&&(T/=2);var w=0,y=0;t&&(w=(n-10)/n/25),s&&(y=(n-5)/n/18);for(let h=0;h<e;h++){let d=Math.round(55+10*Math.random()),u;Math.random()<.35?u=new R(0,0,d):(u=new be(0,0,d),d*=1+(7-u.poly)/10,u.r=d),u.p=k+Math.round(Math.random()*S),Math.random()<T?u.isGolden=!0:Math.random()<w?(u.r=20,u.p=Math.round((X/10)**.5),u.score=u.p,u.life=Math.ceil(Math.random()+Math.random()*Math.random()*5),u.isBlackHole=!0):Math.random()<y&&(u.isRedNeck=!0,u.max=u.p),i.push(u),l-=d*2}var L=e,m=0,E=0-i[0].r,B=0-E;for(let h=0;h<e;h++){let d=Math.round(Math.random()*(l-m)/L),u=1800+Math.round(Math.random()*100),c=i[h];E+=B+c.r,B=c.r,c.x=d+E+m,c.y=u+(r?0:220),Math.random()>a&&P.push(c),m+=d,L--}}},Ne=()=>{var r=document.body.clientWidth,t=document.body.clientHeight;t-=Le+30,Devices.isMobile||(t-=25);var s=document.querySelector("div.viewer.ballcrush");s.style.width=r+"px";var i=t/de;i>r?t=r*de:r=i;var e=t+Le;s=document.querySelector("div.container.ballcrush"),s.style.width=r+"px",s.style.height=e+"px";var l=s.querySelector("canvas");l.style.width=r+"px",l.style.height=t+"px",l.width=1e3,l.height=1e3*de,l._width=r,l._height=t,f=l.getContext("2d",{alpha:!1}),st()},Ye=()=>{f.fillStyle="black",f.fillRect(0,0,1e3,2e3)},Xe=()=>{f.beginPath(),f.moveTo(300,0),f.lineTo(0,0),f.lineTo(0,2e3),f.lineTo(1e3,2e3),f.lineTo(1e3,0),f.lineTo(700,0),f.setLineDash([]),f.strokeStyle="white",f.lineWidth=5,f.stroke()},_e=()=>{P.forEach(r=>{r.draw()})},et=(r,t)=>{f.beginPath(),f.moveTo(500,0),f.lineTo(r,t),f.setLineDash([20,10]),f.strokeStyle="yellow",f.lineWidth=4,f.stroke()},tt=(r,t,s,i,e,l,a,n)=>{f.beginPath(),f.arc(r,t,s,0,2*Math.PI),f.fillStyle=i||"white",f.fill(),f.setLineDash([]),f.strokeStyle=e||"black",f.lineWidth=3,f.stroke(),f.fillStyle=l,a=a+"";var v=a.length;n?(f.font="40px Arial",f.fillText(a,r-v*12,t+18)):(f.font="60px Arial",f.fillText(a,r-v*18,t+20))},it=(r,t,s,i,e,l,a,n,v)=>{var g=Math.PI*2/i,o,k,S,T;f.beginPath(),o=r+s*Math.sin(e),k=t+s*Math.cos(e),f.moveTo(o,k);for(let y=1;y<i;y++)S=r+s*Math.sin(e+g*y),T=t+s*Math.cos(e+g*y),f.lineTo(S,T);f.lineTo(o,k),f.closePath(),f.fillStyle=l||"white",f.fill(),f.setLineDash([]),f.strokeStyle=a||"black",f.lineWidth=3,f.stroke(),f.fillStyle=n,v=v+"";var w=v.length;f.font="60px Arial",f.fillText(v,r-w*18,t+20)},st=()=>{Ye(),Xe()},he=(r=!1)=>{var t=new R(0,0);t.isBall=!0,r?(t.isGhost=!0,t.mass=1,t.vx=ne,t.vy=oe,t.x=500,t.y=0,D.push(t)):x.push(t)},rt=()=>{I===0&&(I=1,ge=!1,_=0,ae.innerHTML=0,D.push(...x.splice(0,x.length)),D.forEach(r=>{r.isGhost=!0,r.mass=1,r.vx=ne,r.vy=oe,r.x=500,r.y=0,r.hits=0,r.updateSize()}),A=0)},Oe=(r,t=!1)=>{var s;return t?(s=qe[r],s||(s=De)):(s=Re[r],s||(s=Ge)),s},fe=()=>{ye||(ye=document.querySelector("div.controller div.info span.total")),me||(me=document.querySelector("div.controller div.info span.count")),xe||(xe=document.querySelector("div.controller div.info span.power")),ae||(ae=document.querySelector("div.controller div.info span.current")),Me||(Me=document.querySelector("div.controller div.info span.level")),ye.innerHTML=z,me.innerHTML=H,xe.innerHTML=C,ae.innerHTML=_,Me.innerHTML=X},ze=(r,t)=>{r===500&&t===0&&(t=1);var s=r-500,i=t-0,e=(s*s+i*i)**.5;s=s/e*Ee,i=i/e*Ee,ne=s,oe=i,rt()},lt=()=>{var r=0,t=0,s=0,i=[];if(x.forEach((e,l)=>{e.p>r?r=e.p:e.p===1&&i.push(l)}),i.length!==0){s=Math.floor(i.length/r),t=i.length-s*r,i.reverse().forEach(e=>x.splice(e,1));for(let e=0;e<s;e++){let l=new R(0,0);l.p=r,l.isBall=!0,x.push(l)}if(t>0){let e=new R(0,0);e.p=t,e.isBall=!0,x.push(e)}H=x.length,C=0,x.forEach(e=>C+=e.p),fe()}},at=(r,t,s,i,e)=>{var l={x:0,y:0},a={x:0,y:0},n=0,v="";if(s<=e.r)l.y=e.vy,l.x=Math.abs(e.vx),a.x=e.r,r<=e.r?(n=0,a.y=t):(n=(e.r-r)/(s-r),a.y=t+(i-t)*n),v=1;else if(s>=1e3-e.r)l.y=e.vy,l.x=0-Math.abs(e.vx),a.x=1e3-e.r,r<=e.r?(n=0,a.y=t):(n=(1e3-e.r-r)/(s-r),a.y=t+(i-t)*n),v=2;else if(!e.isGhost&&i<=e.r)l.x=e.vx,l.y=Math.abs(e.vy),a.y=e.r,t<=e.r?(n=0,a.x=r):(n=(e.r-t)/(i-t),a.x=r+(s-r)*n),v=3;else return null;return[l,a,n,v]},je=(r=!0)=>{var t;return M.difficult===0?t=M.newLine0(r):M.difficult===1&&(t=M.newLine1(r)),r&&We(),t},Ae=r=>{P.forEach(t=>t.y-=10),!r&&(We(),I=0)},nt=r=>{X++;var t=0;if(P=P.filter(s=>s.y>220?(s.isBlackHole&&(s.life--,s.life===0&&(s.isBlackHole=!1,s.p=Math.ceil(s.score*(X/10+1)**.2))),!0):(M.finish===1||s.isBlackHole||(t+=s.p),!1)),t>0){let s=[];x.some((i,e)=>{if(i.p<=t)return t-=i.p,i.p=0,s.push(e),!1;i.p-=t,i.updateSize(),t=0}),s.length>0&&s.reverse().forEach(i=>x.splice(i,1))}if(M.finish===1){let s=x.length;if(x.sort((i,e)=>i.p===e.p?e.score-i.score:e.p-i.p),s<J)for(let i=s;i<J;i++)he();else s>J&&x.splice(J,s-J)}H=x.length,C=0,x.forEach(s=>C+=s.p),fe(),H===0?ot():je(!1)},ot=()=>{localStorage.removeItem(re);var r=localStorage.getItem(Be);r||(r={});try{r=JSON.parse(r)}catch(e){r={}}var t;M.difficult===0?(r.normal=r.normal||[],t=r.normal):M.difficult===1?(r.hell=r.hell||[],t=r.hell):t=[],t.push({stamp:Date.now(),level:X,score:z}),t.sort((e,l)=>l.score-e.score),t.length>10&&t.splice(10,t.length-10),localStorage.setItem(Be,JSON.stringify(r));let s=document.querySelector('div.container div.area div.infoPad[name="GameEnd"]');var i='<div class="title"><div>\u80DC\u8D25\u4E43\u5175\u5BB6\u5E38\u4E8B\uFF0C<br>\u5927\u4FA0\u8BF7\u91CD\u6765\u4E00\u6B21\uFF01</div><ol>';i+='<p><span class="date title">\u65F6\u95F4</span><span class="score title">\u5F97\u5206</span><span class="level title">\u5173\u6570</span></p>',t.forEach(e=>{var l="<li>";l+='<span class="date">'+ht(e.stamp)+"</span>",l+='<span class="score">'+e.score+"</span>",l+='<span class="level">'+e.level+"</span>",l+="</li>",i+=l}),i+="</ol></div>",s.innerHTML=i,s.classList.add("shown"),I=3,Z&&clearTimeout(Z)},ht=r=>{var t=new Date(r),s=t.getFullYear()-2e3,i=t.getMonth()+1,e=t.getDate(),l=s+"/"+i+"/"+e+" ";return l},We=()=>{var r={difficult:M.difficult,finish:M.finish,score:z,current:_,level:X};r.balls=x.map(t=>t),r.impedes=P.map(t=>t),localStorage.setItem(re,JSON.stringify(r))},ft=()=>{var r=localStorage.getItem(re);if(!r)return!1;try{r=JSON.parse(r)}catch(t){return!1}return M.difficult=r.difficult,M.finish=r.finish,z=r.score,_=r.current,X=r.level,x.splice(0,x.length),r.balls.forEach(t=>{var s=new R(0,0);for(let i in t)s[i]=t[i];x.push(s)}),r.impedes.forEach(t=>{var s;t.poly>=0?s=new be(0,0):s=new R(0,0);for(let i in t)s[i]=t[i];P.push(s)}),!0},ct=()=>{if(P.splice(0,P.length),!ft()){if(z=0,_=0,X=1,je(),M.finish===0)he();else if(M.finish===1)for(let r=0;r<J;r++)he()}Y=0,H=x.length,C=0,x.forEach(r=>C+=r.p),fe(),Z=setTimeout(Je,ue)},vt=r=>{if(j<=0)return;if(D.length>0)if(A===0){O.push(D.splice(0,1)[0]);let e=H/30;A=Math.round(4+6/(e+1))}else A--;let t=[],s=!1,i=!1;P.forEach(e=>{e.rotate!==0&&(s=!0,e.ang+=e.rotate,e.rotate>0&&e.ang>Math.PI*2?e.ang-=Math.PI*2:e.rotate<0&&e.ang<-Math.PI*2&&(e.ang+=Math.PI*2))}),O.forEach((e,l)=>{var[a,n,v,g]=e.move(r);if(v)x.push(e),t.push(l),n&&(s=!0);else if(a){if(e.draw(),n&&(s=!0),g){ge=!0;let o=new R(0,0);o.isBall=!0,o.isGhost=!0,o.mass=1,o.vx=ne,o.vy=oe,o.x=500,o.y=0,o.p=e.p,D.push(o)}}else{let o=!0;e.hits===0&&(e.score<=0&&(e.p--,e.p<=0&&(e.p=0,o=!1)),e.score=0,i=!0),o&&e.p>0&&x.push(e),t.push(l)}}),t.reverse().forEach(e=>O.splice(e,1)),O.length===0&&(P.length===0&&(i=!0,x.forEach(e=>{Y+=e.p,e.score+=e.p})),I=2),s&&_e(),(Ce||i)&&(H=x.length+D.length+O.length,C=0,x.forEach(e=>C+=e.p),D.forEach(e=>C+=e.p),O.forEach(e=>C+=e.p),fe())},Je=()=>{Ye(),et($,ee),_e();var r=Date.now();if(j>0){let t=r-j;M.finish===0?t=Te:t*=Te/ue,t/=1e3,I===1?(vt(t),j=r):I===2?(ge&&lt(),nt(),I===2&&(A=21,I=4,Ae(!0))):I===4?(A--,Ae(A>=0),j=r):j=0}else j=r;Xe(),I!==3&&(Z=setTimeout(Je,ue))},dt=()=>{I=3,Z&&clearTimeout(Z),localStorage.removeItem(re),x.splice(0,x.length),D.splice(0,D.length),O.splice(0,O.length),le.classList.add("shown")},ut=()=>{Ne(),document.querySelector('div.container div.infoPad div.modeList div.mode[mode="back"]').addEventListener("click",i=>{location.href="/#/category?c=entertain"});var r=document.querySelector("div.container canvas");r.addEventListener("mousemove",i=>{var e=i.offsetX/r._width*1e3,l=i.offsetY/r._height*2e3;$=e,ee=l}),r.addEventListener("touchmove",i=>{if(i.touches.length!==0){var e=i.touches[i.touches.length-1],l=r.getBoundingClientRect(),a=(e.clientX-l.x)/r._width*1e3,n=(e.clientY-l.y)/r._height*2e3;$=a,ee=n,i.preventDefault()}}),r.addEventListener("click",i=>{var e=i.offsetX/r._width*1e3,l=i.offsetY/r._height*2e3;ze(e,l)}),r.addEventListener("touchstart",i=>{if(i.touches.length!==0){var e=i.touches[i.touches.length-1],l=r.getBoundingClientRect(),a=(e.clientX-l.x)/r._width*1e3,n=(e.clientY-l.y)/r._height*2e3;$=a,ee=n,i.preventDefault()}}),r.addEventListener("touchend",i=>{ze($,ee),i.preventDefault()}),Ge="rgb("+F[F.length-1][1].join(",")+")";var t=0,s=F[F.length-1][0];for(let i=0;i<=s;i++){let e=F[t],l=e[1];if(i===e[0])l="rgb("+l.join(",")+")",t++;else{let a=F[t-1],n=(i-a[0])/(e[0]-a[0]);a=a[1];let v=[];v[0]=Math.round((l[0]-a[0])*n+a[0]),v[1]=Math.round((l[1]-a[1])*n+a[1]),v[2]=Math.round((l[2]-a[2])*n+a[2]),l="rgb("+v.join(",")+")"}Re[i]=l}De="rgb("+V[V.length-1][1].join(",")+")",t=0,s=V[V.length-1][0];for(let i=0;i<=s;i++){let e=V[t],l=e[1];if(i===e[0])l="rgb("+l.join(",")+")",t++;else{let a=V[t-1],n=(i-a[0])/(e[0]-a[0]);a=a[1];let v=[];v[0]=Math.round((l[0]-a[0])*n+a[0]),v[1]=Math.round((l[1]-a[1])*n+a[1]),v[2]=Math.round((l[2]-a[2])*n+a[2]),l="rgb("+v.join(",")+")"}qe[i]=l}pe.addEventListener("click",()=>{pe.classList.remove("shown"),le.classList.add("shown")}),le.addEventListener("click",i=>{i=i.target;var e=i.getAttribute("mode");if(!!e){if(e==="normal")M.difficult=0,M.finish=0;else if(e==="hell")M.difficult=1,M.finish=0;else if(e==="normalZen")M.difficult=0,M.finish=1;else if(e==="hellZen")M.difficult=1,M.finish=1;else return;pe.classList.remove("shown"),le.classList.remove("shown"),I=0,ct()}})};window.onresize=Ne,window.BallCrush={init:ut,onLeave:dt}})();
