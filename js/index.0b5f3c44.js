(function(e){function t(t){for(var n,a,o=t[0],l=t[1],u=t[2],c=0,p=[];c<o.length;c++)a=o[c],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);h&&h(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var o=r[a];0!==s[o]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},a={index:0},s={index:0},i=[];function o(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-24d1ed8e":"a7fdc992","chunk-308bd2e8":"7f475aaa","chunk-3d89e28e":"c5ddb4d5"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(e){var t=[],r={"chunk-24d1ed8e":1,"chunk-308bd2e8":1,"chunk-3d89e28e":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-24d1ed8e":"85c1cc54","chunk-308bd2e8":"4f25ee3e","chunk-3d89e28e":"d7cd07c3"}[e]+".css",s=l.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===n||c===s))return t()}var p=document.getElementsByTagName("style");for(o=0;o<p.length;o++){u=p[o],c=u.getAttribute("data-href");if(c===n||c===s)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var n=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[e],h.parentNode.removeChild(h),r(i)},h.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){a[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=s[e]=[t,r]}));t.push(n[2]=i);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=o(e);var p=new Error;u=function(t){c.onerror=c.onload=null,clearTimeout(h);var r=s[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",p.name="ChunkLoadError",p.type=n,p.request=a,r[1](p)}s[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var h=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"068a":function(e,t){const r=(e,t,r,n)=>{isNaN(n)&&(n=r);var a=e.match(t);return a=a?a.length:n,a<r&&(a=r),a},n=(e,t)=>{if(0===t)return"";var r=e.length;return r>t?e=e.substring(r-t,r):r<t&&(e=e.padStart(t,"0")),e},a=(e,t,r,n)=>{var a=[];return e.length>0&&a.push(e),t.length>0&&a.push(t),r.length>0&&a.push(r),a.join(n)},s=(e,t,r,n,a)=>{var s=[];e.length>0&&s.push(e),t.length>0&&s.push(t),r.length>0&&s.push(r);var i=s.join(a);return n.length>0&&(i+="."+n),i},i=(e,t="YYYYMMDDhhmmss",i="/",o=":",l=" ")=>{e=e||new Date;var u=r(t,/Y/g,0,0),c=r(t,/M/g,1,0),p=r(t,/D/g,1,0),h=r(t,/h/g,0,0),f=r(t,/m/g,0,0),m=r(t,/s/g,0,0),d=r(t,/x/g,0),g=n(e.getYear()+1900+"",u),v=n(e.getMonth()+1+"",c),y=n(e.getDate()+"",p),b=n(e.getHours()+"",h),w=n(e.getMinutes()+"",f),_=n(e.getSeconds()+"",m),k=n(e.getMilliseconds()+"",d),x=a(g,v,y,i),E=s(b,w,_,k,o);return 0===E.length?x:x+l+E};_("Utils").getTimeString=i},2231:function(e,t){Symbol.set=Symbol.setSymbols=function(e,t){String.is(e)?(t=[].map.call(arguments,e=>e),e=null):Array.is(e)&&!t&&(t=e,e=null),e=e||{};var r={},n={};return t.forEach(t=>{if(t=t.split("|"),0!==t.length){t.length<2&&(t[1]=t[0]);var a=t[1];t=t[0];var s=Symbol(t);r[s]=a,n[t]=a,Object.defineProperty(e,t,{value:s,configurable:!1,enumerable:!0})}}),e.toString=e=>r[e]||n[e]||"No Such Symbol",Object.defineProperty(e,"toString",{enumerable:!1}),e},Symbol.is=e=>Symbol.__proto__===Symbol.prototype||"symbol"===typeof e},"23be":function(e,t,r){"use strict";var n=r("4a3d"),a=r.n(n);t["default"]=a.a},"3dfd":function(e,t,r){"use strict";var n=r("6057"),a=r("23be"),s=r("e032"),i=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,null,null);t["default"]=i.exports},"4a3d":function(e,t){},"4cf0":function(e,t,r){},"55a5":function(e,t,r){(function(e,t,r){try{window?(window.global=window,e._env="browser",e.require=()=>{},e.module={exports:{}}):e._env="node"}catch(n){e._env="node"}t&&t.execArgv&&!t.execArgv.includes("--expose-gc")&&(e.gc=()=>{}),e.noEventModules||e._canThread,"node"===e._env&&(e.loadjLAssModule=e=>{loadall(r,"./"+e)})}).call(this,r("950f"),r("3cbd"),"/")},"55f6":function(e,t){Boolean.is=e=>"boolean"===typeof e||e instanceof Boolean,BigInt.is=e=>"bigint"===typeof e||e instanceof BigInt,Number.is=e=>"number"===typeof e||e instanceof Number,Object.isBasicType=e=>!!String.is(e)||(!!Boolean.is(e)||(!!BigInt.is(e)||(!!Number.is(e)||!!Symbol.is(e)))),Object.prototype.copy=function(){return Object.assign({},this)},Object.prototype.duplicate=function(){var e={};for(let t in this){let r=this[t];Object.isBasicType(r)?e[t]=r.valueOf():null===r||void 0===r?e[t]=r:r instanceof Date?e[t]=new Date(r.getTime()):"object"!==typeof r||r instanceof Promise||(e[t]=r.duplicate())}return Object.assign({},this,e)},Object.prototype.extent=function(...e){var t=Object.assign({},this);e.reverse(),Object.assign(this,...e,t)},Object.defineProperty(Object.prototype,"copy",{enumerable:!1}),Object.defineProperty(Object.prototype,"duplicate",{enumerable:!1}),Object.defineProperty(Object.prototype,"extent",{enumerable:!1}),Number.prototype.duplicate=function(){return 1*this},Object.defineProperty(Number.prototype,"duplicate",{enumerable:!1}),BigInt.prototype.duplicate=function(){return 1n*this},Object.defineProperty(BigInt.prototype,"duplicate",{enumerable:!1}),Boolean.prototype.duplicate=function(){return!1!==this&&!1!==this.valueOf()},Object.defineProperty(Boolean.prototype,"duplicate",{enumerable:!1})},"56d7":function(e,t,r){"use strict";r.r(t);r("55a5"),r("5abc"),r("b9a5"),r("9eab"),r("78d8"),r("746b"),r("55f6"),r("64c5"),r("2231"),r("ea3a"),r("068a"),r("cbfc"),r("ef5b"),r("fa66"),r("6ae3");var n=r("e832"),a=r("3dfd"),s=r("4af9"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("Column"),r("strong",[e._v("Welcome to LostAbaddon's Death Foreseer Society!")]),r("br"),e._v("The world is waiting for its light, please WAIT for a while... ")],1)},o=[],l={name:"Home"},u=l,c=r("e032"),p=Object(c["a"])(u,i,o,!1,null,null,null),h=p.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"category"},[r("Crumb"),r("Column"),r("div",[e._v("This is a category page!")])],1)},m=[],d={name:"Category"},g=d,v=Object(c["a"])(g,f,m,!1,null,null,null),y=v.exports;n["a"].use(s["a"]);const b=[{path:"/",name:"Home",component:h},{path:"/category",name:"Category",component:y},{path:"/entertain/rushgo",name:"RushGo",component:y},{path:"/about",name:"AboutSite",component:function(){return r.e("chunk-3d89e28e").then(r.bind(null,"52a1"))}},{path:"/aboutMe",name:"AboutMe",component:function(){return r.e("chunk-308bd2e8").then(r.bind(null,"dd86"))}},{path:"*",name:"PageNotFound",component:function(){return r.e("chunk-24d1ed8e").then(r.bind(null,"8cdb"))}}],w=new s["a"]({mode:"hash",base:"/",routes:b});var _=w,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav-bar"},[r("router-link",{attrs:{to:"/"}},[e._v("首页")]),r("i",{staticClass:"fas fa-caret-right"}),r("div",{staticClass:"nav-container"},[r("NavMenuBar",{attrs:{menu:e.menu}})],1),r("div",{staticClass:"about-bar nav-container right"},[r("NavMenuBar",{attrs:{menu:e.aboutMenu}})],1)],1)},x=[],E=r("7547"),O=E["a"],A=Object(c["a"])(O,k,x,!1,null,null,null),j=A.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"nav-menu-bar"},e._l(e.menu,(function(t){return r("NavMenuItem",{attrs:{title:t.name,action:t.category&&t.category.length>0?e.supers?e.supers+","+t.category:t.category:"",type:t.type,subs:t.subs}})})),1)},M=[],$={name:"NavMenuBar",props:{supers:"",menu:Array}},S=$,T=Object(c["a"])(S,L,M,!1,null,null,null),C=T.exports,U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav-menu-item"},[r("a",{on:{click:function(t){return e.click(e.type,e.action)}}},[e._v(e._s(e.title)),e.subs?r("i",{staticClass:"fas fa-caret-down"}):e._e()]),e.subs?r("NavMenuBar",{attrs:{menu:e.subs,supers:e.action}}):e._e()],1)},P=[],N={name:"NavMenuItem",props:{title:String,type:String,action:String,subs:Array},methods:{click(e,t){if(t=t.split(",").filter(e=>e.length>0),0!==t.length){var r={};if("page"===e)r.path="/"+t.join("/");else{if("viewer"!==e)return;r.path="/category",r.query={c:t.join(",")}}var n=!0,a=!1;if(this.$route.path===r.path){a=!0;let e=this.$route.query&&this.$route.query.c||"",t=r.query&&r.query.c||"";e===t&&(n=!1)}n&&(this.$router.push(r),a&&EventBus.pub("ChangePage"))}}}},B=N,I=Object(c["a"])(B,U,P,!1,null,null,null),q=I.exports,D=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},H=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tail-bar"},[r("div",{staticClass:"left"},[e._v(" © 2020 - 2021 LostAbaddon, all rights reserved. ")]),r("div",{staticClass:"right"},[e._v(" Generated by "),r("a",{attrs:{target:"_blank",href:"https://github.com/LostAbaddon/Schwarzschild"}},[e._v("Schwarzschild v0.1.0")])])])}],F={name:"TailBar"},W=F,R=Object(c["a"])(W,D,H,!1,null,null,null),z=R.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.show?r("div",{staticClass:"crumb"},[r("span",{staticClass:"hint"},[e._v("位置：")]),e._l(e.path,(function(t,n){return[r("span",{on:{click:function(r){return e.jump(t.path)}}},[e._v(e._s(t.name))]),r("i",{staticClass:"fas fa-angle-right"})]}))],2):e._e()},G=[],J=null;EventBus.sub("ChangePage",()=>{J&&J.update()});var K={name:"Crumb",data(){return{show:!0,path:[]}},methods:{jump(e){this.$router.push({path:e});var t=e.split("?")[0];t===this.$route.path&&EventBus.pub("ChangePage")},update(){var e=null,t="";if("/"===this.$route.path?e=null:"/category"===this.$route.path?this.$route.query&&this.$route.query.c&&(e=this.$route.query.c.split(",").filter(e=>e.length>0),t="viewer"):(e=this.$route.path.split("/").filter(e=>e.length>0),t="page"),e){this.show=!0,this.path.splice(0,this.path.length),"viewer"!==t&&"page"!==t||e.pop();var r=SiteMap,n=[];e.some((e,a)=>{if(!r)return!0;var s=r[e];if(!s)return!0;var i={name:s.name};n.push(e),"page"===t?i.path="/"+n.join("/"):"viewer"===t&&(i.path="/category?c="+n.join(",")),r=s.subs,this.path.push(i)}),this.path.unshift({name:"首页",path:"/"})}else this.show=!1}},mounted(){this.update(),J=this},destroyed(){J=null}},V=K,X=Object(c["a"])(V,Y,G,!1,null,null,null),Q=X.exports,Z=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ee=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"column"},[r("div",{staticClass:"loading"},[e._v("载入中……")])])}],te=null;EventBus.sub("ChangePage",e=>{te&&te.update()});var re={name:"Column",methods:{async update(){var e=this.$el.querySelector("div.loading");e.innerHTML="加载中……",e.classList.remove("hide");var t=null;if("/"===this.$route.path)t="/";else{if("/category"!==this.$route.path)return void(e.innerHTML="本页无内容……");if(!this.$route.query||!this.$route.query.c)return void(e.innerHTML="本页无内容……");t="/"+this.$route.query.c.split(",").filter(e=>e.length>0).join("/")}console.log(t),setTimeout(()=>{e.classList.add("hide")},1e3)}},mounted(){te=this,this.update()},destroyed(){te=null;var e=this.$el.querySelector("div.loading");e.classList.remove("hide")}},ne=re,ae=Object(c["a"])(ne,Z,ee,!1,null,null,null),se=ae.exports;r("5aea"),r("9a67"),r("4cf0"),r("6851"),r("899d"),r("6f45"),n["a"].component("NavBar",j),n["a"].component("NavMenuBar",C),n["a"].component("NavMenuItem",q),n["a"].component("TailBar",z),n["a"].component("Crumb",Q),n["a"].component("Column",se),n["a"].config.productionTip=!1;var ie=!0;const oe=new MutationObserver(e=>{var t=!1;if(e.forEach((e,r)=>{"container"===e.target.id&&[].some.call(e.addedNodes,e=>!!e.classList&&e.classList.contains("container"))&&(t=!0)}),t){var r=document.querySelectorAll(".markup");[].forEach.call(r,e=>{var t=e.innerText;t=t.replace(/^\t+|\t+$/g,"\n"),t=MarkUp.parse(t,{toc:e.classList.contains("toc"),glossary:e.classList.contains("glossary"),resources:e.classList.contains("resources"),showtitle:!1,showauthor:!1,classname:"markup-content"}),e.innerHTML=t,e.classList.remove("markup")}),ie?(ie=!1,InitNotes(document.body.querySelector("#container")),MathJax.Hub.Config({extensions:["tex2jax.js"],TeX:{extensions:["AMSmath.js","AMSsymbols.js"]},jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["$","$"]]}})):MathJax.Hub.Queue(["Typeset",MathJax.Hub])}});oe.observe(document.body,{childList:!0,subtree:!0}),new n["a"]({router:_,render:function(e){return e(a["default"])}}).$mount("#app")},"5abc":function(e,t,r){(function(e){const t=new Map;e._=(r,n)=>{if(r=r.split(/[\/\\,\.\:;]/).map(e=>e.trim()).filter(e=>e.length>0),r.length<1)return e;if(r=r.join("/"),n)return t.set(r,n),n;if(n=t.get(r),n)return n;var a=[...t.keys()];return a=a.filter(e=>0===e.indexOf(r)),n={},a.forEach(e=>{var a=t.get(e);e=e.replace(r+"/",""),e=e.split("/");var s=e.pop(),i=n;e.forEach(e=>{i[e]&&(i[e]={}),i=i[e]}),i[s]=a}),n},_("Utils",{})}).call(this,r("950f"))},"5aea":function(e,t,r){},6057:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("NavBar"),r("div",{attrs:{id:"container"}},[r("router-view")],1),r("div",{attrs:{id:"footnoteFrame"}}),r("TailBar")],1)},a=[]},"64c5":function(e,t,r){(function(e,t){const r=[];(()=>{for(let e=0;e<10;e++)r.push(""+e);for(let e=65;e<=90;e++)r.push(String.fromCharCode(e));for(let e=97;e<=122;e++)r.push(String.fromCharCode(e))})(),String.random=e=>{var t="";for(let n=0;n<e;n++)t+=r[Math.floor(r.length*Math.random())];return t},String.blank=(e,t=" ")=>{var r="";for(let n=0;n<e;n++)r+=t;return r},String.is=e=>e instanceof String||"string"===typeof e,String.prototype.copy=String.prototype.duplicate=function(){return String(this).toString()},Object.defineProperty(String.prototype,"copy",{enumerable:!1}),Object.defineProperty(String.prototype,"duplicate",{enumerable:!1}),"node"===e._env&&Object.defineProperty(String.prototype,"byteLength",{get(){var e=t.from(this,"utf8");return e.byteLength},enumerable:!1,configurable:!1})}).call(this,r("950f"),r("608e").Buffer)},6851:function(e,t,r){},"6ae3":function(e,t){window.InitNotes=e=>{const t=document.querySelector("#footnoteFrame");t._status=0,e.addEventListener("transitionstart",async r=>{var n=r.target,a=n.className;if("notemark"===a||"terminology"===a){var s=n.computedStyleMap();s=s.get("text-decoration").toString();var i=!1;if(s.indexOf("underline")>=0&&(i=!0),i){var o=n.getAttribute("href");if("#"!==o.substr(0,1))return;o=o.substring(1,o.length);var l=e.querySelector('a[name="'+o+'"]');if(!l)return;var u=l.parentElement.innerHTML.replace(l.outerHTML,""),c="";"terminology"===a&&(c='<p class="note-title">'+n.innerText+"</p>"),c+='<p class="note-content">'+u+"</p>",t.innerHTML=c,t._status=1;var p=n.getBoundingClientRect(),h=!0,f=!0,m=p.left-10,d=p.top+p.height+10;m>.6*window.innerWidth&&(f=!1,m=window.innerWidth-p.right),d>.7*window.innerHeight&&(h=!1,d=window.innerHeight-p.top),f?(t.style.left=m+"px",t.style.right=""):(t.style.left="",t.style.right=m+"px"),h?(t.style.top=d+"px",t.style.bottom=""):(t.style.top="",t.style.bottom=d+"px"),t.style.display="block",await wait(50),t.style.opacity="1",t._status=2}else t.style.opacity="0",await wait(200),2===t._status&&(t.style.display="none",t._status=0)}})}},"6f45":function(e,t,r){},"746b":function(e,t){Math.pick=e=>{if(Array.is(e)){let t=Math.floor(Math.random()*e.length);return e[t]}return isNaN(e)?null:Math.random()<=e},Math.range=(e,t)=>(isNaN(t)&&(t=e,e=0),e+Math.random()*(t-e))},7547:function(e,t,r){"use strict";(function(e){const r=e=>{var t={};return e.forEach(e=>{var n={name:e.name};e.subs&&(n.subs=r(e.subs)),t[e.category]=n}),t};t["a"]={name:"NavBar",data(){return{menu:[{name:"随笔",type:"viewer",category:"essay",subs:[{name:"头脑风暴",type:"viewer",category:"mindstorm"},{name:"闲扯",type:"viewer",category:"issue"}]},{name:"格物致知",type:"viewer",category:"science",subs:[{name:"数学",type:"viewer",category:"math",subs:[{name:"数论",type:"viewer",category:"number"},{name:"几何",type:"viewer",category:"geometry"}]},{name:"物理",type:"viewer",category:"physics",subs:[{name:"虚构",type:"viewer",category:"virtual"}]},{name:"算法信息论",type:"viewer",category:"AIT"}]},{name:"虚拟世界",type:"viewer",category:"novel",subs:[{name:"科幻",type:"viewer",category:"scific"},{name:"奇幻",type:"viewer",category:"magic"},{name:"推理",type:"viewer",category:"detective"}]},{name:"实用工具",type:"viewer",category:"tools",subs:[{name:"写字板",type:"page",category:"writer"},{name:"计算器",type:"page",category:"calculator"}]},{name:"休闲娱乐",type:"viewer",category:"entertain",subs:[{name:"三消俄罗斯方块",type:"page",category:"tritetris"},{name:"无尽2048",type:"page",category:"infinity2048"},{name:"诡异弹球",type:"page",category:"bunceball"},{name:"普通的五子棋",type:"page",category:"rushgo"}]},{name:"资料库",type:"viewer",category:"library"}],aboutMe:"aboutMe"}},computed:{aboutMenu(){var e=[{name:"本站",type:"page",category:"about"}];return this.aboutMe?(e.unshift({name:"站长",type:"page",category:this.aboutMe}),e=[{name:"关于",type:"page",category:"",subs:e}]):e[0].name="关于",e}},mounted(){e.SiteMap=r(this.menu)}}}).call(this,r("950f"))},"78d8":function(e,t,r){(function(e){Function.is=e=>e instanceof Function,e.AsyncFunction=(async()=>{}).constructor,AsyncFunction.is=e=>e instanceof AsyncFunction;const t=e=>{if(!(e instanceof Function))return null;if(e._promised)return e;var t=(...t)=>new Promise((r,n)=>{try{e(...t,r,n)}catch(a){n(a)}});return t._promised=!0,t._original=e,t};t.withTimeout=e=>{if(!(e instanceof Function))return null;if(e._promised)return e;var t=(...t)=>{var r,n,a=null,s=-1,i=null,o=new Promise((a,s)=>{n=s;var o=(...e)=>{i&&clearTimeout(i),i=null,a(...e)};try{r=(new Date).getTime(),e(...t,o,n)}catch(l){n(l)}});return o.timeout=(...e)=>{if(e[0]instanceof Number&&(e[0]=1*e[0]),isNaN(e[0]))e[0]instanceof Function&&(a=e[0]);else if(e[1]instanceof Function&&(a=e[1]),s=e[0]>=0?e[0]:-1,s<0&&i)clearTimeout(i),i=null;else if(s>=0){i&&clearTimeout(i);let e=(new Date).getTime();i=setTimeout(()=>{a&&a(),n(new Error("Timeout!"))},s-(e-r))}return o},o};return t._promised=!0,t._original=e,t};const r=(e,...r)=>{var n,a,s;return r[0]instanceof Array?(n=r[0],a=r[1],s=r[2],s||(s=a,a=null)):(s=r.pop(),a=r[r.length-1]instanceof Function?null:r.pop(),n=r),n=e?n.map(e=>t(e)):n.map(e=>e._original||e),[n,a,s]};t.s=t.serial=t(async(...e)=>{var[t,n,a]=r(!0,...e);for(let r of t){let e;e=null===n||void 0===n?await r():await r(n),void 0!==e&&(n=e)}a(n)}),t.p=t.parallel=t(async(...e)=>{var[t,n,a]=r(!0,...e),s=t.length,i=[];t.forEach(async(e,t)=>{var r;r=null===n||void 0===n?await e():await e(n),i[t]=r,s--,s>0||a(i)})}),t.a=t.any=t(async(...e)=>{var[t,n,a]=r(!0,...e);t.forEach(async(e,t)=>{var r;r=null===n||void 0===n?await e():await e(n),a(r)})}),e.promisify=Function.promisify=t,e.oncilize=Function.oncilize=e=>{var t,r,n=!1;return r=e._promised?(...r)=>new Promise(async(a,s)=>{if(n)return await waitLoop(),void a(t);n=!0,t=await e(...r),a(t)}):(...r)=>(n||(n=!0,t=e(...r)),t),r.refresh=()=>n=!1,r},e.pumplize=Function.pumplize=(e,t,r=!0)=>{var n=[],a=null,s=100,i=null,o=()=>{a=null;var s=n;n=[],t(r?e(...s):e(s))},l=(...e)=>{null===a&&(a=Date.now(),i&&clearTimeout(i),i=setTimeout(o,s));var t=Date.now();t-a>=s?o():r?n=e:n.push(e)};return l.dump=()=>{i&&clearTimeout(i),i=null,o()},l.timeout=e=>{if(isNaN(e))return l;if(s=e,null===a)return l;var t=Date.now();return i&&clearTimeout(i),i=setTimeout(o,s+a-t),l},l}}).call(this,r("950f"))},"899d":function(e,t,r){},"9a67":function(e,t,r){},"9eab":function(e,t,r){(function(e){e.ProtoType=Function.prototype,Object.defineProperty(ProtoType,"kerneltype",{get(){return this===ProtoType||this.__proto__===ProtoType?this:this.__proto__.kerneltype?this.__proto__.kerneltype:this},enumerable:!1,configurable:!1}),Object.prototype.isSubClassOf=function(e){if("function"!==typeof this)return!1;var t=this;while(t){if(t===e)return!0;t=Object.getPrototypeOf(t)}return!1},Object.defineProperty(Object.prototype,"isSubClassOf",{enumerable:!1})}).call(this,r("950f"))},b9a5:function(e,t,r){(function(e,t){Array.prototype.copy=function(){return this.map(e=>e)},Array.prototype.duplicate=function(){var e=this.map(e=>Object.isBasicType(e)?e.valueOf():null===e||void 0===e?e:e instanceof Date?new Date(e.getTime()):"object"!==typeof e||e instanceof Promise?void 0:e.duplicate());return Object.assign([],this,e)},Array.prototype.randomize=function(){var e=this.length,t=Array.random(e),r=this;return t=t.map(e=>r[e]),t},Array.prototype.remove=function(e){var t=this.indexOf(e);return t<0||this.splice(t,1),this},Array.prototype.clear=function(e){return this.splice(0,this.length),this},Array.prototype.translate=function(e){var t=this.copy();if(isNaN(e))return t;var r=this.length;if(e>=r||e<=-r)return t;if(e>0){for(let n=0,a=e;n<r-e;n++,a++)t[n]=this[a];for(let n=r-e,a=0;n<r;n++,a++)t[n]=this[a]}else{e=-e;for(let n=0,a=e;n<r-e;n++,a++)t[a]=this[n];for(let n=r-e,a=0;n<r;n++,a++)t[a]=this[n]}return t},Array.prototype.query=function(e){var t=-1;return this.some((r,n)=>{const a=!!e(r);return a&&(t=n),a}),t},Array.prototype.pick=function(){var e=this.length,t=Math.floor(Math.random()*e);return this[t]},Array.prototype.equal=function(e){if(!(e instanceof Array))return!1;var t=this.byteLength;if(t!=e.byteLength)return!1;for(let r=0;r<t;r++)if(this[r]!==e[r])return!1;return!0},Object.defineProperty(Array.prototype,"first",{get(){return this[0]},enumerable:!1,configurable:!1}),Object.defineProperty(Array.prototype,"last",{get(){return this[this.length-1]},enumerable:!1,configurable:!1}),Object.defineProperty(Array.prototype,"copy",{enumerable:!1}),Object.defineProperty(Array.prototype,"duplicate",{enumerable:!1}),Object.defineProperty(Array.prototype,"remove",{enumerable:!1}),Object.defineProperty(Array.prototype,"clear",{enumerable:!1}),Object.defineProperty(Array.prototype,"randomize",{enumerable:!1}),Object.defineProperty(Array.prototype,"translate",{enumerable:!1}),Object.defineProperty(Array.prototype,"query",{enumerable:!1}),Object.defineProperty(Array.prototype,"pick",{enumerable:!1}),Object.defineProperty(Array.prototype,"equal",{enumerable:!1}),Array.is=e=>e instanceof Array,Array.generate=(e,t=(e=>e))=>{var r=[];if(Function.is(t))for(let n=0;n<e;n++)r.push(t(n));else for(let n=0;n<e;n++)r.push(t);return r},Array.random=(e,t=(e=>e))=>{var r=[],n=[];for(let a=0;a<e;a++)r.push(a);for(let a=0;a<e;a++){let e=Math.floor(Math.random()*r.length);n.push(t(r[e])),r.splice(e,1)}return n},Uint8Array.prototype.__proto__.copy=function(){return new Uint8Array(this)},Uint8Array.prototype.__proto__.duplicate=Uint8Array.prototype.__proto__.copy,Object.defineProperty(Uint8Array.prototype.__proto__,"copy",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype.__proto__,"duplicate",{enumerable:!1}),"node"===e._env&&(Uint8Array.prototype.__proto__.toBuffer=function(){var e=t.alloc(this.length,this);return e},Uint8Array.prototype.__proto__.toBase64=function(){var e=t.alloc(this.length,this);return e.toString("base64")},Object.defineProperty(Uint8Array.prototype.__proto__,"toBuffer",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype.__proto__,"toBase64",{enumerable:!1}),Uint8Array.fromString=(e,r="utf8")=>Uint8Array.fromBuffer(t.from(e,r)),Uint8Array.fromBase64=e=>{var r=t.from(e,"base64");return Uint8Array.fromBuffer(r)},Uint8Array.fromBuffer=e=>new Uint8Array(e),Uint16Array.fromBuffer=e=>new Uint16Array(e),Uint32Array.fromBuffer=e=>new Uint32Array(e),Int8Array.fromBuffer=e=>new Int8Array(e),Int16Array.fromBuffer=e=>new Int16Array(e),Int32Array.fromBuffer=e=>new Int32Array(e),Float32Array.fromBuffer=e=>new Float32Array(e),Float64Array.fromBuffer=e=>new Float64Array(e),BigInt64Array.fromBuffer=e=>new BigInt64Array(e),BigUint64Array.fromBuffer=e=>new BigUint64Array(e)),Uint8Array.prototype.sub=function(e,r){return isNaN(e)?this.copy():(isNaN(r)&&(r=e,e=0),new Uint8Array(t.from(this).subarray(e,e+r)))},Uint8Array.prototype.concat=function(e){if(!(e instanceof Uint8Array))return this.copy();var r=t.concat([this,e]);return t.from(r)},Uint8Array.prototype.padEnd=function(e,t=0){if(e<=this.length)return this.copy();(!Number.is(t)||t<0||t>255)&&(t=0);var r=new Uint8Array(e);for(let n=0;n<this.length;n++)r[n]=this[n];for(let n=this.length;n<e;n++)r[n]=t;return r},Uint8Array.prototype.padStart=function(e,t=0){if(e<=this.length)return this.copy();(!Number.is(t)||t<0||t>255)&&(t=0);var r=new Uint8Array(e);e-=this.length;for(let n=0;n<e;n++)r[n]=t;for(let n=0;n<this.length;n++)r[n+e]=this[n];return r},Uint8Array.prototype.equal=function(e){if(!(e instanceof Uint8Array))return!1;var t=this.byteLength;if(t!=e.byteLength)return!1;for(let r=0;r<t;r++)if(this[r]!==e[r])return!1;return!0},Object.defineProperty(Uint8Array.prototype,"sub",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype,"concat",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype,"padEnd",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype,"padStart",{enumerable:!1}),Object.defineProperty(Uint8Array.prototype,"equal",{enumerable:!1})}).call(this,r("950f"),r("608e").Buffer)},cbfc:function(e,t,r){(function(e){(()=>{const t=Symbol("HIDDEN"),r=["GOD","THEONE","TITLE","AUTHOR","EMAIL","DESCRIPTION","STYLE","SCRIPT","DATE","KEYWORD","GLOSSARY","TOC","REF","LINK","IMAGES","VIDEOS","AUDIOS","ARCHOR","SHOWTITLE","SHOWAUTHOR","RESOURCES"],n=["toc","glossary","resources","images","videos","audios"],a=["article","section","div","p","header","footer","aside","ul","ol","li","blockquote","pre","figure","figcaption"],s={"\\":"slash","/":"antislash",_:"underline","*":"star","+":"plus","-":"minus","=":"equal","`":"dash","~":"wavy","!":"bang","?":"question",":":"colon","@":"at-circle","#":"sharp","^":"angle",$:"dollar","%":"percent","(":"left-bracket",")":"right-bracket","[":"left-square-bracket","]":"right-square-bracket","{":"left-curve-bracket","}":"right-curve-bracket","|":"vertical-line"},i={};Object.keys(s).forEach(e=>i[s[e].toLowerCase()]=e),i["$"]="&#36;",r.forEach((e,t)=>r[t]=e.toLowerCase());const o={},l={},u={},c={},p=(e=8)=>{var t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random())+"";return t};o.addExtension=(e,t=0,r=5)=>{if(0===t){let t=l["_indexes_"];t||(t=[],l["_indexes_"]=t),t.includes(r)||(t.push(r),t.sort((e,t)=>e-t)),t=l[r],t||(t=[],l[r]=t),t.push(e)}else if(1===t){let t=u["_indexes_"];t||(t=[],u["_indexes_"]=t),t.includes(r)||(t.push(r),t.sort((e,t)=>e-t)),t=u[r],t||(t=[],u[r]=t),t.push(e)}else if(2===t){let t=c["_indexes_"];t||(t=[],c["_indexes_"]=t),t.includes(r)||(t.push(r),t.sort((e,t)=>e-t)),t=c[r],t||(t=[],c[r]=t),t.push(e)}};const h=e=>(e="\n"+e+"\n",e=e.replace(/\r\n/g,"\n").replace(/\n([ 　]+)/g,(e,t)=>{var r=t.replace(/　/g,"  ").length;return r<4?"\n":e}),e=e.replace(/(\n[ 　\t>\-\+\*~(\d+\.)]+)(`{3,}|~{3,}|\${2})/g,(e,t,r)=>t+"\n"+r),r.forEach(t=>{var r=new RegExp("([\\w\\W]? *)\\["+t+"\\]( *[\\w\\W]?)","gi");e=e.replace(r,(e,r,n)=>"]"===r||"["===n||"("===n?e:r+"%"+t+"%"+n)}),e),f=e=>(e=e.replace(/^\n+|\n+$/gi,""),e=e.replace(/\n{3,}/gi,"\n\n\n"),e),m=(e,t,r=-1/0,n)=>{var a=l["_indexes_"];if(!a)return"";var s=!n;return n=n||{},a.some(a=>{if(r>a)return!0;if(a>=0)return!0;var s=l[a],i=!0;while(i)i=!1,s.forEach(r=>{var a;[e,a]=r.parse(e,t,n),a&&(i=!0)})}),e=P(e),a.forEach(a=>{if(!(r>a)&&!(a<0)){var s=l[a],i=!0;while(i)i=!1,s.forEach(r=>{var a;[e,a]=r.parse(e,t,n),a&&(i=!0)})}}),s&&(e=N(e,n)),e},d=(e,t,r=0,n)=>{t.parseLevel++;var a=[],s=!1;n||(s=!0,n={});var i=[];a=e.split("\n"),a.forEach((e,t)=>{var r=e.match(/^[ 　\t]*$/);if(0!==e.length)if(e.match(/^[=\-\+\*~\._#]{3,}$/))e.match(/^\-+$|^=+$/)?i.push([t,0,2,0,0,0,0,0]):e.match(/^~+$/)?i.push([t,0,2,0,0,1,0,0]):i.push([t,0,1,0,0,0,0,0]);else if(r=e.match(/^(`{3,}|~{3,})[ 　\t]*([\w\-\.\+=\?\~\\\/]*)$/),r)r[2]?i.push([t,0,0,0,0,2,0,0]):i.push([t,0,0,0,0,1,0,0]);else{if(r=e.match(/^\${2}[ 　\t]*$/),r)return r[2],void i.push([t,0,0,0,0,0,0,1]);if(r=e.match(/^([\-\+\*~]|\d+\.)[ 　\t]+/),r)return r=e.match(/^([\-\+\*~]|\d+\.)[ 　\t]+(`{3,}|~{3,})[ 　\t]*([\w\-\.\+=\?\~\\\/]*)$/),r?void(r[2]?i.push([t,0,0,0,1,2,0,0]):i.push([t,0,0,0,1,1,0,0])):(r=e.match(/^([\-\+\*~]|\d+\.)[ 　\t]+(\${2})[ 　\t]*$/),r?(r[2],void i.push([t,0,0,0,1,0,0,1])):void i.push([t,0,0,0,1,0,0,0]));if(r=e.match(/^(> *)+/),r)return r=e.match(/^(> *)+[ 　\t]+(`{3,}|~{3,})[ 　\t]*([\w\-\.\+=\?\~\\\/]*)$/),r?void(r[2]?i.push([t,0,0,1,0,2,0,0]):i.push([t,0,0,1,0,1,0,0])):(r=e.match(/^(> *)+[ 　\t]+(\${2})[ 　\t]*$/),r?(r[2],void i.push([t,0,0,1,0,0,0,1])):void i.push([t,0,0,1,0,0,0,0]));if(r=e.match(/^([ 　\t]+)/),r)return r=e.match(/(`{3,}|~{3,})[ 　\t]*([\w\-\.\+=\?\~\\\/]*)$/),r?void(r[1]?i.push([t,0,0,1,1,2,0,0]):i.push([t,0,0,1,1,1,0,0])):(r=e.match(/(\${2})[ 　\t]*([\w\-\.\+=\?\~\\\/]*)$/),r?(r[1],void i.push([t,0,0,1,1,0,0,1])):void i.push([t,0,0,1,1,0,0,0]));if(r=e.match(/\|/g),r){let n=e.match(/\\\|/g);if(!n||n&&n.length!==r.length){let r=!0;n=e;while(r){r=!1;let e=n.replace(/\([^\(\)\[\]\{\}]+?\)/g,"");e=e.replace(/\[[^\(\)\[\]\{\}]+?\]/g,""),e=e.replace(/\{[^\(\)\[\]\{\}]+?\}/g,""),r=e!==n,n=e}if(n.indexOf("|")>=0)return void i.push([t,0,0,0,0,0,1,0])}}}else i.push([t,1,0,0,0,0,0,0])});var o={};i.forEach(e=>{o[e[0]]=e});var l=!0;if(l=!1,i.length>0){if(l=y(i,o,a,t,n)||l,i.length>0&&(l=b(i,o,a,t,n)||l),i.length>0&&(l=w(i,o,a,t,n)||l),s&&0===r&&t.metas.linenumber){let e=0;a.forEach((t,r)=>{if(t&&!t.match(/^%[\w\-]+%$/)){var n=o[r];if((!n||!(n[1]>0||n[2]>0))&&!t.match(/^[ 　\t>\+\-\*`\^\|_~=\{\}<]$/)&&!t.match(/^[!@#]\[[^\(\)\[\]\{\}]*?(\[.*?\][ 　\t]*\(.*?\))*?[^\(\)\[\]\{\}]*?\](\([^\(\)\[\]\{\}]*?\))$/)&&!t.match(/^[!@#]\[[^\(\)\[\]\{\}]*?(\[.*?\][ 　\t]*\(.*?\))*?[^\(\)\[\]\{\}]*?\](\[[^\(\)\[\]\{\}]*?\])$/)){var s=t.match(/\{[<\|>]\}$/);s?(s=s[0],t=t.substr(0,t.length-s.length)+'<span name="line-'+e+'"></span>'+s):t=t+'<span name="line-'+e+'"></span>',e++,a[r]=t}}}),t.metas.totalLineCount=e}[a,o]=g(i,o,a),i.length>0&&(l=_(i,o,a,t,n)||l,[a,o]=g(i,o,a)),i.length>0&&(l=k(i,o,a,t,n)||l,[a,o]=g(i,o,a))}return l=x(i,o,a,t,n)||l,[a,o]=g(i,o,a),l=E(i,o,a,t,n)||l,a=a.map(e=>{if(null===e)return"";if(void 0===e)return"";if(0===e.length)return"";var r="";if(s){let a=e.match(/^%([\w\W]+)%(\{[\w \-\.\u0800-\uffff]+\})*$/);a?r=N(e,n,!1):(r=v(e,t),r=N(r,n,!1))}else{r=v(e,t);let a="param-"+p();n[a]=r,r="%"+a+"%"}return r}),t.parseLevel--,t.parseLevel>0&&(a=a.join("")),a},g=(e,t,r)=>(r=r.map((e,t)=>[t,e]),r=r.filter(e=>!(!e[1]&&""!==e[1])),r.forEach((e,r)=>{var n=e[0],a=t[n];a&&(a[0]=r)}),t={},e.forEach(e=>{t[e[0]]=e}),r=r.map(e=>e[1]),[r,t]),v=(e,t)=>{var r="<p",n="</p>",a=[],s=e.match(/^\{[<\|>]\}|\{[<\|>]\}$/);s&&(s=s[0],"{<}"===s?a.push("align-left"):"{|}"===s?a.push("align-center"):"{>}"===s&&a.push("align-right"),e=e.replace(/^\{[<\|>]\}|\{[<\|>]\}$/g,""));var i=e.match(/^(:+)/);return i&&!e.match(/^:([\w\-\.]+?):/)&&(i=i[0],a.push("indent","indent-"+i.length),e=e.replace(/^:+/,"")),a.length>0&&(r=r+' class="'+a.join(" ")+'"'),r+=">",0===e.length?"":r+e+n},y=(e,t,r,n,a)=>{var s=[];if(e.forEach(e=>{e[7]&&s.push(e)}),0===s.length)return!1;if(1===s.length)return s[0][7]=0,!1;var i=s.length,o=s[0];o[7]=2;for(let c=1;c<i;c++){let e=s[c];2===o[7]?(e[3]=o[3],e[4]=o[4],e[7]=3):3===o[7]&&(e[7]=2),o=e}2===s[s.length-1][7]&&(s[s.length-1][7]=0),s.forEach(e=>{1===e[7]&&(e[7]=0)});var l=[];s=s.filter(e=>!(e[7]<2)&&(2===e[7]&&l.push(e[0]),!0)),i=s.length;for(let c=i-1;c>0;c-=2){let e=s[c-1][0];l.includes(e)||s.splice(c-1,2)}var u=[];i=s.length;for(let c=0;c<i;c+=2)u.push([s[c][0],s[c+1][0]]);return u.forEach(a=>{var s=['<p class="latex block">$$'];for(let e=a[0]+1;e<a[1];e++)s.push(r[e]);s.push("$$</p>"),s=s.join("<br>");var i="latex-"+p();n.finals[i]=s,r[a[0]]="%"+i+"%";for(let e=a[0]+1;e<=a[1];e++)r[e]=null;for(let r=a[0];r<=a[1];r++){let n=t[r];if(!n)continue;let a=e.indexOf(n);a>=0&&e.splice(a,1),delete t[r],n[0]=-1}}),u.length>0},b=(e,t,r,n,a)=>{var s=[];if(e.forEach(e=>{e[5]&&s.push(e)}),0===s.length)return!1;if(1===s.length)return s[0][5]=0,!1;var i=s.length,o=s[0];o[5]=2;for(let c=1;c<i;c++){let e=s[c];2!==e[5]||(c===i-1&&(e[5]=0),3===o[5])?(2===o[5]?(e[3]=o[3],e[4]=o[4],e[5]=3):3===o[5]&&(e[5]=2),o=e):o[5]=0}2===s[s.length-1][5]&&(s[s.length-1][5]=0),s.forEach(e=>{1===e[5]&&(e[5]=0)});var l=[];s=s.filter(e=>!(e[5]<2)&&(2===e[5]&&l.push(e[0]),!0)),i=s.length;for(let c=i-1;c>0;c-=2){let e=s[c-1][0];l.includes(e)||s.splice(c-1,2)}var u=[];i=s.length;for(let c=0;c<i;c+=2)u.push([s[c][0],s[c+1][0]]);return u.forEach(a=>{var s=r[a[0]],i=s.match(/(`{3,}|~{3,})[ 　\t]*/)[0],o=s.indexOf(i);i=s.substr(o+i.length,s.length),i=i.replace(/^[ 　\t]+|[ 　\t]+$/g,"");var l="<pre",u="</code></pre>";0===i.length?l=l+' lang="'+i+'"><code>':l+="><code>",i=l;var c=[];for(let e=a[0]+1;e<a[1];e++)c.push(r[e]);c=c.join("\n"),c=l+c+u;var h="codeblock-"+p();n.finals[h]=c,r[a[0]]="%"+h+"%";for(let e=a[0]+1;e<=a[1];e++)r[e]=null;for(let r=a[0];r<=a[1];r++){let n=t[r];if(!n)continue;let a=e.indexOf(n);a>=0&&e.splice(a,1),delete t[r],n[0]=-1}}),u.length>0},w=(e,t,r,n,a)=>{var s=[];if(e.forEach(e=>{e[6]&&s.push(e)}),0!==s.length){var i=[],o=0,l=s[0][0];i.push([s[0]]);var u=s.length;for(let e=1;e<u;e++){let t=s[e];t[0]===l+1?i[o].push(t):(o++,i[o]=[t]),l=t[0]}return i=i.filter(e=>!(e.length<2)),i.forEach(s=>{O(s,e,t,r,n,a)}),!0}},_=(e,t,r,n,a)=>{var s=0,i=r.length;if(e.forEach((e,t)=>{if(e[3]+e[4]!==0){var r=e[0];r<i&&(i=r),r>s&&(s=r)}}),i>s)return!1;for(let h=s+1;h<r.length-1;h++){let e=t[h],r=t[h+1];if(e&&e[1]>0&&r&&r[1]>0)break;s=h}if(s===r.length-2){let e=r.length-1,n=t[e];n&&0!==n[1]||(s=e)}var o=0,l=[[[i,t[i]]]],u=!0;t[i][3];for(let h=i+1;h<=s;h++){var c=t[h];if(c)if(c[1]){if(!u)continue;let e=t[h+1];if(!e||e[1]>0){u=!1;continue}l[o].push([h,c])}else c[3]+c[4]!==0?(u||(o++,l[o]=[],t[h][3]>0,u=!0),l[o].push([h,c])):u&&l[o].push([h,c]);else u&&l[o].push([h,null])}var p=!1;return l.forEach(s=>{s.forEach(e=>{var t=e[0];e[1]||(r[t]="    "+r[t])});var i=0,o=s[0][0],l=r[o];i=-1;l.match(/^[ 　\t>]/)?i=0:l.match(/^[\-\+]|[\*~][ 　\t]/)?i=1:l.match(/^\d+\.[ 　\t]/)&&(i=2),i<0||(change=!0,0===i?j(s,e,t,r,n,a):1===i?L(!1,s,e,t,r,n,a):2===i&&L(!0,s,e,t,r,n,a))}),p},k=(e,t,r,n,a)=>{var s=[],i=[];e.forEach(e=>{if(0!==e[2]){var n=e[0],a=t[n-1];if(a)a[1]>0&&s.push([n,r[n].replace(/^[ 　\t]+|[ 　\t]+$/,"")[0]]);else{let e=r[n-1];if(0===n||e.match(/^%[\w\-]+%$/))s.push([n,r[n].replace(/^[ 　\t]+|[ 　\t]+$/,"")[0]]);else{let e=r[n].substr(0,1);"="===e?i.push([n-1,1]):"-"===e?i.push([n-1,2]):"~"===e||"+"===e||"_"===e?i.push([n-1,3]):"*"===e?i.push([n-1,4]):"#"===e?i.push([n-1,5]):"."===e&&i.push([n-1,6]),r[n]=null}}}});for(let o=0;o<r.length;o++){let e=r[o];if(!e)continue;let t=e.match(/^(#+)[ 　\t]*/);if(t){let n=t[0],a=t[1];n!==e&&0!==e.indexOf(n+"[")&&(i.push([o,a.length]),r[o]=e.replace(/^#+[ 　\t]*|[ 　\t]*#+$/g,""))}}return s.length+i.length!==0&&(i.sort((e,t)=>e[0]-t[0]),s.forEach(e=>{var[t,n]=e,s="headline-"+p(),i="<hr";i+="="===n?' class="heavy">':"-"===n?' class="light">':"*"===n?' class="star">':"~"===n?' class="wavy">':"."===n?' class="dotted">':"_"===n?' class="dashed">':"+"===n?' class="strong">':"#"===n?' class="heavystrong">':">",a[s]=i,r[t]="%"+s+"%"}),i.forEach(e=>{var[t,s]=e,i="header-"+p(),o="h"+(s||1),l=r[t];l=m(l,n),l=l.replace(/^[ 　\t\n]+|[ 　\t\n]+$/,""),l="<"+o+">"+l+"</"+o+">",a[i]=l,r[t]="%"+i+"%"}),!0)},x=(e,t,r,n,a)=>{var s=[],i=!0;while(i)i=!1,r.forEach(e=>{if(0===e.length)return s.push(e);e=e.replace(/(\])[ 　\t]*(\[([\w \-\.]+)\])/g,(e,t,r,a)=>{var s,i=n.refs[a];if(!i||i.indexOf("://")<0&&i.indexOf("@")<0||i.indexOf("\n")>=0){if(s=n.metas[a.toLowerCase()],!s||s.indexOf("://")<0&&s.indexOf("@")<0||s.indexOf("\n")>=0)return e;i=s}return t+"("+i+")"});var t=[],r=[],a=!0;while(a)a=!1,e=e.replace(/[!@#]\[[^\(\)\[\]\{\}]*?(\[.*?\][ 　\t]*\(.*?\))*?[^\(\)\[\]\{\}]*?\](\([^\(\)\[\]\{\}]*?\))/g,(e,n,s)=>(a=!0,s.match(/[ 　\t]+"(left|right)"\)$/)?r.push(e):t.push(e),""));e=e.replace(/^[ 　\t]+|[ 　\t]+$/g,""),r.forEach(e=>s.push(e)),e.length>0&&(t.length>0&&(i=!0),s.push(e)),t.forEach(e=>s.push(e))}),r.splice(0,r.length),s.forEach(e=>r.push(e)),s=[];return!0},E=(e,t,r,n,a)=>{var s=[],i=[],o=[],l=-1;r.forEach((e,t)=>{if(e&&0!==e.length){var r=e.match(/^%([\w\W]+)%(\{[\w \-\.\u0800-\uffff]+\})*$/);if(r)l=-1;else{if(r=e.match(/^[@#]\[[^\(\)\[\]\{\}]*?(\[.*?\][ 　\t]*\(.*?\))*?[^\(\)\[\]\{\}]*?\]\([^\(\)\[\]\{\}]*?\)$/),r)return o.push([t,e]),void(l=-1);r=e.match(/^!\[[^\(\)\[\]\{\}]*?(\[.*?\][ 　\t]*\(.*?\))*?[^\(\)\[\]\{\}]*?\]\([^\(\)\[\]\{\}]*?\)$/);var n=r?1:0;n===l?0===n?s[s.length-1].push([t,e]):1===n&&i[i.length-1].push([t,e]):(0===n?s[s.length]=[[t,e]]:1===n&&(i[i.length]=[[t,e]]),l=n)}}else l=-1}),i=i.filter(e=>{var t=e.length>1;return 1===e.length&&o.push(e[0]),t}),s.forEach(e=>{var t=[],a=e[0][0];e.forEach(e=>{var a=e[0],s=e[1];0!==s.length&&(t.push(m(s,n)),r[a]=null)}),t=t.join("<br>"),r[a]=t}),i.forEach(e=>{var t=[],s=e[0][0];e.forEach(e=>{t.push(m(e[1],n)),r[e[0]]=null}),t=t.join(""),t='<div class="image-wall">'+t+"</div>";var i="imagewall-"+p();a[i]=t,r[s]="%"+i+"%"}),o.forEach(e=>{var[t,s]=e;s=m(s,n);var i="resource-"+p();a[i]=s,r[t]="%"+i+"%"})},O=(e,t,r,n,a,s)=>{var i=!0,o=null,l=-1;e.some((e,t)=>{var r=n[e[0]];r=r.replace(/^[ 　\t]+|[ 　\t]+$/g,"");var a=r.match(/[\|:\-]+/);if(a)return a=a[0],r===a?(o=a,l=e[0],0===t&&(i=!1),!0):void 0}),o?(o=o.replace(/^\||\|$/g,""),o=o.split("|"),o=o.map(e=>e.match(/^:\-:$/)?1:e.match(/^:\-$/)?0:e.match(/^\-:$/)?2:3)):(i=!1,o=[]);var u,c=[],h=0;e.forEach(e=>{var t=e[0];if(t!==l){var r=A(n[t]);c.push(r),r.length>h&&(h=r.length)}});for(let p=o.length;p<h;p++)o.push("");for(let p=0;p<c.length-1;p++){let e=c[p];e&&e.length;for(let t=e.length;t<h;t++)e.push("")}i&&(u=c[0],c.shift());for(let p=0;p<h;p++){if(3!==o[p])continue;let e=!0;c.some(t=>{var r=t[p];if(r)return 1*r!==r?(e=!1,!0):void 0}),o[p]=e?2:0}var f="<table>";i&&(f+="<thead><tr>",u.forEach((e,t)=>{e=m(e,a);var r='<th align="',n=o[t];r+=1===n?"center":2===n?"right":"left",r+='">'+e+"</td>",f+=r}),f+="</tr></thead>"),f+="<tbody>",c.forEach(e=>{f+="<tr>",e.forEach((e,t)=>{e=m(e,a);var r='<td align="',n=o[t];r+=1===n?"center":2===n?"right":"left",r+='">'+e+"</td>",f+=r}),f+="</tr>"}),f+="</tbody></table>";var d="table-"+p();s[d]=f,u=e[0][0],total=e.length;for(let p=0;p<total;p++){let a=e[p],s=a[0];n[s]=null,delete r[s];let i=t.indexOf(a);i>=0&&t.splice(i,1),a[0]=-1}n[u]="%"+d+"%"},A=e=>{"|"!==e.substr(0,1)&&(e="|"+e),"|"!==e.substr(e.length-1,1)&&(e+="|");var t=e.length,r=0,n=[],a=0;for(let s=1;s<t;s++){let t=e.substr(s,1);"|"!==t||0!==r?"([{<".indexOf(t)>=0?r++:">}])".indexOf(t)>=0&&r--:(n.push(e.substr(a+1,s-a-1)),a=s)}return n},j=(e,t,r,n,a,s)=>{var i="quote",o=n[e[0][0]];if(o=o.match(/^>[ 　\t]*\[([\w\W]+?)\]/),o){let e=o[1];e=e.replace(/^[ 　\t]+|[ 　\t]+$/g,""),e.length>0&&(a.metas[e]||a.blocks[e]||(i=e))}o=e.map(e=>{var t=e[0],r=n[t],a=r.match(/^[ 　\t]+/);if(a){a=a[0];let e=0,t=a.match(/ /g);t&&(e+=t.length),t=a.match(/　/g),t&&(e+=2*t.length),t=a.match(/\t/g),t&&(e+=4*t.length),t=4*(Math.floor(e/4)-1);let n="";for(let r=0;r<t-4;r++)n+=" ";r=r.replace(a,n),t>0}else a=r.match(/^>[ 　\t]*/),a&&(a=a[0],r=r.replace(a,""),!!r.match(/^>[ 　\t]*/));return r}),o[0]=o[0].replace(new RegExp("^[ 　\\t]*\\["+i.replace(/\\/g,"\\\\")+"\\][ 　\\t]*"),""),o=o.join("\n"),o=o.replace(/^\n+|\n+$/g,"");var l='<blockquote class="'+i+'">';o=d(o,a,2,s),l+=o,l+="</blockquote>";var u="blockquote-"+p();s[u]=l,e.forEach(e=>{var a=e[0];n[a]=null,delete r[a];var s=t.indexOf(e[1]);s>=0&&t.splice(s,1)}),n[e[0][0]]="%"+u+"%"},L=(e,t,r,n,a,s,i)=>{var o=[],l=-1;t.forEach(e=>{var t=e[0],r=a[t];if(head=r.match(/^([\-\+\*>~]|\d+\.)[ 　\t]+/),head)return r=r.replace(head[0],""),l++,void(o[l]=[r]);if(head=r.match(/^[ 　\t]+/),head){head=head[0];let e=0,t=head.match(/ /g);t&&(e+=t.length),t=head.match(/　/g),t&&(e+=2*t.length),t=head.match(/\t/g),t&&(e+=4*t.length),t=4*(Math.floor(e/4)-1);let n="";for(let r=0;r<t-4;r++)n+=" ";r=r.replace(head,n)}o[l].push(r)}),o=o.map(e=>(e=e.join("\n"),e=e.replace(/^\n+|\n+$/g,""),e));var u="";u=e?"<ol>":"<ul>",o.forEach(e=>{u+="<li>",u+=d(e,s,2,i),u+="</li>"}),u+=e?"</ol>":"</ul>";var c="list-"+p();i[c]=u,t.forEach(e=>{var t=e[0];a[t]=null,delete n[t];var s=r.indexOf(e[1]);s>=0&&r.splice(s,1)}),a[t[0][0]]="%"+c+"%"},M=(e,t)=>{var r=[[]],n=0,a=[0],s=[];if(e.forEach(e=>{e=e.replace(/^<h(\d+)>/i,(t,i)=>{!0,i*=1,1===i&&(n++,r[n]=[]),a[i-1]=(a[i-1]||0)+1;for(let e=i;e<a.length;e++)a[e]=0;var o="chap";for(let e=0;e<i;e++)o+="-"+(a[e]||1);return t=t+'<a name="'+o+'">',s.push([i,o,e.replace(/<[\w\W]+?>/gi,"")]),t}).replace(/<\/h(\d+)>$/i,e=>"</a>"+e).replace(/\{([\w \-\.]+)\}/g,(e,r)=>{var n=t.termList[r];return n?(Array.isArray(n)&&(n=n[0]),'<a class="terminology" name="'+r+'" href="#ref-'+r+'"><strong>'+n+"</strong></a>"):e}),r[n].push(e)}),r=r.filter(e=>e.length>0),t.chapList=s,r=r.map(e=>{var r=[],n="<section>",a="</section>";return e.forEach((t,n)=>{var a=!1;t=t.replace(/<a class="notemark" type="footnote" name="([\w \-\.]+?)">/g,(e,t)=>{a=!0,r.push(t);var n=e.substr(0,e.length-1)+' href="#footnote-'+t+'">';return n}),a&&(e[n]=t)}),e=e.join(""),0===r.length||(r=r.map((r,n)=>{var a=t.refs[r],s=t.footnotes.indexOf(r);return n++,e=e.replace(new RegExp("%%FN-"+s+"%%","g"),n),'<p class="footnote-content"><a class="index" name="footnote-'+r+'">'+n+"：</a>"+a+"</p>"}),e+='<hr class="footnote-line"><footer><p class="footnote-title">脚注：</p>',e+=r.join(""),e+='</footer><hr class="footnote-line end">'),n+e+a}),t.endnotes&&t.endnotes.length>0){let e='<hr class="endnote-line">';e+='<section class="endnote-chapter"><h1 class="endnote-title"><a name="EndNote">尾注</a></h1>',t.endnotes.forEach((r,n)=>{e+='<p class="endnote-content"><a class="index" name="endnote-'+r+'">'+(n+1)+"：</a>"+t.refs[r]+"</p>"}),e+="</section>",r.push(e)}if(t.metas.glossary&&t.termList&&t.termList.length>0){let e='<hr class="endnote-line">';e+='<section class="endnote-chapter"><h1 class="endnote-title"><a name="Glossary">术语表</a></h1>',e+=C(t),e+="</section>",r.push(e)}if(t.image=t.image||[],t.video=t.video||[],t.audio=t.audio||[],t.metas.resources&&t.image.length+t.video.length+t.audio.length>0){let e='<hr class="endnote-line">';e+='<section class="endnote-chapter"><h1 class="endnote-title"><a name="ResourceList">资源表</a></h1>',t.image.length>0&&(e+='<h2><a name="ImageResourceList">图片</a></h2>',e+=U(t,"image")),t.video.length>0&&(e+='<h2><a name="VideoResourceList">视频</a></h2>',e+=U(t,"video")),t.audio.length>0&&(e+='<h2><a name="AudioResourceList">音频</a></h2>',e+=U(t,"audio")),e+="</section>",r.push(e)}if(t.metas.showtitle){let e='<header class="article-title">';e+="<p>"+t.metas.title+"</p>",t.metas.showauthor&&t.metas.author&&(e+='<p class="author">',t.metas.email&&(e+='<a href="mailto:'+t.metas.email+'">'),e+=t.metas.author,t.metas.email&&(e+="</a>"),e+="</p>"),e+="</header>",r.unshift(e)}return r},$=(e,t)=>{var r=!0,n=0;while(r)if(r=!1,e=e.map(e=>(e=e.replace(/\[([\w \-\.]+?)\]/g,(n,a,s)=>{var i=e.lastIndexOf("<sup>",s),o=e.lastIndexOf("</sup>",s);if(i>o)return n;var l=t.blocks[a];return l?(r=!0,l):n}),e)),n++,10===n)break;return e},S=(e,t)=>{var r=(t.metas.LANG||"zh").toLowerCase();if(e=e.map(e=>(e=e.replace(/%glossary%/gi,e=>C(t)),e=e.replace(/%resources%/gi,e=>U(t,"image")+U(t,"video")+U(t,"audio")),e=e.replace(/%images%/gi,e=>U(t,"image")),e=e.replace(/%videos%/gi,e=>U(t,"video")),e=e.replace(/%audios%/gi,e=>U(t,"audio")),e=e.replace(/%toc%(\{[\w\W]+?\})*/gi,e=>{var r=e.match(/\{[\w\W]+?\}/g),n="目录",a=3;return r&&r.forEach(e=>{e=e.substr(1,e.length-2);var t=1*e;isNaN(t)?n=e:a=t}),t.toced=!0,T(t,n,a)}),Object.keys(t.metas).forEach(a=>{var s=a.toLowerCase();n.includes(a)||(s=t.metas[a],!0===s||!1===s?s="zh"===r?s?"是":"否":s?"On":"Off":Array.isArray(s)&&(s="zh"===r?s.join("、"):s.join(", ")),e=e.replace(new RegExp("%"+a+"%","gi"),e=>s))}),e=e.replace(/%([\w \-\.]+)%/g,(e,r)=>{var n=t.finals[r];return n||e}),e)),t.metas.toc&&!t.toced){let r=T(t,"目录",3);r.indexOf('<p class="content-')>=0&&(r="<section>"+r+"</section>",t.metas.showtitle?e.splice(1,0,r):e.unshift(r))}return e},T=(e,t,r)=>{var n='<h1 name="ContentTable">'+t+'</h1><aside class="content-table">';return e.chapList.forEach(e=>{if(!(e[0]>r)){var t='<p class="content-item level-'+e[0]+'">';for(let r=0;r<e[0];r++)t+='<span class="content-indent"></span>';t+='<a class="content-link" href="#'+e[1]+'">'+e[2]+"</a>",t+="</p>",n+=t}}),e.endnotes&&e.endnotes.length>0&&(n+='<p class="content-item level-1"><span class="content-indent"></span><a class="content-link" href="#EndNote">尾注</a></p>'),e.metas.glossary&&e.termList&&e.termList.length>0&&(n+='<p class="content-item level-1"><span class="content-indent"></span><a class="content-link" href="#Glossary">术语表</a></p>'),e.metas.resources&&e.image.length+e.video.length+e.audio.length>0&&(n+='<p class="content-item level-1"><span class="content-indent"></span><a class="content-link" href="#ResourceList">资源表</a></p>',e.image.length>0&&(n+='<p class="content-item level-2"><span class="content-indent"></span><span class="content-indent"></span><a class="content-link" href="#ImageResourceList">图片</a></p>'),e.video.length>0&&(n+='<p class="content-item level-2"><span class="content-indent"></span><span class="content-indent"></span><a class="content-link" href="#VideoResourceList">视频</a></p>'),e.audio.length>0&&(n+='<p class="content-item level-2"><span class="content-indent"></span><span class="content-indent"></span><a class="content-link" href="#AudioResourceList">音频</a></p>')),n+="</aside>",n},C=e=>{var t="";return 0===e.termList?"":(e.termList.forEach(r=>{var[n,a]=r,s=e.terms[n],i='<p class="glossary-item">';i+='<a class="glossary-indent" name="ref-'+n+'">'+a+"</a>",i+=s,i+="</p>",t+=i}),t)},U=(e,t)=>{var r=e[t];if(!r||!Array.isArray(r)||0===r.length)return"";var n=[],a="<ul>";return r.forEach(e=>{var t=e[1];n.includes(t)||(n.push(t),a+='<li><a href="'+t+'" target="_blank">'+t+"</a></li>")}),a+="</ul>",a},P=e=>(e=e.replace(/(\\+)(.)/g,(e,t,r)=>{var n=Math.floor(t.length/2),a=2*n!==t.length,i="",o="%"+s["\\"]+"%";for(let s=0;s<n;s++)i+=o;if(a){let e=s[r];e?i=i+"%"+e+"%":i+=r}else i+=r;return i}),e),N=(e,r,n=!0)=>{var a=!0;while(a)a=!1,e=e.replace(/\%([\w \-]+?)\%/g,(e,t)=>{var n=r[t];return n?(a=!0,n):e});if(!n)return e;a=!0;while(a)a=!1,e=e.replace(/\%([\w \-]+?)\%/g,(e,n)=>{var s=r[t][n.toLowerCase()];return s?(a=!0,s):e});return e=e.replace(/\n+/g,"<br>"),e=e.replace(/\/{2}/g,(t,r)=>{if(0===r)return"<br>";var n=e.substr(r-1,1);return":"===n?t:"<br>"}),e=e.replace(/^(<\/?br>)+|(<\/?br>)+$/gi,"<br>"),e},B=e=>{if(!e)return[];e=e.split(/[ ,，；;、　]+/).filter(e=>e.length>0);var t=[];return e.forEach(e=>{t.includes(e)||t.push(e)}),t},I=(e,t)=>{var n={},a=!0;while(a)a=!1,t=t.replace(/\n([A-Z\u0800-\uffff]+?) *[:：] *([\w\W]*?)\n/,(e,t,s)=>0===s.length?e:(t="标题"===t?"title":"作者"===t?"author":"简介"===t?"description":"关键词"===t?"keyword":"更新"===t?"date":t.toLowerCase(),r.includes(t)?(a=!0,n[t]=s,"\n"):e));if(n.showtitle&&["on","yes","true"].includes(n.showtitle.toLowerCase())?n.showtitle=!0:n.showtitle=!1,n.glossary&&["on","yes","true"].includes(n.glossary.toLowerCase())?n.glossary=!0:n.glossary=!1,n.links&&["on","yes","true"].includes(n.links.toLowerCase())?n.links=!0:n.links=!1,n.refs&&["on","yes","true"].includes(n.refs.toLowerCase())?n.refs=!0:n.refs=!1,n.terms&&["on","yes","true"].includes(n.terms.toLowerCase())?n.terms=!0:n.terms=!1,n.resources&&["on","yes","true"].includes(n.resources.toLowerCase())?n.resources=!0:n.resources=!1,n.toc&&["on","yes","true"].includes(n.toc.toLowerCase())?n.toc=!0:n.toc=!1,e.metas=n,e.metas.keyword=B(e.metas.keyword),e.metas.date)try{e.metas.date=new Date(e.metas.date).getTime()}catch{delete e.metas.date}e.metas.god=e.metas.theone='<a href="mailto:lostabaddon@gmail.com">LostAbaddon</a>',e.metas.script?e.metas.script=e.metas.script.split(/[,; 　\t]+/):e.metas.script=[],e.metas.style?e.metas.style=e.metas.style.split(/[,; 　\t]+/).map(e=>e.replace(/\{[\w\W]*\}/,"")):e.metas.style=[],e.termList=e.termList||[],e.mainParser=!1,e.refs={},a=!0;while(a)a=!1,t=t.replace(/\n\[([\w \-\.\+\=\\\/]+?)\] *[:：] *([\w\W]+?)\n([\n\[])/,(t,r,n,s,i)=>(r=r.trim(),n=n.trim(),0===r.length||0===n.length?t:(e.refs[r]=n,a=!0,"\n"+s)));e.blocks={},a=!0;while(a)a=!1,t=t.replace(/\[:([\w \-\.\+\=\\\/]+?):\]([\w\W]*?)\n*\[:\1:\]/g,(t,r,n)=>{if(r=r.trim(),0!==r.length&&0!==n.length)return e.blocks[r]=n,a=!0,""});return Object.keys(e.refs).forEach(t=>{var r=e.refs[t];r=m(r,e),r=r.replace(/\%([\w \-]+?)\%/g,(e,t)=>{var r=i[t.toLowerCase()];return r||e});m(r,e);e.refs[t]=r}),Object.keys(e.blocks).forEach(t=>{var r,n=e.blocks[t],a=n.match(/^\n+/);n=n.trim(),e.parseLevel=0,r=a?d(n,e,1):[m(n,e)],e.blocks[t]=r.join("")}),e.anchors=[],e.terms={},e.notes={},t.replace(/\] *(\[[\^:]([\w ]+?)\]|\{([\w ]+?)\})/g,(t,r,n,a)=>{var s=n||a;e.refs[s]?"{"===r.substr(0,1)?e.terms[s]=e.refs[s]:e.notes[s]=e.refs[s]:"{"!==r.substr(0,1)||e.anchors.includes(s)||e.anchors.push(s)}),t=f(t),t};o.fullParse=(e,t)=>{var r={finals:{},toced:!1};e=h(e),e=I(r,e),t&&Object.keys(t).forEach(e=>{e=e.toLowerCase();let n=t[e];void 0!==n&&null!==n&&(r.metas[e]=n)}),r.parseLevel=0,r.mainParser=!0,r.metas.title=r.metas.title||"无名文",e=d(e,r),e=e.map(e=>e.replace(/\%([\w \-]+?)\%/g,(e,t)=>{var r=i[t.toLowerCase()];return r||e})),e=$(e,r),e=M(e,r),e=S(e,r),e=r.metas.classname?'<article class="'+r.metas.classname+'">'+e.join("")+"</article>":"<article>"+e.join("")+"</article>",r.metas.fullexport&&(r.metas.style.forEach(t=>{e+='<link type="text/css" rel="stylesheet" href="'+t+'">'}),r.metas.script.forEach(t=>{e+='<script type="text/javascript" src="'+t+'"><\/script>'}));var n=c["_indexes_"]||[];n.forEach(t=>{var r=c[t];r&&r.forEach(t=>{e=t.parse(e)})});var a={};return a.content=e,a.title=r.metas.title,a.lineCount=r.metas.totalLineCount,a.meta={},a.meta.author=r.metas.author,a.meta.email=r.metas.email,a.meta.description=r.metas.description,a.meta.update=r.metas.date,a.meta.keywords=r.metas.keyword.map(e=>e),a.terminology={},r.termList.forEach(e=>{a.terminology[e[0]]=e[1]}),a.notes={},Object.keys(r.refs).forEach(e=>{a.notes[e]=r.refs[e]}),a.blocks={},Object.keys(r.refs).forEach(e=>{a.blocks[e]=r.blocks[e]}),a},o.parse=(e,t)=>{var r;return r=o.fullParse(e,t),r?r.content:""};const q=(e,t)=>{t.__level++;var r=[],n="";return e.childNodes.forEach(e=>{var s,i=e.tagName;if(!i){if("#comment"===e.nodeName)return;let t=e.textContent||"";return t=t.trim(),void(t.length>0&&(n+=t))}if(i=i.trim().toLowerCase(),a.includes(i)){if(!1,n.length>0&&(r.push(t.__prefix+n),n=""),"blockquote"===i){let r=t.__prefix;t.__prefix=t.__prefix+">\t",s=q(e,t),s=s.flat(1/0),s.push("\n"),t.__prefix=r}else if("ol"===i){let r=t.__prefix;t.__prefix.indexOf("-\t")>=0||t.__prefix.indexOf("1.\t")>=0?t.__prefix="\t"+t.__prefix:t.__prefix=t.__prefix+"1.\t",s=q(e,t),s=s.flat(1/0),s.push(""),t.__prefix=r}else if("ul"===i){let r=t.__prefix;t.__prefix.indexOf("-\t")>=0||t.__prefix.indexOf("1.\t")>=0?t.__prefix="\t"+t.__prefix:t.__prefix=t.__prefix+"-\t",s=q(e,t),s=s.flat(1/0),s.push(""),t.__prefix=r}else s=q(e,t),s=s.flat(1/0),s.push("");s&&s.length>0&&r.push(...s)}else{let[a,s]=H(e,i,t);s?a.length>0&&(n+=a.join("")):(n.length>0&&(r.push(t.__prefix+n),n=""),a.forEach(e=>{r.push(t.__prefix+e)}))}}),n.length>0&&r.push(t.__prefix+n),t.__level--,r},D=(e,t)=>{var r="";return e.childNodes.forEach(e=>{var n=e.tagName;if(!n){if("#comment"===e.nodeName)return;let t=e.textContent||"";return t=t.trim(),void(t.length>0&&(r+=t))}if(n=n.trim().toLowerCase(),"a"!==n)if("span"!==n&&"font"!==n)if("strong"!==n&&"b"!==n)if("em"!==n&&"i"!==n)if("sup"!==n)if("sub"!==n)if("del"!==n)r+=e.innerText;else{let n=D(e,t);r+=n}else{let n=D(e,t);r+=n}else{let n=D(e,t);r+=n}else{let n=D(e,t);r+=n}else{let n=D(e,t);r+=n}else{let n=D(e,t);r+=n}else{let n=e.href;0===n.indexOf("javascript:")&&(n="");let a=D(e,t);n&&"#"!==n.substr(0,1)?(n.match(/^(ftp|https?):\/\//i)||(n=t.host+n),a="["+a+"]("+n+")",r+=a):r+=a}}),r},H=(e,t,r)=>{if("script"===t)return[[""],!0];if("style"===t)return[[""],!0];if("link"===t)return[[""],!0];if("hr"===t)return[["\n---\n"],!1];if("br"===t)return[["\n"],!0];if(t.match(/^h\d+$/)){let n=t.substring(1,t.length);n*=1;let a="\n";for(let e=0;e<n;e++)a+="#";let s=D(e,r);return s=a+s+"\n",[[s],!1]}if("a"===t){let t=e.href;0===t.indexOf("javascript:")&&(t="");let n=D(e,r);return t&&"#"!==t.substr(0,1)?(t.match(/^(ftp|https?):\/\//i)||(t=r.host+t),n="["+n+"]("+t+")",[[n],!0]):[[n],!0]}if("img"===t){if(0===e.src.length)return[[""],!0];let t="\n![]("+e.src+")\n";return[[t],!1]}if("video"===t){if(0===e.src.length)return[[""],!0];let t="\n@[]("+e.src+")\n";return[[t],!0]}if("audio"===t){if(0===e.src.length)return[[""],!0];let t="\n#[]("+e.src+")\n";return[[t],!0]}if("span"===t||"font"===t){let t=D(e,r);return[[t],!0]}if("strong"===t||"b"===t){let t=D(e,r);return[["**"+t+"**"],!0]}if("em"===t||"i"===t){let t=D(e,r);return[["*"+t+"*"],!0]}if("u"===t){let t=D(e,r);return[["__"+t+"__"],!0]}if("sup"===t){let t=D(e,r);return[["^"+t+"^"],!0]}if("sub"===t){let t=D(e,r);return[["_"+t+"_"],!0]}if("del"===t){let t=D(e,r);return[["~~"+t+"~~"],!0]}var n=D(e,r);return[[n],!1]};o.reverse=(e,t,r=!0)=>{if(!e)return"";t=t||{},t.__level=0,t.__prefix="",t.host=t.host||"";var n=q(e,t);return n=n.flat(1/0),n=n.join("\n"),n=n.replace(/\n{2,}/g,"\n\n"),n},o.parseLine=m,o.parseSection=d,o.generateRandomKey=p,o.SymHidden=t,o.PreserveWords=s;try{window.MarkUp=o}catch{try{e.MarkUp=o}catch(F){console.error(F)}}})()}).call(this,r("950f"))},ea3a:function(e,t,r){(function(e,t){e.setTimeout&&(e.setImmediate=e.setImmediate||function(e){setTimeout(e,0)},e.nextTick=t&&t.nextTick||e.setImmediate,e.wait=promisify((e,t)=>{var r=(new Date).getTime();Function.is(e)&&(t=e,e=0),setTimeout(()=>t((new Date).getTime()-r),e)}),e.waitLoop=promisify(e=>{var t=(new Date).getTime();setImmediate(()=>e((new Date).getTime()-t))}),e.waitTick=promisify(e=>{var t=(new Date).getTime();nextTick(()=>e((new Date).getTime()-t))}),e.queueMicrotask&&(e.waitQueue=promisify(e=>{var t=(new Date).getTime();queueMicrotask(()=>e((new Date).getTime()-t))}))),"node"===e._env?e.now=()=>{var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:e.now=()=>Date.now(),e.Clock=class{constructor(r="Initialized",n=!1){this.stamps=[],this.isNode=!!e.process,this.isNode&&!n?this.clock=()=>{var e=t.hrtime();return e[0]+e[1]/1e9}:this.clock=()=>(new Date).getTime()/1e3,this.stamp(r)}stamp(e=""){var t=this.clock();return this.stamps.push([t,e]),t}list(e=!0){var t,r=this.stamps[0][0],n=(this.stamps.length,0);return t=this.stamps.map(e=>{var t=[e[0]-r,e[1]];r=e[0];var a=e[1].length;return a>n&&(n=a),t}),e?(t=t.map(e=>{var t=e[1],r=e[0];return t=t.padStart(n," "),t+"\t"+r}),t.join("\n")):t}getStamp(e){if(!e)return-1;var t=-1;return this.stamps.some(r=>r[1]===e&&(t=r[0],!0)),t}spent(e,t){return t?(e=this.getStamp(e),e<0&&(e=this.stamps[0][0]),t=this.getStamp(t),t<0&&(t=this.stamps[this.stamps.length-1][0])):(t=this.getStamp(e),t<0&&(t=this.stamps[this.stamps.length-1][0]),e=this.stamps[0][0]),t-e}}}).call(this,r("950f"),r("3cbd"))},ef5b:function(e,t){const r=MarkUp.generateRandomKey;MarkUp.addExtension({name:"LaTeX",parse:(e,t,n)=>{n[MarkUp.SymHidden]=n[MarkUp.SymHidden]||{};var a=!1;return e=e.replace(/(\\+)\$/g,(e,t)=>{var r=Math.floor(t.length/2),n="",s="%"+MarkUp.PreserveWords["\\"]+"%";for(let a=0;a<r;a++)n+=s;if(2*r!==t.length){let e=MarkUp.PreserveWords["$"];n+="%"+e+"%"}else n+="$";return a=!0,n}),e=e.replace(/\$([\w\W]+?)\$/g,(e,t)=>{if(e.indexOf("$$")>=0)return e;var s="latex-"+r();return n[MarkUp.SymHidden][s]='<span class="latex inline">$'+t+"$</span>",a=!0,"%"+s+"%"}),[e,a]}},0,-1),MarkUp.addExtension({name:"FontAwesome",parse:(e,t,r)=>{var n=!1;return e=e.replace(/:([\w\-\.]+?):/g,(e,t,r)=>(t=t.trim(),n=!0,'<i class="fas far fa-'+t+'"></i>')),[e,n]}},0,3),MarkUp.addExtension({name:"HyperLinks",parse:(e,t,n)=>{t.links=t.links||[];var a=!1;return e=e.replace(/([!@#]?)\[([\w %'"\*_\^\|~\-\.\+=·,;:\?!\\\/&\u0800-\uffff]*?)\] *\((\@?[\w\W]*?)\)/g,(e,s,i,o,l)=>{if(o=o.trim(),0===o.length)return e;if(n[i])return e;if(""===s){t.links.push([i,o]);let e=o.substr(0,1),s="@"===e,l=MarkUp.parseLine(i,t,3,n),u="link-"+r(),c='<a href="';return c=s?c+"#"+o.substr(1,o.length)+'">':o.indexOf("@")>1?c+"mailto:"+o+'">':"."===e||"\\"===e||"/"===e?c+o+'">':c+o+'" target="_blank">',c=c+l+"</a>",n[u]=c,a=!0,"%"+u+"%"}return e}),[e,a]}},0,3),MarkUp.addExtension({name:"AnchorAndTerm",parse:(e,t,n)=>{var a=!1;return e=e.replace(/\[([\w %'"\-\.\+=,;:\?!\\\/&\u0800-\uffff]*?)\] *\{([\w \-\.]+?)\}/g,(e,s,i,o)=>{if(i=i.trim(),s=s.trim(),0===i.length)return e;if(0===s.length)return e;if(n[s])return e;var l;MarkUp.parseLine(s,t,3,n);if(t.refs[i]){l="term-"+r(),t.termList=t.termList||[],t.termList.push([i,s]),t.termList[i]=s;let e='<a class="terminology" name="'+i+'" href="#ref-'+i+'"><strong>'+s+"</strong></a>";n[l]=e}else{l="anchor-"+r();let e='<a name="'+i+'">'+s+"</a>";n[l]=e}return a=!0,"%"+l+"%"}),[e,a]}},0,3),MarkUp.addExtension({name:"Code",parse:(e,t,n)=>{n[MarkUp.SymHidden]=n[MarkUp.SymHidden]||{};var a=!1;return e=e.replace(/`([\w\W]+?)`/g,(e,t)=>{if(e.indexOf("``")>=0)return e;var s="code-"+r();return n[MarkUp.SymHidden][s]="<code>"+t+"</code>",a=!0,"%"+s+"%"}),[e,a]}}),MarkUp.addExtension({name:"BoldAndItalic",parse:(e,t,n)=>{var a=[];if(e.replace(/\*+/g,(e,t)=>{a.push([t,e.length])}),a.length<2)return[e,!1];var s=(a,s,i)=>{var o,l=e.substring(a,s+(i?2:1));o=i?l.substring(2,l.length-2):l.substring(1,l.length-1);var u=(i?"strong":"em")+"-"+r();o=MarkUp.parseLine(o,t,5,n),n[u]=i?"<strong>"+o+"</strong>":"<em>"+o+"</em>",u="%"+u+"%",e=e.replace(l,u)},i=a[0][1],o=a[1][1];if(i<3){if(i===o)return s(a[0][0],a[1][0],2===i),[e,!0];if(o<3){let t=a[2];return t?(t=t[1],t<3?o===t?(s(a[1][0],a[2][0],2===o),[e,!0]):i===t?(s(a[0][0],a[2][0],2===i),[e,!0]):[e,!1]:(s(a[1][0],a[2][0],2===o),[e,!0])):i>o?(s(a[0][0]+1,a[1][0],!1),[e,!0]):(s(a[0][0],a[1][0],!1),[e,!0])}return s(a[0][0],a[1][0],2===i),[e,!0]}return o<3?1===o?(s(a[0][0]+i-1,a[1][0],!1),[e,!0]):(s(a[0][0]+i-2,a[1][0],!0),[e,!0]):(s(a[0][0],a[1][0]+o-2,!0),[e,!0])}}),MarkUp.addExtension({name:"SubAndUnderline",parse:(e,t,n)=>{var a=[];if(e.replace(/_+/g,(e,t)=>{a.push([t,e.length])}),a.length<2)return[e,!1];var s=(a,s,i)=>{var o,l=e.substring(a,s+(i?2:1));o=i?l.substring(2,l.length-2):l.substring(1,l.length-1);var u=(i?"underline":"sub")+"-"+r();o=MarkUp.parseLine(o,t,5,n),n[u]=i?"<u>"+o+"</u>":"<sub>"+o+"</sub>",u="%"+u+"%",e=e.replace(l,u)},i=a[0][1],o=a[1][1];if(i<3){if(i===o)return s(a[0][0],a[1][0],2===i),[e,!0];if(o<3){let t=a[2];return t?(t=t[1],t<3?o===t?(s(a[1][0],a[2][0],2===o),[e,!0]):i===t?(s(a[0][0],a[2][0],2===i),[e,!0]):[e,!1]:(s(a[1][0],a[2][0],2===o),[e,!0])):i>o?(s(a[0][0]+1,a[1][0],!1),[e,!0]):(s(a[0][0],a[1][0],!1),[e,!0])}return s(a[0][0],a[1][0],2===i),[e,!0]}return o<3?1===o?(s(a[0][0]+i-1,a[1][0],!1),[e,!0]):(s(a[0][0]+i-2,a[1][0],!0),[e,!0]):(s(a[0][0],a[1][0]+o-2,!0),[e,!0])}}),MarkUp.addExtension({name:"WavyAndDelete",parse:(e,t,n)=>{var a=[];if(e.replace(/~+/g,(e,t)=>{a.push([t,e.length])}),a.length<2)return[e,!1];var s=(a,s,i)=>{var o,l=e.substring(a,s+(i?2:1));o=i?l.substring(2,l.length-2):l.substring(1,l.length-1);var u=(i?"delete":"wavy")+"-"+r();o=MarkUp.parseLine(o,t,5,n),n[u]=i?"<del>"+o+"</del>":'<span class="text-wavy">'+o+"</span>",u="%"+u+"%",e=e.replace(l,u)},i=a[0][1],o=a[1][1];if(i<3){if(i===o)return s(a[0][0],a[1][0],2===i),[e,!0];if(o<3){let t=a[2];return t?(t=t[1],t<3?o===t?(s(a[1][0],a[2][0],2===o),[e,!0]):i===t?(s(a[0][0],a[2][0],2===i),[e,!0]):[e,!1]:(s(a[1][0],a[2][0],2===o),[e,!0])):i>o?(s(a[0][0]+1,a[1][0],!1),[e,!0]):(s(a[0][0],a[1][0],!1),[e,!0])}return s(a[0][0],a[1][0],2===i),[e,!0]}return o<3?1===o?(s(a[0][0]+i-1,a[1][0],!1),[e,!0]):(s(a[0][0]+i-2,a[1][0],!0),[e,!0]):(s(a[0][0],a[1][0]+o-2,!0),[e,!0])}}),MarkUp.addExtension({name:"SupAndLarger",parse:(e,t,n)=>{var a=(a,s,i)=>{var o=e.substring(a,s+i),l=o.substring(i,o.length-i),u="larger-"+i+"-"+r();l=MarkUp.parseLine(l,t,5,n),n[u]=i<=1?"<sup>"+l+"</sup>":'<span class="text-larger level-'+(i-1)+'">'+l+"</span>",u="%"+u+"%",e=e.replace(o,u)},s=!1;return e.replace(/(\^+)([\w\W]+?)(\^+)/,(e,t,r,n,i)=>{var o=r.match(/(\\*)\[/);if(o){let t=o[1].length;if(t>>1<<1===t)return e}return t=t.length,n=n.length,t>n?a(i+t-n,i+e.length-n,n):a(i,i+e.length-n,t),s=!0,e}),[e,s]}}),MarkUp.addExtension({name:"Color",parse:(e,t,n)=>{var a=!1;return e=e.replace(/\[(\w+)\]([\w\W]+?)\[\/\]/,(e,s,i,o)=>{if(0===i.length)return e;i=MarkUp.parseLine(i,t,5,n);var l="color-"+r();return n[l]='<span class="color-'+s+'">'+i+"</span>",a=!0,"%"+l+"%"}),[e,a]}},0,6),MarkUp.addExtension({name:"FootnoteAndEndnote",parse:(e,t,n)=>{var a=!1;return e=e.replace(/(\[([\w %'"\-\.\+=,;:\?!\\\/&\u0800-\uffff]*?)\])?\[([\^:])([\w \-\.]+?)\]/g,(e,a,s="",i,o)=>{if(o=o.trim(),0===o.length)return e;if(!t.refs[o])return e;var l='<a class="notemark" type="';if(l+="^"===i?'endnote" href="#endnote-'+o:"footnote",l+='" name="'+o+'">',s&&(l+=MarkUp.parseLine(s,t,6,n)),l+="<sup>","^"===i){t.endnotes=t.endnotes||[];let e=t.endnotes.indexOf(o);e<0&&(e=t.endnotes.length,t.endnotes.push(o)),e++,l+="("+e+")"}else{t.footnotes=t.footnotes||[];let e=t.footnotes.indexOf(o);e<0&&(e=t.footnotes.length,t.footnotes.push(o)),l+="[%%FN-"+e+"%%]"}l+="</sup></a>";var u="notemark-"+r();return n[u]=l,"%"+u+"%"}),[e,a]}},0,6),MarkUp.addExtension({name:"HyperLinks",parse:(e,t,n)=>{var a=!1;return e=e.replace(/([!@#])\[([^\n]*?)\] *\((\@?[\w\W]*?)\)/g,(e,s,i,o,l)=>{if(o=o.trim(),0===o.length)return e;var u=o.match(/[ 　\t]+"(left|right)"/);u&&(o=o.replace(u[0],""),u=u[1]);var c="image";"@"===s?c="video":"#"===s&&(c="audio"),t[c]=t[c]||[],t[c].push([i,o]);var p='<div class="resource '+c;u&&(p+=" float-"+u),p+='">',p+="<figure>","!"===s?p+='<img src="'+o+'">':"@"===s?p+='<video src="'+o+'" controls>你的浏览器不支持 <code>video</code> 标签.</video>':"#"===s&&(p+='<audio src="'+o+'" controls>你的浏览器不支持 <code>audio</code> 标签.</audio>'),p+="</figure>",p+="<figcaption>"+i+"</figcaption>",p+="</div>";var h=c+"-"+r();return n[h]=p,a=!0,"%"+h+"%"}),[e,a]}},0,7),MarkUp.addExtension({name:"InlineLinks",parse:(e,t,n)=>{var a=!1;return t.mainParser?(e=e.replace(/https?:\/\/[\w\-\+=\.;\?\\\/%]+/gi,(e,s)=>{t.links.push([e,e]);var i='<a href="'+e+'" target="_blank">'+e+"</a>",o="link-"+r();return n[o]=i,a=!0,"%"+o+"%"}),[e,a]):[e,a]}},0,8)},fa66:function(e,t){const r={};window.EventBus={async pub(e,t){if(!String.is(e))return!1;var n=r[e];return!!n&&(await Promise.all(n.map(e=>e(t))),!0)},sub(e,t){if(!String.is(e))return!1;var n=r[e];n||(n=[],r[e]=n),n.push(t)}}}});
//# sourceMappingURL=index.0b5f3c44.js.map