{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/jLAss/utils/datetime.js","webpack:///./src/components/navbar.vue","webpack:///./src/assets/js/granary.js","webpack:///./src/assets/jLAss/extends/symbol.js","webpack:///./src/assets/js/cacheCenter.js","webpack:///./src/App.vue","webpack:///./src/App.vue?dff9","webpack:///./src/components/keyManager.vue","webpack:///./src/components/keyManager.vue?da84","webpack:///./src/assets/js/cacheDB.js","webpack:///./src/assets/jLAss/index.js","webpack:///./src/assets/jLAss/extends/object.js","webpack:///./src/main.js","webpack:///./src/assets/jLAss/namespace.js","webpack:///./src/assets/jLAss/extends/string.js","webpack:///./src/assets/js/markup-footnote.js","webpack:///./src/assets/jLAss/extends/math.js","webpack:///./src/components/notification.vue","webpack:///./src/components/notification.vue?693e","webpack:///./src/assets/jLAss/extends/function.js","webpack:///./src/components/crumb.vue","webpack:///./src/components/crumb.vue?2884","webpack:///./src/assets/js/core.js","webpack:///./src/components/navbar.vue?03e1","webpack:///./src/assets/jLAss/extends/class.js","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?e819","webpack:///./src/views/Category.vue","webpack:///./src/views/Category.vue?1bd5","webpack:///./src/views/viewer.vue","webpack:///./src/views/viewer.vue?1d26","webpack:///./src/router/index.js","webpack:///./src/components/imageShowcase.vue","webpack:///./src/components/imageShowcase.vue?76f0","webpack:///./src/components/navmenubar.vue","webpack:///./src/components/navmenubar.vue?7e6e","webpack:///./src/assets/jLAss/extends/array.js","webpack:///./src/components/loading.vue","webpack:///./src/components/tail.vue","webpack:///./src/components/tail.vue?54d8","webpack:///./src/components/loading.vue?183c","webpack:///./src/components/column.vue","webpack:///./src/components/columnItem.vue","webpack:///./src/components/columnItem.vue?84e6","webpack:///./src/components/column.vue?6b40","webpack:///./src/assets/js/markup.js","webpack:///./src/components/navmenuitem.vue","webpack:///./src/components/navmenuitem.vue?8b1e","webpack:///./src/assets/js/lrucache.js","webpack:///./src/assets/jLAss/extends/timer.js","webpack:///./src/assets/js/imageWall.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","getDTMatch","format","match","lim","def","isNaN","temp","formatString","str","len","substring","padStart","getDateString","Y","M","D","link","join","getTimeString","h","ms","timeNormalize","time","datelink","timelink","combinelink","Date","Ys","Ms","Ds","hs","mms","ss","mss","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","sDate","sTime","_","generateSiteMap","menu","map","forEach","item","subs","category","global","getPathNameList","path","needHome","SiteMap","reqs","some","entry","query","unshift","aboutMe","computed","this","methods","Devices","isMobile","querySelector","classList","add","location","chDataUpdated","BroadcastChannel","Barn","server","DB","ready","API","DataGranary","CachedDB","onUpdate","open","log","onConnect","connect","cbs","waiters","res","waitForReady","url","notStill","timestamp","async","isSource","cache","update","axios","set","now","oldTime","newTime","msg","latest","last","postMessage","clearCache","clear","Granary","source","limit","articles","comments","Array","generate","index","String","is","sort","a","b","publish","sources","getSource","owner","pages","filter","art","indexOf","info","filepath","content","sessionStorage","tasks","caches","delete","clearAllCache","init","setSymbols","host","symbols","arguments","symb2name","str2name","symbol","split","sym","configurable","toString","__proto__","navigator","serviceWorker","channel","addEventListener","keys","cacheStorage","cacheKeys","sws","getRegistrations","sw","waiting","notify","title","duration","reg","register","onupdatefound","evt","id","class","hAlign","vAlign","show","overscroll","backTop","ref","onClick","chScroll","app","onscroll","onScroll","scrollTop","offsetHeight","top","total","scrollHeight","height","$refs","masker","remove","scrollBy","behavior","render","close","keyList","current","chooseKey","editable","removeKey","onEnter","appendKey","DefaultKey","action","localStorage","getItem","setItem","currentKey","list","JSON","parse","$el","stringify","keyInputter","focus","keyCode","version","_name","_version","conn","db","cbUpdates","cbConnects","rej","indexedDB","onupgradeneeded","cb","onsuccess","keyPath","cacheSize","objectStoreNames","contains","store","createObjectStore","createIndex","unique","size","LRUCache","tx","transaction","objectStore","put","ufc","getAll","del","_env","require","process","execArgv","includes","gc","noEventModules","_canThread","loadjLAssModule","mod","loadall","__dirname","Boolean","obj","BigInt","Number","isBasicType","copy","assign","duplicate","valueOf","getTime","extent","targets","reverse","Proxy","toObject","proxy","body","LifeCycle","emit","loaded","InitAsimov","config","globalProperties","SiteName","SiteOwner","LikeCoin","use","component","mount","initialized","updateTarget","removeItem","trim","ModuleList","names","replace","pop","KeySet","fromCharCode","random","rnd","Math","floor","blank","block","line","buf","Buffer","from","byteLength","NoteFrame","lastUI","ele","cn","className","substr","parentElement","innerHTML","outerHTML","html","innerText","_status","rect","getBoundingClientRect","isTop","isLeft","left","innerWidth","right","innerHeight","style","bottom","display","wait","opacity","onLeave","onTransit","css","computedStyleMap","enter","initUI","UI","querySelectorAll","inited","deactiveUI","removeEventListener","removeAttribute","InitNotes","destructe","pick","range","horizontal","vertial","chMessage","showMessage","props","newMsg","exit","timer","header","article","Function","AsyncFunction","constructor","promisify","fn","_promised","afun","args","_original","withTimeout","start_time","tocb","todelay","towatch","prom","_res","_rej","fun_prep","promisible","funs","f","serial","fun","v","parallel","results","any","oncilize","ofn","called","waitLoop","refresh","pumplize","last_only","stack","done","pfn","dump","to","jump","currCrumb","$router","$route","decodeURIComponent","fullpath","js","loadCSS","utf8tobase64","btoa","unescape","encodeURIComponent","base64toutf8","escape","atob","base64tobuffer","dec","parseInt","charCodeAt","Uint8Array","findContentWrapper","nodeName","toLowerCase","onVueHyperLinkTriggered","vue","offset","offsetTop","preventDefault","originPath","hash","on","FootNoteUnInited","afterMarkUp","MathJax","Hub","Config","extensions","TeX","jax","tex2jax","inlineMath","Queue","ImageWall","mutationObserver","MutationObserver","markups","mu","MarkUp","toc","glossary","resources","showtitle","showauthor","classname","observe","childList","subtree","changeThemeColor","color","tmrDataUpdated","cbDataUpdated","reload","toggleHint","backHome","aboutMenu","ProtoType","kerneltype","isSubClassOf","cls","getPrototypeOf","menuList","read","level","gotoMenu","likecoin","showPassword","submitIV","chPageChanged","chChangeLoadingHint","CCLicenses","LicensesContent","BY","SA","NC","ND","lastIVRequest","showLikeCoin","chapList","chapMap","isMU","isEncrypt","crypto","getRandomValues","subtle","encrypt","decrypt","getArticle","getContent","copyright","markup","hasContent","fullParse","date","meta","others","CopyRight","addLikeCoin","refreshMenu","adjustCopyRight","licenses","toUpperCase","crSection","sect","next","nextSibling","likeCoin","available","forbidden","hostname","every","fb","chap","chapEle","option","noLeft","delta","menuKey","lastRes","iv","ivinputter","importKey","keyMap","requestIVWord","TextDecoder","decode","routes","Home","Category","router","history","afterEach","scrollTo","gallary","image","width","inactive","findWall","parent","tagName","img","wall","hitted","g","pic","naturalWidth","naturalHeight","showGallary","w","x","offsetX","y","offsetY","limitX","limitY","ww","hh","supers","randomize","self","translate","has","equal","generator","origin","toBuffer","buffer","alloc","toBase64","fromString","fromBuffer","fromBase64","base64","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","sub","subarray","concat","array","padEnd","pad","callPageLoaded","ch","quiter","forcequit","forceQuit","author","description","timemark","categoryName","categoryPath","filename","currColumn","nameMap","Map","getName","components","ColumnItem","itemPerPage","showList","getColumnHeader","getCategory","placehoding","cateList","cateType","cate","getHeaderInfo","getArticleList","fullPath","SharedWorker","Worker","asimovWorker","workerPort","workerName","TaskPool","generateID","port","onmessage","text","onbeforeunload","loadJS","click","can_go","same_page","c1","c2","SymbUpdate","DefaultSize","isNumber","num","secondary","k","setImmediate","callback","nextTick","delay","start","waitTick","queueMicrotask","waitQueue","hrtime","Clock","lable","not_node","stamps","isNode","clock","stamp","is_text","max","lab","nan","end","getStamp","queryAll","eles","createEle","stopOthers","pause","whRate","Container","avs","onplay","imageCount","imageLoaded","divs","_total","_index","_frame","_float","_left","transform","_right","_callback","_ready","div","frame","_wall","fig","inside","containerWidth","_available","backgroundImage","rateWidth","rateHeight","paddingTop"],"mappings":"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","file":"js/index.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"index\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-2ca2da94\":1,\"chunk-46f936a5\":1,\"chunk-5369b2eb\":1,\"chunk-5ae8ae3f\":1,\"chunk-604d0331\":1,\"chunk-75ac00fa\":1,\"chunk-821ebf42\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/**\n * Name:\tAuxillary Utils and Extends for DateTime\n * Desc:    日期时间相关拓展\n * Author:\tLostAbaddon\n * Version:\t0.0.2\n * Date:\t2018.11.02\n */\n\nconst getDTMatch = (format, match, lim, def) => {\n\tif (isNaN(def)) def = lim;\n\tvar temp = format.match(match);\n\tif (!temp) temp = def;\n\telse temp = temp.length;\n\tif (temp < lim) temp = lim;\n\treturn temp;\n};\nconst formatString = (str, len) => {\n\tif (len === 0) return '';\n\tvar l = str.length;\n\tif (l > len) str = str.substring(l - len, l);\n\telse if (l < len) str = str.padStart(len, '0');\n\treturn str;\n};\nconst getDateString = (Y, M, D, link) => {\n\tvar temp = [];\n\tif (Y.length > 0) temp.push(Y);\n\tif (M.length > 0) temp.push(M);\n\tif (D.length > 0) temp.push(D);\n\treturn temp.join(link);\n};\nconst getTimeString = (h, m, s, ms, link) => {\n\tvar temp = [];\n\tif (h.length > 0) temp.push(h);\n\tif (m.length > 0) temp.push(m);\n\tif (s.length > 0) temp.push(s);\n\tvar result = temp.join(link);\n\tif (ms.length > 0) result += '.' + ms;\n\treturn result;\n};\nconst timeNormalize = (time, format='YYYYMMDDhhmmss', datelink='/', timelink=':', combinelink=' ') => {\n\ttime = time || new Date();\n\t// format = format || 'YYYYMMDDhhmmssx';\n\n\tvar Ys = getDTMatch(format, /Y/g, 0, 0);\n\tvar Ms = getDTMatch(format, /M/g, 1, 0);\n\tvar Ds = getDTMatch(format, /D/g, 1, 0);\n\tvar hs = getDTMatch(format, /h/g, 0, 0);\n\tvar mms = getDTMatch(format, /m/g, 0, 0);\n\tvar ss = getDTMatch(format, /s/g, 0, 0);\n\tvar mss = getDTMatch(format, /x/g, 0);\n\n\tvar Y = formatString(time.getYear() + 1900 + '', Ys);\n\tvar M = formatString(time.getMonth() + 1 + '', Ms);\n\tvar D = formatString(time.getDate() + '', Ds);\n\tvar h = formatString(time.getHours() + '', hs);\n\tvar m = formatString(time.getMinutes() + '', mms);\n\tvar s = formatString(time.getSeconds() + '', ss);\n\tvar ms = formatString(time.getMilliseconds() + '', mss);\n\n\tvar sDate = getDateString(Y, M, D, datelink);\n\tvar sTime = getTimeString(h, m, s, ms, timelink);\n\tif (sTime.length === 0) return sDate;\n\treturn sDate + combinelink + sTime;\n};\n\n_('Utils').getTimeString = timeNormalize;","<template>\r\n\t<div class=\"nav-bar\">\r\n\t\t<div class=\"nav-hint\" @click=\"toggleHint\"><i class=\"fas fa-angle-right\" /></div>\r\n\t\t<div class=\"nav-docker\">\r\n\t\t\t<a @click=\"backHome\">首页</a>\r\n\t\t\t<i class=\"fas fa-caret-right\" />\r\n\t\t\t<div class=\"nav-container\">\r\n\t\t\t\t<NavMenuBar :menu=\"menu\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"about-bar nav-container right\">\r\n\t\t\t\t<NavMenuBar :menu=\"aboutMenu\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst generateSiteMap = menu => {\r\n\tvar map = {};\r\n\tmenu.forEach(m => {\r\n\t\tvar item = { \"name\": m.name, \"type\": m.type };\r\n\t\tif (!!m.subs) item.subs = generateSiteMap(m.subs);\r\n\t\tmap[m.category] = item;\r\n\t});\r\n\treturn map;\r\n};\r\nglobal.getPathNameList = (path, needHome=true) => {\r\n\tif (!global.SiteMap) return null;\r\n\tvar map = global.SiteMap, reqs = [], result = [];\r\n\tpath.some((p, i) => {\r\n\t\tif (!map) return true;\r\n\t\tvar entry = map[p];\r\n\t\tif (!entry) return true;\r\n\t\tvar item = { name: entry.name };\r\n\t\treqs.push(p);\r\n\t\tif (entry.type === 'page') {\r\n\t\t\titem.path = '/' + reqs.join('/');\r\n\t\t}\r\n\t\telse if (entry.type === 'viewer' || entry.type === 'view' || entry.type === 'folder') {\r\n\t\t\titem.path = '/category';\r\n\t\t\titem.query = {c:reqs.join(',')};\r\n\t\t}\r\n\t\tmap = entry.subs;\r\n\t\tresult.push(item);\r\n\t});\r\n\tif (needHome) result.unshift({ name: \"首页\", path: '/' });\r\n\treturn result;\r\n};\r\n\r\nexport default {\r\n\tname: 'NavBar',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tmenu: [\n\t{\n\t\t\"name\": \"随笔\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"essay\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"头脑风暴\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"mindstorm\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"书评影评\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"reviews\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"闲扯\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"issue\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"格物致知\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"science\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"数学\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"math\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"组合数学\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"combination\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"数论\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"number\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"几何\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"geometry\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"物理\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"physics\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"广义相对论\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"gravity\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"规范场论\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"gauge\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"复杂网络\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"complexnetwork\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"量子计算\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"quantumcompute\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"虚构\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"virtual\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"算法信息论\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"AIT\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"IT相关\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"IT\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"虚拟世界\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"novel\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"科幻\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"scific\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"奇幻\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"magic\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"推理\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"detective\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"实用工具\",\n\t\t\"type\": \"folder\",\n\t\t\"category\": \"tools\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"解析 MarkUp\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"parseMarkup\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"写字板（迁移中）\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"writer\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"计算器（迁移中）\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"calculator\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"休闲娱乐\",\n\t\t\"type\": \"folder\",\n\t\t\"category\": \"entertain\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"诡异哥布林与不靠谱守卫\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"ballcrush\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"五子棋\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"rushgo\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"三消俄罗斯方块（迁移中）\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"tritetris\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"无尽2048（迁移中）\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"infinity2048\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"资料库\",\n\t\t\"type\": \"folder\",\n\t\t\"category\": \"library\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"颜色表\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"中国古代常用色\",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"chinesecolor\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"日本古代常用色\",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"japanesecolor\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"码库\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"MarkUp 语法表\",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"markup\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"LaTeX 数学公式\",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"latex\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t}\n],\r\n\t\t\taboutMe: \"aboutMe\"\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\taboutMenu () {\r\n\t\t\tvar menu = [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '配色',\r\n\t\t\t\t\ttype: 'action',\r\n\t\t\t\t\tcategory: 'color',\r\n\t\t\t\t\tsubs: [\n\t{\n\t\t\"name\": \"亮\",\n\t\t\"type\": \"action\",\n\t\t\"category\": \"light\"\n\t},\n\t{\n\t\t\"name\": \"淡\",\n\t\t\"type\": \"action\",\n\t\t\"category\": \"normal\"\n\t},\n\t{\n\t\t\"name\": \"黯\",\n\t\t\"type\": \"action\",\n\t\t\"category\": \"dark\"\n\t}\n]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '设置',\r\n\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\tcategory: '',\r\n\t\t\t\t\tsubs: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: '秘钥管理',\r\n\t\t\t\t\t\t\ttype: 'action',\r\n\t\t\t\t\t\t\tcategory: 'keyManager',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: '本站',\r\n\t\t\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\t\t\tcategory: 'about'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t\tif (!!this.aboutMe) {\r\n\t\t\t\tmenu[1].subs[1] = {\r\n\t\t\t\t\tname: '关于',\r\n\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\tcategory: '',\r\n\t\t\t\t\tsubs: [menu[1].subs[1]]\r\n\t\t\t\t};\r\n\t\t\t\tmenu[1].subs[1].subs.unshift({\r\n\t\t\t\t\tname: '本站',\r\n\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\tcategory: this.aboutMe\r\n\t\t\t\t});\r\n\t\t\t\tmenu[1].subs[1].subs[1].name = '系统';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmenu[1].subs[1].name = '关于';\r\n\t\t\t}\r\n\t\t\treturn menu;\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tglobal.SiteMap = generateSiteMap(this.menu);\r\n\t},\r\n\tmethods: {\r\n\t\ttoggleHint () {\r\n\t\t\tif (!Devices.isMobile) return;\r\n\t\t\tdocument.querySelector('.masker').classList.add('show');\r\n\t\t},\r\n\t\tbackHome () {\r\n\t\t\tlocation.href = '/#'; // 避免URL污染\r\n\t\t}\r\n\t}\r\n}\r\n</script>","const chDataUpdated = new BroadcastChannel('source-updated');\r\n\r\nconst Barn = {\r\n\tserver: '',\r\n\tDB: null,\r\n\tready: false,\r\n\tAPI: '/api',\r\n\tDataGranary: '/api/granary',\r\n\tasync init () {\r\n\t\tBarn.DB = new CachedDB(\"APIData\", 1);\r\n\t\tBarn.DB.onUpdate(() => {\r\n\t\t\tBarn.DB.open('data', 'url', 10);\r\n\t\t\tconsole.log('Barn::CacheStorage::APIData Updated');\r\n\t\t});\r\n\t\tBarn.DB.onConnect(() => {\r\n\t\t\tconsole.log('Barn::CacheStorage::APIData Connected');\r\n\t\t});\r\n\t\tawait Barn.DB.connect();\r\n\t\tBarn.ready = true;\r\n\r\n\t\tvar cbs = [...Barn.waiters];\r\n\t\tBarn.waiters = [];\r\n\t\tcbs.forEach(res => res());\r\n\t},\r\n\twaiters: [],\r\n\twaitForReady: () => new Promise(res => {\r\n\t\tif (Barn.ready) return res();\r\n\t\tBarn.waiters.push(res);\r\n\t}),\r\n\tget (url, notStill=false, timestamp=0) {\r\n\t\treturn new Promise(async res => {\r\n\t\t\tvar isSource = !!url.match(/(^sources|[\\\\\\/]sources)\\.json$/);\r\n\t\t\tif (!Barn.ready) {\r\n\t\t\t\tawait Barn.waitForReady();\r\n\t\t\t}\r\n\t\t\tvar cache = await Barn.DB.get('data', url);\r\n\t\t\tif (!!cache) {\r\n\t\t\t\tres(cache.data);\r\n\t\t\t\tif (!!notStill && timestamp <= cache.update) return;\r\n\t\t\t}\r\n\t\t\tvar data;\r\n\t\t\ttry {\r\n\t\t\t\tdata = await axios.get(Barn.server + url);\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\tdata = null;\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t}\r\n\t\t\tif (!!data) data = data.data;\r\n\t\t\tif (!!data) {\r\n\t\t\t\tawait Barn.DB.set('data', url, {data, update: timestamp || Date.now()});\r\n\t\t\t\tlet oldTime = !!cache ? (cache.data.update || 0) : 0;\r\n\t\t\t\tlet newTime = data.update || 0;\r\n\t\t\t\tif (newTime > oldTime) {\r\n\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\tlatest: newTime,\r\n\t\t\t\t\t\tlast: oldTime\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (isSource) msg.target = 'SOURCE';\r\n\t\t\t\t\telse msg.target = url;\r\n\t\t\t\t\tchDataUpdated.postMessage(msg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!cache) res(data);\r\n\t\t});\r\n\t},\r\n\tasync clearAllCache () {\r\n\t\tBarn.DB.clearCache('data');\r\n\t\tawait Barn.DB.clear('data');\r\n\t},\r\n};\r\n\r\n// 资源管理\r\nwindow.Granary = {\r\n\tasync getSource (source, limit) {\r\n\t\tvar result = { articles: [], comments: [] };\r\n\t\tawait Promise.all(Array.generate(limit + 1).map(async index => {\r\n\t\t\tvar url = Barn.API + '/' + source + '-' + index + '.json';\r\n\t\t\tvar d = await Barn.get(url, limit !== index);\r\n\t\t\tif (String.is(d)) return;\r\n\t\t\tresult.articles.push(...d.articles);\r\n\t\t\tresult.comments.push(...d.comments);\r\n\t\t}));\r\n\t\tresult.articles.sort((a, b) => b.publish - a.publish);\r\n\t\tresult.comments.sort((a, b) => b.publish - a.publish);\r\n\t\treturn result;\r\n\t},\r\n\tasync getCategory (category) {\r\n\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\tvar data = [];\r\n\t\tif (!sources || !sources.sources) return data;\r\n\t\tawait Promise.all(sources.sources.map(async source => {\r\n\t\t\tvar d = await Granary.getSource(source.owner, source.pages);\r\n\t\t\td = d.articles.filter(art => art.sort.indexOf(category) === 0);\r\n\t\t\tdata.push(...d);\r\n\t\t}));\r\n\t\tdata.sort((a, b) => b.publish - a.publish);\r\n\t\treturn data;\r\n\t},\r\n\tasync getColumnHeader (category) {\r\n\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\tsources = sources || {};\r\n\t\tsources.update = sources.update || 0;\r\n\r\n\t\tvar info = Barn.DataGranary + '/';\r\n\t\tif (!!category) info = info + category + '/';\r\n\t\tinfo = info + 'info.md';\r\n\r\n\t\tvar data;\r\n\t\ttry {\r\n\t\t\tdata = await Barn.get(info, true, sources.update);\r\n\t\t\tdata = !!data ? data : '';\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tdata = '';\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\tasync getArticle (filepath, timestamp=0) {\r\n\t\tif (timestamp <= 0) {\r\n\t\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\t\tsources = sources || {};\r\n\t\t\ttimestamp = sources.update || 0;\r\n\t\t}\r\n\r\n\t\tfilepath = Barn.DataGranary + '/' + filepath;\r\n\t\tvar content;\r\n\t\ttry {\r\n\t\t\tcontent = await Barn.get(filepath, true, timestamp);\r\n\t\t\tcontent = !!content ? content : '';\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tcontent = '你所寻找的文件不存在！';\r\n\t\t}\r\n\t\treturn content;\r\n\t},\r\n\tasync getContent (filepath, notStill=true) {\r\n\t\tif (notStill) {\r\n\t\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\t\tsources = sources || {};\r\n\t\t\ttimestamp = sources.update || 0;\r\n\t\t}\r\n\r\n\t\tvar content;\r\n\t\ttry {\r\n\t\t\tcontent = await Barn.get(filepath, notStill, timestamp);\r\n\t\t\tcontent = !!content ? content : '';\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tcontent = '你所寻找的文件不存在！';\r\n\t\t}\r\n\t\treturn content;\r\n\t},\r\n\tasync clearAllCache () {\r\n\t\tsessionStorage.clear();\r\n\t\tvar tasks = [\r\n\t\t\tcaches.delete('schwarzschild'),\r\n\t\t\tBarn.clearAllCache()\r\n\t\t];\r\n\t\tawait Promise.all(tasks);\r\n\t},\r\n};\r\n\r\nBarn.init();","/**\n * Name:\tSymbol Utils\n * Desc:    Symbol 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.1\n * Date:\t2017.11.09\n */\n\nSymbol.set = Symbol.setSymbols = function (host, symbols) {\n\tif (String.is(host)) {\n\t\tsymbols = [].map.call(arguments, i => i);\n\t\thost = null;\n\t}\n\telse if (Array.is(host) && !symbols) {\n\t\tsymbols = host;\n\t\thost = null;\n\t}\n\thost = host || {};\n\tvar symb2name = {};\n\tvar str2name = {};\n\tsymbols.forEach(symbol => {\n\t\tsymbol = symbol.split('|');\n\t\tif (symbol.length === 0) return;\n\t\tif (symbol.length < 2) symbol[1] = symbol[0];\n\t\tvar name = symbol[1];\n\t\tsymbol = symbol[0];\n\t\tvar sym = Symbol(symbol);\n\t\tsymb2name[sym] = name;\n\t\tstr2name[symbol] = name;\n\t\tObject.defineProperty(host, symbol, {\n\t\t\tvalue: sym,\n\t\t\tconfigurable: false,\n\t\t\tenumerable: true\n\t\t});\n\t});\n\thost.toString = symbol => symb2name[symbol] || str2name[symbol] || 'No Such Symbol';\n\tObject.defineProperty(host, 'toString', { enumerable: false });\n\treturn host;\n};\nSymbol.is = symbol => (Symbol.__proto__ === Symbol.prototype) || (typeof symbol === 'symbol');","(async () => {\r\n\tif (!navigator.serviceWorker) return;\r\n\r\n\tconst channel = new BroadcastChannel('service-messages');\r\n\tchannel.addEventListener('message', msg => {\r\n\t\tconsole.log('CacheUpdated: ' + msg.data.url + ' (' + msg.data.timestamp + ')');\r\n\t});\r\n\r\n\tif (!!window.caches) {\r\n\t\tlet keys = await caches.keys();\r\n\t\tif (keys.length > 0) {\r\n\t\t\tkeys.forEach(async key => {\r\n\t\t\t\tvar cacheStorage = await caches.open(key);\r\n\t\t\t\tvar cacheKeys = await cacheStorage.keys();\r\n\t\t\t\tconsole.log('资源缓存库 ' + key + ': ' + cacheKeys.length);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\ttry {\r\n\t\tlet sws = await navigator.serviceWorker.getRegistrations();\r\n\t\tconsole.log('Service Worker: ' + sws.length);\r\n\t\tfor (let sw of sws) {\r\n\t\t\tif (!!sw.waiting) {\r\n\t\t\t\tconsole.log('有等待中的新版本 Service Worker');\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttitle: \"有新版网站中台等待更新\",\r\n\t\t\t\t\tmessage: \"新版 Service Worker 将在下次打开本页面后启用。\",\r\n\t\t\t\t\tduration: 5000,\r\n\t\t\t\t\ttype: \"warn\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcatch (err) {\r\n\t\tconsole.error('获取已安装 Service 出错：', err);\r\n\t}\r\n\r\n\ttry {\r\n\t\tlet reg = await navigator.serviceWorker.register('/priory.js');\r\n\t\treg.onupdatefound = (evt) => {\r\n\t\t\tevt.target.update();\r\n\t\t};\r\n\t\tconsole.log('安装 Service Worker ' + (!!reg ? '成功' : '失败'));\r\n\t}\r\n\tcatch (err) {\r\n\t\tconsole.error('安装本地 Service 出错：', err);\r\n\t}\r\n}) ();","<template>\r\n\t<NavBar/>\r\n\t<loading />\r\n\t<Notification hAlign=\"right\" vAlign=\"top\" />\r\n\t<ImageShowcase />\r\n\t<KeyManager />\r\n\t<div id=\"container\">\r\n\t\t<router-view/>\r\n\t</div>\r\n\t<div id=\"footnoteFrame\"></div>\r\n\t<TailBar />\r\n\t<div class=\"backer\" :show=\"overscroll\" @click=\"backTop\"><i class=\"fas fa-angle-up\"></i></div>\r\n\t<div ref=\"masker\" class=\"masker\" @click=\"onClick\"></div>\r\n</template>\r\n\r\n<script>\r\nconst chScroll = new BroadcastChannel('page-scroll');\r\nexport default {\r\n\tname: 'App',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\toverscroll: false\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tapp.onscroll = this.onScroll;\r\n\t},\r\n\tmethods: {\r\n\t\tonScroll () {\r\n\t\t\tif (app.scrollTop >= app.offsetHeight) {\r\n\t\t\t\tif (!this.overscroll) this.overscroll = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (this.overscroll) this.overscroll = false;\r\n\t\t\t}\r\n\t\t\tchScroll.postMessage({top: app.scrollTop, total: app.scrollHeight, height: app.offsetHeight});\r\n\t\t},\r\n\t\tonClick () {\r\n\t\t\tthis.$refs.masker.classList.remove('show');\r\n\t\t},\r\n\t\tbackTop () {\r\n\t\t\tapp.scrollBy({top: -app.scrollTop, behavior: 'smooth'});\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./App.vue?vue&type=template&id=f7f3ce7e\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<div class=\"KeyManager\" :show=\"show\" @click=\"close\">\r\n\t\t<div class=\"keyManagerFrame\">\r\n\t\t\t<div class=\"title\">秘钥管理</div>\r\n\t\t\t<div class=\"desc\">秘钥将用于加密阅读</div>\r\n\t\t\t<div class=\"keyListArea\">\r\n\t\t\t\t<div class=\"keyItem\" v-for=\"key in keyList\" :current=\"key.current\">\r\n\t\t\t\t\t<div class=\"keyContent\" @click=\"chooseKey(key.key)\">{{key.key}}</div>\r\n\t\t\t\t\t<div class=\"keyDeleter\" v-if=\"!!key.editable\" @click=\"removeKey(key.key, key.editable)\"><i class=\"fas fa-times\"></i></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"controlBox\">\r\n\t\t\t\t<input ref=\"keyInputter\" type=\"text\" @keydown=\"onEnter\">\r\n\t\t\t\t<button @click=\"appendKey\">添加</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst DefaultKey = \"ob5n5mojn0f6XgqSL1p/rIn9EiSOGUxFjpofSKb6PDc=\";\r\nvar current = null;\r\n(new BroadcastChannel('setting')).addEventListener('message', ({data}) => {\r\n\tif (!current) return;\r\n\tif (data.action !== 'KeyManager') return;\r\n\tcurrent.update();\r\n\tcurrent.show = true;\r\n});\r\nexport default {\r\n\tname: 'KeyManager',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tshow: false,\r\n\t\t\tkeyList: []\r\n\t\t}\r\n\t},\r\n\tcreated () {\r\n\t\tcurrent = this;\r\n\t\tvar key = localStorage.getItem('CurrentKey');\r\n\t\tif (!key) localStorage.setItem('CurrentKey', DefaultKey);\r\n\t},\r\n\tmethods: {\r\n\t\tupdate () {\r\n\t\t\tvar currentKey = localStorage.getItem('CurrentKey');\r\n\t\t\tif (!currentKey) {\r\n\t\t\t\tlocalStorage.setItem('CurrentKey', DefaultKey);\r\n\t\t\t\tcurrentKey = DefaultKey;\r\n\t\t\t}\r\n\t\t\tthis.keyList.clear();\r\n\t\t\tthis.keyList.push({\r\n\t\t\t\tkey: DefaultKey,\r\n\t\t\t\teditable: false,\r\n\t\t\t\tcurrent: currentKey === DefaultKey\r\n\t\t\t});\r\n\t\t\tvar list = localStorage.getItem('keyList');\r\n\t\t\tif (!list) return;\r\n\t\t\ttry {\r\n\t\t\t\tlist = JSON.parse(list);\r\n\t\t\t} \r\n\t\t\tcatch {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.keyList.push(...(list.map(l => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tkey: l,\r\n\t\t\t\t\teditable: true,\r\n\t\t\t\t\tcurrent: currentKey === l\r\n\t\t\t\t}\r\n\t\t\t})));\r\n\t\t},\r\n\t\tclose (evt) {\r\n\t\t\tif (evt.target === this.$el) this.show = false;\r\n\t\t},\r\n\t\tchooseKey (key) {\r\n\t\t\tlocalStorage.setItem('CurrentKey', key);\r\n\t\t\tthis.keyList.forEach(item => item.current = item.key === key);\r\n\t\t\tnotify({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\ttitle: \"密钥更换成功\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tremoveKey (key, editable) {\r\n\t\t\tif (!editable) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"warn\",\r\n\t\t\t\t\ttitle: \"该密钥不可删除\"\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!key) return;\r\n\t\t\tvar index = -1;\r\n\t\t\tthis.keyList.some((item, i) => {\r\n\t\t\t\tif (item.key !== key) return;\r\n\t\t\t\tindex = i;\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\t\t\tif (index < 0) return;\r\n\r\n\t\t\tthis.keyList.splice(index, 1);\r\n\t\t\tnotify({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\ttitle: \"成功删除密钥\" + key\r\n\t\t\t});\r\n\r\n\t\t\tvar list = this.keyList.map(item => item.key);\r\n\t\t\tlist.splice(0, 1); // 去掉默认密钥\r\n\t\t\tlocalStorage.setItem('keyList', JSON.stringify(list));\r\n\t\t},\r\n\t\tappendKey () {\r\n\t\t\tvar key = this.$refs.keyInputter.value;\r\n\t\t\tif (!key) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"warn\",\r\n\t\t\t\t\ttitle: \"请输入密钥数据\"\r\n\t\t\t\t});\r\n\t\t\t\tthis.$refs.keyInputter.focus();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.keyList.push({ key, editable: true, current: false });\r\n\t\t\tthis.$refs.keyInputter.value = '';\r\n\t\t\tnotify({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\ttitle: \"成功添加密钥\" + key\r\n\t\t\t});\r\n\r\n\t\t\tvar list = this.keyList.map(item => item.key);\r\n\t\t\tlist.splice(0, 1); // 去掉默认密钥\r\n\t\t\tlocalStorage.setItem('keyList', JSON.stringify(list));\r\n\t\t},\r\n\t\tonEnter (evt) {\r\n\t\t\tif (evt.keyCode === 13) {\r\n\t\t\t\tthis.appendKey();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./keyManager.vue?vue&type=template&id=45d71ee9\"\nimport script from \"./keyManager.vue?vue&type=script&lang=js\"\nexport * from \"./keyManager.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","// IndexDB Wrapper\r\n(() => {\r\n\tclass CachedDB {\r\n\t\tconstructor (name, version) {\r\n\t\t\tthis._name = name;\r\n\t\t\tthis._version = version;\r\n\t\t\tthis.conn = null;\r\n\t\t\tthis.db = null;\r\n\t\t\tthis.cbUpdates = [];\r\n\t\t\tthis.cbConnects = [];\r\n\t\t\tthis.caches = {};\r\n\t\t}\r\n\t\tconnect () {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tthis.conn = indexedDB.open(this.name, this.version);\r\n\t\t\t\tthis.conn.onupgradeneeded = evt => {\r\n\t\t\t\t\tthis.db = this.conn.result;\r\n\t\t\t\t\tthis.cbUpdates.forEach(cb => cb(this));\r\n\t\t\t\t};\r\n\t\t\t\tthis.conn.onsuccess = evt => {\r\n\t\t\t\t\tthis.db = this.conn.result;\r\n\t\t\t\t\tthis.cbConnects.forEach(cb => cb(this));\r\n\t\t\t\t\tres(this);\r\n\t\t\t\t};\r\n\t\t\t\tthis.conn.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tonConnect (cb) {\r\n\t\t\tthis.cbConnects.push(cb);\r\n\t\t}\r\n\t\tonUpdate (cb) {\r\n\t\t\tthis.cbUpdates.push(cb);\r\n\t\t}\r\n\t\topen (name, keyPath='id', cacheSize=100) {\r\n\t\t\tif (!this.db.objectStoreNames.contains(name)) {\r\n\t\t\t\tlet store = this.db.createObjectStore(name, { keyPath });\r\n\t\t\t\tstore.createIndex(keyPath, keyPath, { unique: true });\r\n\t\t\t}\r\n\t\t}\r\n\t\tcache (name, size) {\r\n\t\t\tif (!this.caches[name]) {\r\n\t\t\t\tthis.caches[name] = new LRUCache(size);\r\n\t\t\t}\r\n\t\t}\r\n\t\tset (store, key, value) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readwrite\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\r\n\t\t\t\tvar item = {};\r\n\t\t\t\titem[cache.keyPath] = key;\r\n\t\t\t\titem.data = value;\r\n\t\t\t\tvar result = cache.put(item);\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar ufc = this.caches[store];\r\n\t\t\t\t\tif (!!ufc) ufc.set(key, value);\r\n\t\t\t\t\tres(evt.result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tget (store, key) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readonly\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\t\t\t\tvar index = cache.index(cache.keyPath);\r\n\r\n\t\t\t\tvar ufc = this.caches[store], result;\r\n\t\t\t\tif (!!ufc) {\r\n\t\t\t\t\tresult = ufc.get(key);\r\n\t\t\t\t\tif (result !== undefined) return res(result);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresult = index.get(key);\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tif (!evt.target.result) res(undefined);\r\n\t\t\t\t\telse res(evt.target.result.data);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tall (store) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readonly\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\t\t\t\tvar index = cache.index(cache.keyPath);\r\n\r\n\t\t\t\tvar result = index.getAll();\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar list = evt.target.result;\r\n\t\t\t\t\tif (!list) return res(list);\r\n\t\t\t\t\tvar result = {};\r\n\t\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\t\tresult[item[cache.keyPath]] = item.data\r\n\t\t\t\t\t});\r\n\t\t\t\t\tres(result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tdel (store, key) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readwrite\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\r\n\t\t\t\tvar result = cache.delete(key);\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar ufc = this.caches[store];\r\n\t\t\t\t\tif (!!ufc) ufc.del(key);\r\n\t\t\t\t\tres(evt.result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tclear (store) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readwrite\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\r\n\t\t\t\tvar result = cache.clear();\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar ufc = this.caches[store];\r\n\t\t\t\t\tif (!!ufc) ufc.clear();\r\n\t\t\t\t\tres(evt.result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tclearCache (store) {\r\n\t\t\tvar ufc = this.caches[store];\r\n\t\t\tif (!ufc) return;\r\n\t\t\tufc.clear();\r\n\t\t}\r\n\r\n\t\tget name () {\r\n\t\t\treturn this._name;\r\n\t\t}\r\n\t\tget version () {\r\n\t\t\treturn this._version;\r\n\t\t}\r\n\t}\r\n\r\n\twindow.CachedDB = CachedDB;\r\n}) ();","/**\n * Name:\tCommon Core\n * Desc:    辅助工具\n * Author:\tLostAbaddon\n * Version:\t0.0.4\n * Date:\t2019.06.03\n *\n * 热更新require库\n * 字符串拓展、随机穿\n * 日志工具\n * 文件夹生成\n * 辅助工具\n * Object的copy与extent功能\n */\n\ntry {\n\tif (!!window) {\n\t\twindow.global = window;\n\t\tglobal._env = 'browser';\n\t\tglobal.require = () => {};\n\t\tglobal.module = { exports: {} };\n\t} else {\n\t\tglobal._env = 'node';\n\t}\n} catch (err) {\n\tglobal._env = 'node';\n}\n\nif (!!process && !!process.execArgv && !process.execArgv.includes('--expose-gc')) global.gc = () => {};\n\n{};;\n{};;\n{};;\n{};;\n{};;\n\n{};;\n\nif (!global.noEventModules) {\n\t{};;\n\t{};;\n\tif (global._canThread) {\n\t\t{};;\n\t\t{};;\n\t}\n}\n\n{};;\n\nif (global._env === 'node') global.loadjLAssModule = mod => {loadall(__dirname, \"./\" + mod)};","/**\n * Name:\tObject Utils\n * Desc:    Object 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.2\n * Date:\t2019.06.04\n */\n\nBoolean.is = obj => {\n\tif (typeof obj === \"boolean\") return true;\n\tif (obj instanceof Boolean) return true;\n\treturn false;\n};\nBigInt.is = obj => {\n\tif (typeof obj === \"bigint\") return true;\n\tif (obj instanceof BigInt) return true;\n\treturn false;\n};\nNumber.is = obj => {\n\tif (typeof obj === \"number\") return true;\n\tif (obj instanceof Number) return true;\n\treturn false;\n};\nObject.isBasicType = obj => {\n\tif (String.is(obj)) return true;\n\tif (Boolean.is(obj)) return true;\n\tif (BigInt.is(obj)) return true;\n\tif (Number.is(obj)) return true;\n\tif (Symbol.is(obj)) return true;\n\treturn false;\n};\n\nObject.prototype.copy = function () {\n\treturn Object.assign({}, this);\n};\nObject.prototype.duplicate = function () {\n\tvar copy = {};\n\tfor (let key in this) {\n\t\tlet value = this[key];\n\t\tif (Object.isBasicType(value)) {\n\t\t\tcopy[key] = value.valueOf();\n\t\t} else if (value === null || value === undefined) {\n\t\t\tcopy[key] = value;\n\t\t} else if (value instanceof Date) {\n\t\t\tcopy[key] = new Date(value.getTime());\n\t\t} else if (typeof value === \"object\" && !(value instanceof Promise)) {\n\t\t\tcopy[key] = value.duplicate();\n\t\t}\n\t}\n\treturn Object.assign({}, this, copy);\n};\nObject.prototype.extent = function (...targets) {\n\tvar copy = Object.assign({}, this);\n\ttargets.reverse();\n\tObject.assign(this, ...targets, copy);\n};\nObject.defineProperty(Object.prototype, 'copy', { enumerable: false });\nObject.defineProperty(Object.prototype, 'duplicate', { enumerable: false });\nObject.defineProperty(Object.prototype, 'extent', { enumerable: false });\n\nNumber.prototype.duplicate = function () {\n\treturn this * 1;\n};\nObject.defineProperty(Number.prototype, 'duplicate', { enumerable: false });\nBigInt.prototype.duplicate = function () {\n\treturn this * 1n;\n};\nObject.defineProperty(BigInt.prototype, 'duplicate', { enumerable: false });\nBoolean.prototype.duplicate = function () {\n\tif (this === false || this.valueOf() === false) return false;\n\treturn true;\n};\nObject.defineProperty(Boolean.prototype, 'duplicate', { enumerable: false });\n\nif (!!Proxy) {\n\tProxy.toObject = proxy => {\n\t\tvar result = {};\n\t\tfor (let name in proxy) {\n\t\t\tlet value = proxy[name];\n\t\t\tif (value instanceof Proxy) {\n\t\t\t\tresult[name] = Proxy.toObject(value);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tresult[name] = value;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n}\n","import \"./assets/jLAss/index.js\"\nimport \"./assets/jLAss/namespace.js\"\nimport \"./assets/jLAss/extends/array.js\"\nimport \"./assets/jLAss/extends/class.js\"\nimport \"./assets/jLAss/extends/function.js\"\nimport \"./assets/jLAss/extends/math.js\"\nimport \"./assets/jLAss/extends/object.js\"\nimport \"./assets/jLAss/extends/string.js\"\nimport \"./assets/jLAss/extends/symbol.js\"\nimport \"./assets/jLAss/extends/timer.js\"\nimport \"./assets/jLAss/utils/datetime.js\"\n\nimport './assets/js/core.js';\r\nimport './assets/js/cacheCenter.js';\r\nimport './assets/js/lrucache.js';\r\nimport './assets/js/cacheDB.js';\r\nimport './assets/js/granary.js';\r\nimport './assets/js/markup.js';\r\nimport './assets/js/markup-footnote.js';\r\nimport './assets/js/imageWall.js';\r\n\r\nimport { createApp, inject } from 'vue'\r\nimport axios from 'axios';\r\n\r\nimport App from './App.vue';\r\nimport router from './router';\r\n\r\nimport Loading from '@/components/loading.vue';\r\nimport Notification from '@/components/notification.vue';\r\nimport NavBar from '@/components/navbar.vue';\r\nimport NavMenuBar from '@/components/navmenubar.vue';\r\nimport NavMenuItem from '@/components/navmenuitem.vue';\r\nimport TailBar from '@/components/tail.vue';\r\nimport KeyManager from '@/components/keyManager.vue';\r\nimport ImageShowcase from '@/components/imageShowcase.vue';\r\nimport Crumb from '@/components/crumb.vue';\r\nimport Column from '@/components/column.vue';\r\n\r\nrequire('./assets/css/theme.css');\r\nrequire('./assets/css/mobile.css');\r\nrequire('./assets/css/main.css');\r\nrequire('./assets/css/404.css');\r\nrequire('./assets/css/navbar.css');\r\nrequire('./assets/css/tail.css');\r\nrequire('./assets/css/crumb.css');\r\nrequire('./assets/css/column.css');\r\nrequire('./assets/css/keyManager.css');\r\nrequire('./assets/css/markup.css');\r\nrequire('./assets/css/article.css');\r\n\r\nglobal.axios = axios;\r\n\r\nif (Devices.isMobile) document.body.classList.add('mobile');\r\nelse document.body.classList.add('notmobile');\r\n\r\n(async () => {\r\n\tif (await LifeCycle.emit.loaded()) {\r\n\t\tawait InitAsimov();\r\n\r\n\t\tconst app = createApp(App);\r\n\t\tapp.config.globalProperties.SiteName = \"过气网红回收站\";\r\n\t\tapp.config.globalProperties.SiteOwner = \"LostAbaddon\";\r\n\t\tapp.config.globalProperties.LikeCoin = null;\r\n\r\n\t\tapp.use(Notification);\r\n\t\tapp.component('Loading', Loading);\r\n\t\tapp.component('NavBar', NavBar);\r\n\t\tapp.component('NavMenuBar', NavMenuBar);\r\n\t\tapp.component('NavMenuItem', NavMenuItem);\r\n\t\tapp.component('TailBar', TailBar);\r\n\t\tapp.component('KeyManager', KeyManager);\r\n\t\tapp.component('ImageShowcase', ImageShowcase);\r\n\t\tapp.component('Crumb', Crumb);\r\n\t\tapp.component('Column', Column);\r\n\r\n\t\tif (await LifeCycle.emit.ready(app)) {\r\n\t\t\tapp.use(router).mount('#app');\r\n\t\t\trouter.app = app;\r\n\r\n\t\t\tawait LifeCycle.emit.initialized(app);\r\n\r\n\t\t\tlet updateTarget = sessionStorage.getItem('sourceUpdated');\r\n\t\t\tif (!!updateTarget) {\r\n\t\t\t\tsessionStorage.removeItem('sourceUpdated');\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttitle: \"网站有新数据\",\r\n\t\t\t\t\tmessage: updateTarget + \" 已更新\\n刷新可浏览新内容\",\r\n\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\ttype: \"success\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}) ();","const ModuleList = new Map;\nglobal._ = (path, mod) => {\n\tpath = path.split(/[\\/\\\\,\\.\\:;]/).map(p => p.trim()).filter(p => p.length > 0);\n\tif (path.length < 1) return global;\n\tpath = path.join(\"/\");\n\tif (!!mod) {\n\t\tModuleList.set(path, mod);\n\t\treturn mod\n\t}\n\tmod = ModuleList.get(path);\n\tif (!!mod) return mod;\n\tvar names = [...ModuleList.keys()];\n\tnames = names.filter(n => n.indexOf(path) === 0);\n\tmod = {};\n\tnames.forEach(n => {\n\t\tvar m = ModuleList.get(n);\n\t\tn = n.replace(path + '/', '');\n\t\tn = n.split('/');\n\t\tvar l = n.pop();\n\t\tvar t = mod;\n\t\tn.forEach(m => {\n\t\t\tif (!!t[m]) t[m] = {};\n\t\t\tt = t[m];\n\t\t});\n\t\tt[l] = m;\n\t});\n\treturn mod;\n};\n\n_('Utils', {});","/**\n * Name:\tString Utils\n * Desc:    String 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.2\n * Date:\t2019.06.05\n */\n\nconst KeySet = [];\n(() => {\n\tfor (let i = 0; i < 10; i ++) KeySet.push('' + i);\n\tfor (let i = 65; i <= 90; i ++) KeySet.push(String.fromCharCode(i));\n\tfor (let i = 97; i <= 122; i ++) KeySet.push(String.fromCharCode(i));\n}) ();\nString.random = (len) => {\n\tvar rnd = \"\";\n\tfor (let i = 0; i < len; i ++) {\n\t\trnd += KeySet[Math.floor(KeySet.length * Math.random())];\n\t}\n\treturn rnd;\n};\nString.blank = (len, block = ' ') => {\n\tvar line = '';\n\tfor (let i = 0; i < len; i ++) line += block;\n\treturn line;\n};\nString.is = (str) => {\n\tif (str instanceof String) return true;\n\tif (typeof str === 'string') return true;\n\treturn false;\n};\nString.prototype.copy = String.prototype.duplicate = function () {\n\treturn String(this).toString();\n};\nObject.defineProperty(String.prototype, 'copy', { enumerable: false });\nObject.defineProperty(String.prototype, 'duplicate', { enumerable: false });\n\nif (global._env === \"node\") {\n\tObject.defineProperty(String.prototype, 'byteLength', {\n\t\tget () {\n\t\t\tvar buf = Buffer.from(this, 'utf8');\n\t\t\treturn buf.byteLength;\n\t\t},\n\t\tenumerable: false,\n\t\tconfigurable: false\n\t});\n}","(() => {\r\n\tvar NoteFrame, lastUI;\r\n\r\n\tconst onEnter = async (evt) => {\r\n\t\tvar ele = evt.target, cn = ele.className;\r\n\t\tvar name = ele.getAttribute('href');\r\n\t\tif (!name || name.substr(0, 1) !== '#') return;\r\n\t\tname = name.substring(1, name.length);\r\n\t\tvar info = lastUI.querySelector('a[name=\"' + name + '\"]');\r\n\t\tif (!info) return;\r\n\t\tvar content = info.parentElement.innerHTML.replace(info.outerHTML, '');\r\n\t\tvar html = '';\r\n\r\n\t\tif (cn === 'terminology') {\r\n\t\t\thtml = '<p class=\"note-title\">' + ele.innerText + '</p>';\r\n\t\t}\r\n\t\thtml += '<p class=\"note-content\">' + content + '</p>';\r\n\t\tNoteFrame.innerHTML = html;\r\n\t\tNoteFrame._status = 1;\r\n\r\n\t\tvar rect = ele.getBoundingClientRect();\r\n\t\tvar isTop = true, isLeft = true;\r\n\t\tvar left = rect.left - 10;\r\n\t\tvar top = rect.top + rect.height + 10;\r\n\t\tif (left > window.innerWidth * 0.6) {\r\n\t\t\tisLeft = false;\r\n\t\t\tleft = window.innerWidth - rect.right;\r\n\t\t}\r\n\t\tif (top > window.innerHeight * 0.7) {\r\n\t\t\tisTop = false;\r\n\t\t\ttop = window.innerHeight - rect.top;\r\n\t\t}\r\n\r\n\t\tif (isLeft) {\r\n\t\t\tNoteFrame.style.left = left + 'px';\r\n\t\t\tNoteFrame.style.right = '';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tNoteFrame.style.left = '';\r\n\t\t\tNoteFrame.style.right = left + 'px';\r\n\t\t}\r\n\t\tif (isTop) {\r\n\t\t\tNoteFrame.style.top = top + 'px';\r\n\t\t\tNoteFrame.style.bottom = '';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tNoteFrame.style.top = '';\r\n\t\t\tNoteFrame.style.bottom = top + 'px';\r\n\t\t}\r\n\t\tNoteFrame.style.display = 'block';\r\n\t\tawait wait(50);\r\n\t\tNoteFrame.style.opacity = '1';\r\n\t\tNoteFrame._status = 2;\r\n\t};\r\n\tconst onLeave = async (evt) => {\r\n\t\tNoteFrame.style.opacity = '0';\r\n\t\tawait wait(200);\r\n\t\tif (NoteFrame._status === 2) {\r\n\t\t\tNoteFrame.style.display = 'none';\r\n\t\t\tNoteFrame._status = 0;\r\n\t\t}\r\n\t};\r\n\tconst onTransit = async (evt) => {\r\n\t\tvar ele = evt.target, cn = ele.className;\r\n\t\tif (cn === 'notemark' || cn ==='terminology') {\r\n\t\t\tvar css = ele.computedStyleMap();\r\n\t\t\tcss = css.get('text-decoration').toString();\r\n\t\t\tvar enter = false;\r\n\t\t\tif (css.indexOf('underline') >= 0) enter = true;\r\n\r\n\t\t\tif (enter) {\r\n\t\t\t\tvar name = ele.getAttribute('href');\r\n\t\t\t\tif (name.substr(0, 1) !== '#') return;\r\n\t\t\t\tname = name.substring(1, name.length);\r\n\t\t\t\tvar info = lastUI.querySelector('a[name=\"' + name + '\"]');\r\n\t\t\t\tif (!info) return;\r\n\t\t\t\tvar content = info.parentElement.innerHTML.replace(info.outerHTML, '');\r\n\t\t\t\tvar html = '';\r\n\r\n\t\t\t\tif (cn === 'terminology') {\r\n\t\t\t\t\thtml = '<p class=\"note-title\">' + ele.innerText + '</p>';\r\n\t\t\t\t}\r\n\t\t\t\thtml += '<p class=\"note-content\">' + content + '</p>';\r\n\t\t\t\tNoteFrame.innerHTML = html;\r\n\t\t\t\tNoteFrame._status = 1;\r\n\r\n\t\t\t\tvar rect = ele.getBoundingClientRect();\r\n\t\t\t\tvar isTop = true, isLeft = true;\r\n\t\t\t\tvar left = rect.left - 10;\r\n\t\t\t\tvar top = rect.top + rect.height + 10;\r\n\t\t\t\tif (left > window.innerWidth * 0.6) {\r\n\t\t\t\t\tisLeft = false;\r\n\t\t\t\t\tleft = window.innerWidth - rect.right;\r\n\t\t\t\t}\r\n\t\t\t\tif (top > window.innerHeight * 0.7) {\r\n\t\t\t\t\tisTop = false;\r\n\t\t\t\t\ttop = window.innerHeight - rect.top;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isLeft) {\r\n\t\t\t\t\tNoteFrame.style.left = left + 'px';\r\n\t\t\t\t\tNoteFrame.style.right = '';\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tNoteFrame.style.left = '';\r\n\t\t\t\t\tNoteFrame.style.right = left + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tif (isTop) {\r\n\t\t\t\t\tNoteFrame.style.top = top + 'px';\r\n\t\t\t\t\tNoteFrame.style.bottom = '';\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tNoteFrame.style.top = '';\r\n\t\t\t\t\tNoteFrame.style.bottom = top + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tNoteFrame.style.display = 'block';\r\n\t\t\t\tawait wait(50);\r\n\t\t\t\tNoteFrame.style.opacity = '1';\r\n\t\t\t\tNoteFrame._status = 2;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tNoteFrame.style.opacity = '0';\r\n\t\t\t\tawait wait(200);\r\n\t\t\t\tif (NoteFrame._status === 2) {\r\n\t\t\t\t\tNoteFrame.style.display = 'none';\r\n\t\t\t\t\tNoteFrame._status = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst initUI = (UI, query) => {\r\n\t\tif (!!Devices.isMobile) return;\r\n\t\tUI.querySelectorAll(query).forEach(ele => {\r\n\t\t\tvar inited = ele.getAttribute('footnote_inited');\r\n\t\t\tif (!!inited) return;\r\n\t\t\tele.addEventListener('mouseleave', onLeave);\r\n\t\t\tele.addEventListener('mouseenter', onEnter);\r\n\t\t\tele.setAttribute('footnote_inited', true)\r\n\t\t});\r\n\t};\r\n\tconst deactiveUI = (UI, query) => {\r\n\t\tif (!!Devices.isMobile) return;\r\n\t\tUI.querySelectorAll(query).forEach(ele => {\r\n\t\t\tvar inited = ele.getAttribute('footnote_inited');\r\n\t\t\tif (!inited) return;\r\n\t\t\tele.removeEventListener('mouseleave', onLeave);\r\n\t\t\tele.removeEventListener('mouseenter', onEnter);\r\n\t\t\tele.removeAttribute('footnote_inited')\r\n\t\t});\r\n\t};\r\n\r\n\twindow.InitNotes = UI => {\r\n\t\tNoteFrame = document.querySelector('#footnoteFrame');\r\n\t\tNoteFrame._status = NoteFrame._status || 0;\r\n\t\tif (lastUI !== UI && !!lastUI) destructe();\r\n\t\tlastUI = UI;\r\n\r\n\t\tvar inited = UI.getAttribute('footnoted');\r\n\t\tif (!inited) {\r\n\t\t\tUI.setAttribute('footnoted', true);\r\n\t\t\tUI.addEventListener('transitionstart', onTransit);\r\n\t\t}\r\n\r\n\t\tinitUI(UI, 'a.notemark');\r\n\t\tinitUI(UI, 'a.terminology');\r\n\t};\r\n\twindow.destructe = () => {\r\n\t\tlastUI.removeEventListener('transitionstart', onTransit);\r\n\t\tdeactiveUI(UI, 'a.notemark');\r\n\t\tdeactiveUI(UI, 'a.terminology');\r\n\t};\r\n}) ();","/**\n * Name:\tMath Utils\n * Desc:    Math 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.1\n * Date:\t2017.11.09\n */\n\nMath.pick = list => {\n\tif (Array.is(list)) {\n\t\tlet i = Math.floor(Math.random() * list.length);\n\t\treturn list[i];\n\t}\n\telse if (!isNaN(list)) {\n\t\treturn Math.random() <= list;\n\t}\n\treturn null;\n};\nMath.range = (l, r) => {\n\tif (isNaN(r)) {\n\t\tr = l;\n\t\tl = 0;\n\t}\n\treturn l + Math.random() * (r - l);\n};","<template>\r\n\t<div class=\"notifaction-frame\" :horizontal=\"hAlign\" :vertial=\"vAlign\" @click=\"onClick\"></div>\r\n</template>\r\n\r\n<script>\r\nvar current;\r\nconst chMessage = new BroadcastChannel('show-notification');\r\nchMessage.addEventListener('message', evt => {\r\n\tif (!current) return;\r\n\tcurrent.showMessage(evt.data);\r\n});\r\nwindow.notify = msg => {\r\n\tif (!current) return;\r\n\tcurrent.showMessage(msg);\r\n};\r\n\r\nexport default {\r\n\tname: \"Notification\",\r\n\tprops: {\r\n\t\t\"hAlign\": String,\r\n\t\t\"vAlign\": String\r\n\t},\r\n\tinstall (app) {\r\n\t\trequire('../assets/css/notification.css');\r\n\t\tapp.component('Notification', this);\r\n\t},\r\n\tmounted () {\r\n\t\tcurrent = this;\r\n\t},\r\n\tmethods: {\r\n\t\tasync showMessage (msg) {\r\n\t\t\tvar duration = msg.duration || 3000;\r\n\t\t\tvar key = Math.floor(10000000000 * Math.random());\r\n\t\t\tmsg.key = key;\r\n\r\n\t\t\tmsg.ele = this.newMsg(msg);\r\n\t\t\tmsg.ele.exit = async () => {\r\n\t\t\t\tif (!!msg.timer) clearTimeout(msg.timer);\r\n\t\t\t\tdelete msg.timer;\r\n\r\n\t\t\t\tmsg.ele.classList.remove('show');\r\n\t\t\t\tawait wait(300);\r\n\t\t\t\tthis.$el.removeChild(msg.ele);\r\n\r\n\t\t\t\tdelete msg.ele.exit;\r\n\t\t\t\tdelete msg.ele;\r\n\t\t\t};\r\n\t\t\tthis.$el.appendChild(msg.ele);\r\n\t\t\tawait wait();\r\n\t\t\tmsg.ele.classList.add('show');\r\n\r\n\t\t\tmsg.timer = setTimeout(msg.ele.exit, duration);\r\n\t\t},\r\n\t\tnewMsg (msg) {\r\n\t\t\tvar ele = document.createElement('section');\r\n\t\t\tele.setAttribute('key', msg.key);\r\n\t\t\tele.setAttribute('type', msg.type || 'default');\r\n\t\t\tif (!!msg.title) {\r\n\t\t\t\tlet header = document.createElement('header');\r\n\t\t\t\theader.innerText = msg.title;\r\n\t\t\t\tele.appendChild(header);\r\n\t\t\t}\r\n\t\t\tif (!!msg.message) {\r\n\t\t\t\tlet article = document.createElement('article');\r\n\t\t\t\tarticle.innerText = msg.message;\r\n\t\t\t\tele.appendChild(article);\r\n\t\t\t}\r\n\t\t\treturn ele;\r\n\t\t},\r\n\t\tonClick (evt) {\r\n\t\t\tvar ele = evt.target;\r\n\t\t\tif (!ele) return;\r\n\t\t\tif (!ele.exit) return;\r\n\t\t\tele.exit();\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./notification.vue?vue&type=template&id=5b7cf86e\"\nimport script from \"./notification.vue?vue&type=script&lang=js\"\nexport * from \"./notification.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","/**\n * Name:\tFunction Utils\n * Desc:    Function 类拓展工具\n * \t\t\t函数的 promisify、once 化函数、stack & pump 化函数\n * Author:\tLostAbaddon\n * Version:\t0.0.3\n * Date:\t2018.11.05\n */\n\nFunction.is = obj => obj instanceof Function;\nglobal.AsyncFunction = (async () => {}).constructor;\nAsyncFunction.is = obj => obj instanceof AsyncFunction;\n\n/**\n * 将函数Promise化\n * 可设置超时实现\n */\n\nconst promisify = (fn) => {\n\tif (!(fn instanceof Function)) return null;\n\tif (!!fn._promised) return fn;\n\tvar afun = (...args) => new Promise((res, rej) => {\n\t\ttry {\n\t\t\tfn(...args, res, rej);\n\t\t\t// setImmediate(() => fn(...args, res, rej));\n\t\t}\n\t\tcatch (err) {\n\t\t\trej(err);\n\t\t}\n\t});\n\tafun._promised = true;\n\tafun._original = fn;\n\treturn afun;\n};\npromisify.withTimeout = (fn) => {\n\tif (!(fn instanceof Function)) return null;\n\tif (!!fn._promised) return fn;\n\tvar afun = (...args) => {\n\t\tvar start_time, tocb = null, todelay = -1, towatch = null, rej;\n\t\tvar prom = new Promise((_res, _rej) => {\n\t\t\trej = _rej;\n\t\t\tvar res = (...args) => {\n\t\t\t\tif (!!towatch) clearTimeout(towatch);\n\t\t\t\ttowatch = null;\n\t\t\t\t_res(...args);\n\t\t\t};\n\t\t\ttry {\n\t\t\t\tstart_time = new Date().getTime();\n\t\t\t\tfn(...args, res, rej);\n\t\t\t\t// setImmediate(() => fn(...args, res, rej));\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\trej(err);\n\t\t\t}\n\t\t});\n\t\tprom.timeout = (...args) => {\n\t\t\tif (args[0] instanceof Number) args[0] = args[0] * 1;\n\t\t\tif (!isNaN(args[0])) {\n\t\t\t\tif (args[1] instanceof Function) tocb = args[1];\n\t\t\t\ttodelay = args[0] >= 0 ? args[0] : -1;\n\t\t\t\tif (todelay < 0 && !!towatch) {\n\t\t\t\t\tclearTimeout(towatch);\n\t\t\t\t\ttowatch = null;\n\t\t\t\t}\n\t\t\t\telse if (todelay >= 0) {\n\t\t\t\t\tif (!!towatch) clearTimeout(towatch);\n\t\t\t\t\tlet n = new Date().getTime();\n\t\t\t\t\ttowatch = setTimeout(() => {\n\t\t\t\t\t\tif (!!tocb) tocb();\n\t\t\t\t\t\trej(new Error('Timeout!'));\n\t\t\t\t\t}, todelay - (n - start_time));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (args[0] instanceof Function) {\n\t\t\t\ttocb = args[0];\n\t\t\t}\n\t\t\treturn prom;\n\t\t};\n\t\treturn prom;\n\t};\n\tafun._promised = true;\n\tafun._original = fn;\n\treturn afun;\n};\n\nconst fun_prep = (promisible, ...args) => {\n\tvar funs, data, cb;\n\tif (args[0] instanceof Array) {\n\t\tfuns = args[0];\n\t\tdata = args[1];\n\t\tcb = args[2];\n\t\tif (!cb) {\n\t\t\tcb = data;\n\t\t\tdata = null;\n\t\t}\n\t}\n\telse {\n\t\tcb = args.pop();\n\t\tif (args[args.length - 1] instanceof Function) data = null;\n\t\telse data = args.pop();\n\t\tfuns = args;\n\t}\n\tif (!!promisible) funs = funs.map(f => promisify(f));\n\telse funs = funs.map(f => f._original || f);\n\treturn [funs, data, cb];\n};\n\npromisify.s = promisify.serial = promisify(async (...args) => {\n\tvar [funs, data, res] = fun_prep(true, ...args);\n\tfor (let fun of funs) {\n\t\tlet v;\n\t\tif (data === null || data === undefined) v = await fun();\n\t\telse v = await fun(data);\n\t\tif (v !== undefined) data = v;\n\t}\n\tres(data);\n});\npromisify.p = promisify.parallel = promisify(async (...args) => {\n\tvar [funs, data, res] = fun_prep(true, ...args);\n\tvar tasks = funs.length, results = [];;\n\tfuns.forEach(async (f, i) => {\n\t\tvar v;\n\t\tif (data === null || data === undefined) v = await f();\n\t\telse v = await f(data);\n\t\tresults[i] = v;\n\t\ttasks --;\n\t\tif (tasks > 0) return;\n\t\tres(results);\n\t});\n});\npromisify.a = promisify.any = promisify(async (...args) => {\n\tvar [funs, data, res] = fun_prep(true, ...args);\n\tfuns.forEach(async (f, i) => {\n\t\tvar v;\n\t\tif (data === null || data === undefined) v = await f();\n\t\telse v = await f(data);\n\t\tres(v);\n\t});\n});\n\nglobal.promisify = Function.promisify = promisify;\n\n/**\n * 将函数一次化，此后只返回第一次运行的结果，支持Promisify对象\n * oncefun.refresh可重新执行\n */\nglobal.oncilize = Function.oncilize = fn => {\n\tvar called = false, value, ofn;\n\tif (fn._promised) {\n\t\tofn = (...args) => new Promise(async (res, rej) => {\n\t\t\tif (called) {\n\t\t\t\tawait waitLoop();\n\t\t\t\tres(value);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcalled = true;\n\t\t\tvalue = await fn(...args);\n\t\t\tres(value);\n\t\t});\n\t}\n\telse {\n\t\tofn = (...args) => {\n\t\t\tif (called) return value;\n\t\t\tcalled = true;\n\t\t\tvalue = fn(...args);\n\t\t\treturn value;\n\t\t};\n\t}\n\tofn.refresh = () => called = false;\n\treturn ofn;\n};\n\n/**\n * 将函数堆栈化，可将一段时间内的输入都保存下来，只输出最后一次（stack模式）或者所有都输出（pump模式），默认为stack模式\n * pumpfun.dump可立即执行\n */\nglobal.pumplize = Function.pumplize = (fn, cb, last_only=true) => {\n\tvar stack = [], start_time = null, timeout = 100, timer = null;\n\tvar done = () => {\n\t\tstart_time = null;\n\t\tvar args = stack;\n\t\tstack = [];\n\t\tif (last_only) cb(fn(...args));\n\t\telse cb(fn(args));\n\t};\n\tvar pfn = (...args) => {\n\t\tif (start_time === null) {\n\t\t\tstart_time = Date.now();\n\t\t\tif (timer) clearTimeout(timer);\n\t\t\ttimer = setTimeout(done, timeout);\n\t\t}\n\t\tvar n = Date.now();\n\t\tif (n - start_time >= timeout) {\n\t\t\tdone();\n\t\t}\n\t\telse {\n\t\t\tif (last_only) stack = args;\n\t\t\telse stack.push(args);\n\t\t}\n\t};\n\tpfn.dump = () => {\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = null;\n\t\tdone();\n\t};\n\tpfn.timeout = to => {\n\t\tif (isNaN(to)) return pfn;\n\t\ttimeout = to;\n\t\tif (start_time === null) return pfn;\n\t\tvar n = Date.now();\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = setTimeout(done, timeout + start_time - n);\n\t\treturn pfn;\n\t};\n\treturn pfn;\n};","<template>\r\n\t<div class=\"crumb\" v-if=\"show\">\r\n\t\t<span class=\"hint\">位置：</span>\r\n\t\t<template v-for=\"(item, index) in path\">\r\n\t\t\t<span @click=\"jump(item.path, item.query)\">{{item.name}}</span><i class=\"fas fa-angle-right\" />\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nvar currCrumb = null;\r\nconst channel = new BroadcastChannel('page-changed');\r\nchannel.addEventListener('message', msg => {\r\n\tif (!currCrumb) return;\r\n\tcurrCrumb.update();\r\n});\r\n\r\nexport default {\r\n\tname: 'Crumb',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tshow: true,\r\n\t\t\tpath: []\r\n\t\t}\r\n\t},\r\n\tprops: {\r\n\t\ttarget: String\r\n\t},\r\n\tmethods: {\r\n\t\tjump (path, query) {\r\n\t\t\tquery = Proxy.toObject(query);\r\n\t\t\tvar target = {path, query};\r\n\t\t\tthis.$router.push(target);\r\n\t\t\tif (path === this.$route.path) channel.postMessage(target);\r\n\t\t},\r\n\t\tupdate () {\r\n\t\t\tvar path = null, type = '';\r\n\t\t\tif (this.$route.path === '/') {\r\n\t\t\t\tpath = null;\r\n\t\t\t}\r\n\t\t\telse if (this.$route.path === '/category') {\r\n\t\t\t\tif (!!this.$route.query && !!this.$route.query.c) {\r\n\t\t\t\t\tpath = decodeURIComponent(this.$route.query.c).split(',').filter(c => c.length > 0);\r\n\t\t\t\t\ttype = 'viewer';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (this.$route.path === '/view') {\r\n\t\t\t\tif (!!this.$route.query && !!this.$route.query.f) {\r\n\t\t\t\t\tpath = decodeURIComponent(this.$route.query.f).split('/');\r\n\t\t\t\t\tpath.pop();\r\n\t\t\t\t\tpath = path.filter(c => c.length > 0);\r\n\t\t\t\t\ttype = 'view';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet fullpath = this.target || this.$route.path;\r\n\t\t\t\tpath = fullpath.split('/').filter(c => c.length > 0);\r\n\t\t\t\ttype = 'view';\r\n\t\t\t}\r\n\t\t\tif (!path) {\r\n\t\t\t\tthis.show = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.show = true;\r\n\t\t\tthis.path.splice(0, this.path.length);\r\n\t\t\tif (type === 'viewer' || type === 'page') path.pop();\r\n\r\n\t\t\tthis.path.push(...(getPathNameList(path)));\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tthis.update();\r\n\t\tcurrCrumb = this;\r\n\t},\r\n\tunmounted () {\r\n\t\tcurrCrumb = null;\r\n\t}\r\n}\r\n</script>","import { render } from \"./crumb.vue?vue&type=template&id=4d449e52\"\nimport script from \"./crumb.vue?vue&type=script&lang=js\"\nexport * from \"./crumb.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","window.loadJS = (filepath) => new Promise(res => {\r\n\tvar js = document.createElement('script');\r\n\tjs.type = 'text/javascript';\r\n\tjs.src = filepath;\r\n\tjs.onload = res;\r\n\tjs.onerror = res;\r\n\tdocument.body.appendChild(js);\r\n});\r\nwindow.loadCSS = (filepath) => new Promise(res => {\r\n\tvar css = document.createElement('link');\r\n\tcss.type = 'text/css';\r\n\tcss.rel = 'stylesheet';\r\n\tcss.href = filepath;\r\n\tcss.onload = res;\r\n\tcss.onerror = res;\r\n\tdocument.body.appendChild(css);\r\n});\r\n\r\nwindow.utf8tobase64 = str => window.btoa(window.unescape(window.encodeURIComponent(str)));\r\nwindow.base64toutf8 = str => window.decodeURIComponent(window.escape(window.atob(str)));\r\nwindow.base64tobuffer = str => {\r\n\tvar dec = window.escape(window.atob(str)), len = dec.length, result = [];\r\n\tfor (let i = 0; i < len; i ++) {\r\n\t\tlet s = dec.substr(i, 1);\r\n\t\tif (s === '%') {\r\n\t\t\ts = dec.substr(i + 1, 2);\r\n\t\t\ttry {\r\n\t\t\t\ts = parseInt(s, 16);\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\tconsole.error(\"输入 base64 字符串格式错误：\", err);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tresult.push(s);\r\n\t\t\ti += 2;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tresult.push(s.charCodeAt(0));\r\n\t\t}\r\n\t}\r\n\tresult = new Uint8Array(result);\r\n\treturn result;\r\n};\r\n\r\nwindow.findContentWrapper = ele => {\r\n\tif (!ele) return ele;\r\n\twhile (true) {\r\n\t\tlet tag = (ele.nodeName || '').toLowerCase();\r\n\t\tif (['span', 'font', 'sup', 'sub', 'i', 'u', 'b', 'del', 'em', 'strong', 'code'].includes(tag)) ele = ele.parentElement;\r\n\t\telse return ele;\r\n\t}\r\n};\r\nwindow.onVueHyperLinkTriggered = (vue, evt) => {\r\n\tvar ele = findContentWrapper(evt.target);\r\n\tif ((ele.nodeName || '').toLowerCase() !== 'a') return false;\r\n\r\n\tvar path = ele.getAttribute('href');\r\n\tif (!path) return false;\r\n\r\n\tif (path.indexOf('#/') === 0) {\r\n\t\tpath = path.replace(/^#+[\\\\\\/]+/, '');\r\n\t\tpath = path.split(/[\\\\\\/]+/);\r\n\t\tpath = { path: '/category', query: {c: path.join(',')} };\r\n\t}\r\n\telse if (path.indexOf('#') === 0) {\r\n\t\tpath = path.replace(/^#+/, '');\r\n\t\tlet target = document.querySelector('[name=\"' + path + '\"]');\r\n\t\tif (!!target) {\r\n\t\t\tlet app = document.body.querySelector('#app');\r\n\t\t\tif (!!app) {\r\n\t\t\t\tlet offset = (target.offsetTop || 0) - app.scrollTop;\r\n\t\t\t\tif (!Devices.isMobile) offset -= 25; // 顶部 NavBar 高度\r\n\t\t\t\tapp.scrollBy({top: offset, behavior: 'smooth'});\r\n\t\t\t}\r\n\t\t}\r\n\t\tevt.preventDefault();\r\n\t\treturn true;\r\n\t}\r\n\telse if (path.indexOf('/page/#/') === 0) {\r\n\t\tpath = path.replace(/^[\\\\\\/]+page[\\\\\\/]+#+[\\\\\\/]+/, '/');\r\n\t\tpath = { path };\r\n\t}\r\n\telse if (path.indexOf('/page/') === 0) {\r\n\t\tpath = path.replace('/page/', '/');\r\n\t\tpath = {path};\r\n\t}\r\n\telse if (path.indexOf('/article/') === 0) {\r\n\t\tpath = path.replace('/article/', '');\r\n\t\tpath = encodeURIComponent(path);\r\n\t\tpath = {path: '/view', query: {f: path}};\r\n\t}\r\n\telse {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tevt.preventDefault();\r\n\tvar originPath = location.hash.replace(/^#+/, '').split('?')[0];\r\n\tvue.$router.push(path);\r\n\tif (path.path === originPath) {\r\n\t\tlet channel = new BroadcastChannel('page-changed');\r\n\t\tchannel.postMessage(path);\r\n\t}\r\n\r\n\treturn true;\r\n};\r\n\r\nLifeCycle.on.ready(app => {\r\n\tconsole.log('Schwarzschild Blackhole System is READY!');\r\n\r\n\tvar FootNoteUnInited = true;\r\n\tapp.config.globalProperties.afterMarkUp = async () => {\r\n\t\tInitNotes(document.body.querySelector('#container'));\r\n\t\tif (FootNoteUnInited) {\r\n\t\t\tFootNoteUnInited = false;\r\n\t\t\tMathJax.Hub.Config({\r\n\t\t\t\textensions: [\"tex2jax.js\"],\r\n\t\t\t\tTeX: {\r\n\t\t\t\t\textensions: [\"AMSmath.js\", \"AMSsymbols.js\"]\r\n\t\t\t\t},\r\n\t\t\t\tjax: [\"input/TeX\", \"output/HTML-CSS\"],\r\n\t\t\t\ttex2jax: {\r\n\t\t\t\t\tinlineMath: [[\"$\",\"$\"]]}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tMathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tMathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\r\n\t\t}\r\n\t\tawait ImageWall.init();\r\n\t};\r\n\tconst mutationObserver = new MutationObserver(async mutations => {\r\n\t\tvar markups = document.querySelectorAll('.markup');\r\n\t\tawait Promise.all([].map.call(markups, async mu => {\r\n\t\t\tvar content = mu.innerText;\r\n\t\t\tcontent = content.replace(/^\\t+|\\t+$/g, '\\n');\r\n\t\t\tcontent = await MarkUp.parse(content, {\r\n\t\t\t\ttoc: mu.classList.contains('toc'),\r\n\t\t\t\tglossary: mu.classList.contains('glossary'),\r\n\t\t\t\tresources: mu.classList.contains('resources'),\r\n\t\t\t\tshowtitle: mu.classList.contains('showtitle'),\r\n\t\t\t\tshowauthor: false,\r\n\t\t\t\tclassname: 'markup-content',\r\n\t\t\t});\r\n\t\t\tmu.innerHTML = content;\r\n\t\t\tmu.classList.remove('markup');\r\n\t\t}));\r\n\t\tif (markups.length > 0) await app.config.globalProperties.afterMarkUp();\r\n\t});\r\n\tmutationObserver.observe(document.body, {\r\n\t\tchildList: true,\r\n\t\tsubtree: true,\r\n\t});\r\n\tglobal.changeThemeColor = (color) => {\r\n\t\tif (!color) return;\r\n\t\tlocalStorage.setItem('themeColor', color);\r\n\t\tdocument.body.setAttribute('theme', color);\r\n\t};\r\n\tchangeThemeColor(localStorage.getItem('themeColor'));\r\n});\r\nLifeCycle.on.initialized((app) => {\r\n\tconsole.log('Schwarzschild Blackhole System is INITIALIZED!');\r\n});\r\n\r\nvar tmrDataUpdated = null;\r\nconst cbDataUpdated = data => {\r\n\tsessionStorage.setItem('sourceUpdated', data.target);\r\n\tlocation.reload();\r\n};\r\n(new BroadcastChannel('source-updated')).addEventListener('message', ({data}) => {\r\n\tif (!!tmrDataUpdated) {\r\n\t\tclearTimeout(tmrDataUpdated);\r\n\t}\r\n\ttmrDataUpdated = setTimeout(() => {\r\n\t\ttmrDataUpdated = null;\r\n\t\tcbDataUpdated(data);\r\n\t}, 100);\r\n});","import { render } from \"./navbar.vue?vue&type=template&id=22784629\"\nimport script from \"./navbar.vue?vue&type=script&lang=js\"\nexport * from \"./navbar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","/**\n * Name:\tClass Utils\n * Desc:    Class 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.1\n * Date:\t2017.11.09\n */\n\nglobal.ProtoType = Function.prototype;\nObject.defineProperty(ProtoType, 'kerneltype', {\n\tget () {\n\t\tif (this === ProtoType) return this;\n\t\tif (this.__proto__ === ProtoType) return this;\n\t\tif (!this.__proto__.kerneltype) return this;\n\t\treturn this.__proto__.kerneltype;\n\t},\n\tenumerable: false,\n\tconfigurable: false\n});\n\nObject.prototype.isSubClassOf = function (target) {\n\tif (typeof this !== 'function') return false;\n\tvar cls = this;\n\twhile (!!cls) {\n\t\tif (cls === target) return true;\n\t\tcls = Object.getPrototypeOf(cls);\n\t}\n\treturn false;\n};\nObject.defineProperty(Object.prototype, 'isSubClassOf', { enumerable: false });\n","<template>\n\t<div class=\"home\">\n\t\t<Column />\n\t</div>\n</template>\n\n<script>\n// @ is an alias to /src\nexport default {\n\tname: 'Home',\n}\n</script>","import { render } from \"./Home.vue?vue&type=template&id=55142182\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"category\">\n\t\t<Crumb />\n\t\t<Column />\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'Category',\n}\n</script>","import { render } from \"./Category.vue?vue&type=template&id=d48deafc\"\nimport script from \"./Category.vue?vue&type=script&lang=js\"\nexport * from \"./Category.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<Crumb />\r\n\t<div ref=\"menu\" class=\"floatMenu\" v-if=\"menuList.length>0\">\r\n\t\t<i class=\"fas fa-bars\"></i>\r\n\t\t<div class=\"menuFrame\">\r\n\t\t\t<div v-for=\"item in menuList\" class=\"menuItem\"\r\n\t\t\t\t:read=\"item.read\"\r\n\t\t\t\t:level=\"item.level\"\r\n\t\t\t\t@click=\"gotoMenu(item.key)\">{{item.title}}</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div ref=\"article\" class=\"container\" @click=\"onClick\"></div>\r\n\t<div class=\"likeCoinArea\" v-if=\"showLikeCoin\">\r\n\t\t<iframe v-if=\"!!likecoin\" :src=\"likecoin\"></iframe>\r\n\t</div>\r\n\t<div class=\"passwordInputter\" :show=\"showPassword\">\r\n\t\t<div class=\"title\">请输入 IV 码：</div>\r\n\t\t<input ref=\"ivinputter\" @keydown=\"onEnter\">\r\n\t\t<button @click=\"submitIV\">确定</button>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst chScroll = new BroadcastChannel('page-scroll');\r\nconst chPageChanged = new BroadcastChannel('page-changed');\r\nconst chChangeLoadingHint = new BroadcastChannel('change-loading-hint');\r\nconst CCLicenses = ['BY', 'SA', 'NC', 'ND'];\r\nconst LicensesContent = {\r\n\tBY: \"署名\",\r\n\tSA: \"相同方式共享\",\r\n\tNC: \"非商业性使用\",\r\n\tND: \"禁止演绎\"\r\n};\r\n\r\nvar current = null, timer, lastIVRequest;\r\nchScroll.addEventListener('message', ({data}) => {\r\n\tif (!current) return;\r\n\tif (!!timer) {\r\n\t\tclearTimeout(timer);\r\n\t}\r\n\ttimer = setTimeout(() => {\r\n\t\tif (!current) return;\r\n\t\tcurrent.onScroll(data);\r\n\t\ttimer = null;\r\n\t}, 100);\r\n});\r\nchPageChanged.addEventListener('message', ({data}) => {\r\n\tif (!current) return;\r\n\tcurrent.update();\r\n});\r\n\r\nexport default {\r\n\tname: 'Viewer',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tlikecoin: \"\",\r\n\t\t\tshowLikeCoin: false,\r\n\t\t\tmenuList: [],\r\n\t\t\tchapList: [],\r\n\t\t\tchapMap: {},\r\n\t\t\tshowPassword: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync update () {\r\n\t\t\tchChangeLoadingHint.postMessage({\r\n\t\t\t\tname: '加载中……',\r\n\t\t\t\taction: 'show'\r\n\t\t\t});\r\n\r\n\t\t\tvar article = this.$route.query.f, timestamp = (this.$route.query.t * 1) || 0;\r\n\t\t\tif (!article) {\r\n\t\t\t\tthis.$router.push({path: '/'});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar isMU = !!article.match(/\\.e?mu$/i);\r\n\t\t\tvar isEncrypt = !!article.match(/\\.em[ud]$/i);\r\n\t\t\tif (isEncrypt && (!window.crypto || !window.crypto.getRandomValues\r\n\t\t\t\t|| !window.crypto.subtle || !window.crypto.subtle.encrypt || !window.crypto.subtle.decrypt)) {\r\n\t\t\t\tthis.showLikeCoin = false;\r\n\t\t\t\tthis.menuList.clear();\r\n\t\t\t\tthis.$refs.article.innerText = '<article class=\"markup-content\"><section><p>您的浏览器不支持<span class=\"english\">WebCrypto</span>模块功能，请换用现代浏览器！</p></section></article>';\r\n\t\t\t\tchChangeLoadingHint.postMessage({\r\n\t\t\t\t\taction: 'hide'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar tasks = [Granary.getArticle(article, timestamp)];\r\n\t\t\tif (isMU) tasks.push(Granary.getContent('/api/copyright.md'));\r\n\t\t\tvar [content, copyright] = await Promise.all(tasks);\r\n\r\n\t\t\tif (isEncrypt) {\r\n\t\t\t\tcontent = await this.decrypt(content);\r\n\t\t\t\tif (!content && !!lastIVRequest) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar html = '', title = '', hasContent = true;\r\n\t\t\tif (!content) {\r\n\t\t\t\thasContent = false;\r\n\t\t\t\thtml = '<div class=\"page_not_found\"><div class=\"frame\"></div><div class=\"title\">指定内容不存在，请联系站长。</div></div>';\r\n\t\t\t}\r\n\t\t\telse if (!!copyright && isMU) {\r\n\t\t\t\tif (!content.match(/(^ *#|\\n *#)[ \\t].+/)) {\r\n\t\t\t\t\tcontent = \"# 正文\\n\\n\" + content;\r\n\t\t\t\t}\r\n\t\t\t\tcontent = content + '\\n\\n\\n' + copyright;\r\n\t\t\t}\r\n\r\n\t\t\tvar markup;\r\n\t\t\tif (hasContent) {\r\n\t\t\t\tif (timestamp === 0) timestamp = Date.now();\r\n\t\t\t\tmarkup = await MarkUp.fullParse(content, {\r\n\t\t\t\t\ttoc: true,\r\n\t\t\t\t\tglossary: isMU,\r\n\t\t\t\t\tresources: false,\r\n\t\t\t\t\tshowtitle: true,\r\n\t\t\t\t\tshowauthor: isMU,\r\n\t\t\t\t\tdate: timestamp,\r\n\t\t\t\t\tclassname: 'markup-content',\r\n\t\t\t\t});\r\n\t\t\t\tmarkup.meta.others = markup.meta.others || {};\r\n\t\t\t\tcopyright = markup.meta.others.CopyRight;\r\n\t\t\t\ttitle = '《' + markup.title + '》';\r\n\t\t\t\thtml = markup.content;\r\n\t\t\t\tif (!html) {\r\n\t\t\t\t\thtml = '<div class=\"page_not_found\"><div class=\"frame\"></div><div class=\"title\">MarkUp 内容解析失败，请联系作者。</div></div>';\r\n\t\t\t\t\thasContent = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.$refs.article.innerHTML = html;\r\n\t\t\tif (hasContent) {\r\n\t\t\t\tawait this.afterMarkUp();\r\n\t\t\t\tthis.addLikeCoin(markup.meta.others.LikeCoin);\r\n\t\t\t\tthis.refreshMenu(markup);\r\n\t\t\t\tif (!!copyright && isMU) {\r\n\t\t\t\t\tawait wait();\r\n\t\t\t\t\tthis.adjustCopyRight(copyright);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.showLikeCoin = false;\r\n\t\t\t\tthis.likecoin = '';\r\n\t\t\t\tthis.refreshMenu();\r\n\t\t\t}\r\n\t\t\tdocument.title = title + ' (' + this.SiteName + ')';\r\n\r\n\t\t\tchChangeLoadingHint.postMessage({\r\n\t\t\t\taction: 'hide'\r\n\t\t\t});\r\n\t\t},\r\n\t\tadjustCopyRight (copyright) {\r\n\t\t\tif (!copyright) return html;\r\n\t\t\tvar licenses = [], version = \"0\";\r\n\t\t\tif (!copyright.match(/^ *cc *0(\\.0)* *$/i)) {\r\n\t\t\t\tif (!copyright.match(/^ *(cc +)(\\w+\\-)*\\w+( +(\\d+\\.)*\\d) *$/i)) return;\r\n\t\t\t\tcopyright = copyright.replace(/^ *cc +/i, '').replace(/ +$/, '').split(/ +/);\r\n\t\t\t\tversion = copyright[1] || '4.0';\r\n\t\t\t\tif (version.indexOf('.') < 0) version = version + '.0';\r\n\t\t\t\tlicenses = copyright[0].split('-').map(l => l.toUpperCase()).filter(l => CCLicenses.includes(l));\r\n\t\t\t\tlicenses.sort((a, b) => b > a ? -1 : (b < a ? 1 : 0));\r\n\t\t\t}\r\n\t\t\tvar crSection = null;\r\n\t\t\tthis.$refs.article.querySelectorAll('section').forEach(sect => {\r\n\t\t\t\tvar title = sect.querySelector('h1');\r\n\t\t\t\tif (!title) return;\r\n\t\t\t\tif (title.innerText !== '版权申明') return;\r\n\t\t\t\tcrSection = sect;\r\n\t\t\t});\r\n\r\n\t\t\tvar link = crSection.querySelector('p a');\r\n\t\t\tvar content = crSection.querySelector('blockquote p');\r\n\t\t\tif (licenses.length === 0) {\r\n\t\t\t\tlink.innerText = '公共领域许可（CC0）协议';\r\n\t\t\t\tlink.href = \"https://en.wikipedia.org/wiki/Creative_Commons_license#Zero_/_public_domain\";\r\n\t\t\t\tcontent.innerHTML = '通过本协议，您的作品将不受限制地在全球范围内发布内容，您将法律允许范围内放弃一切权利。';\r\n\t\t\t\tlet next = content.parentElement.nextSibling;\r\n\t\t\t\tnext.parentElement.removeChild(next);\r\n\t\t\t}\r\n\t\t\telse if (licenses.includes('BY')) {\r\n\t\t\t\tlink.innerText = '知识共享署名 4.0 国际许可（CC ' + licenses.join('-') + ' ' + version + '）协议';\r\n\t\t\t\tlink.href = 'http://creativecommons.org/licenses/' + licenses.join('-').toLowerCase() + '/' + version + '/';\r\n\t\t\t\tcontent.innerHTML =\r\n\t\t\t\t\t\"通过本协议，您可以<a href='https://en.wikipedia.org/wiki/Creative_Commons_license#Attribution' target='_blank'>分享并演绎本作品（创建派生内容）</a>，只要你遵守以下授权条款规定：\" +\r\n\t\t\t\t\tlicenses.map(l => '<strong>' + LicensesContent[l] + '</strong>').join('、')\r\n\t\t\t\t\t+ \"。<br>具体内容请查阅上述协议声明。\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlink.innerText = '知识共享 4.0 许可（CC ' + licenses.join('-') + ' ' + version + '）协议';\r\n\t\t\t\tlink.href = 'https://en.wikipedia.org/wiki/Creative_Commons';\r\n\t\t\t\tcontent.innerHTML =\r\n\t\t\t\t\t\"通过本协议，您可以<a href='https://en.wikipedia.org/wiki/Creative_Commons_license#Attribution' target='_blank'>分享并演绎本作品（创建派生内容）</a>，只要你遵守以下授权条款规定：\" +\r\n\t\t\t\t\tlicenses.map(l => '<strong>' + LicensesContent[l] + '</strong>').join('、')\r\n\t\t\t\t\t+ \"。<br>具体内容请查阅上述协议声明。\";\r\n\t\t\t}\r\n\t\t},\r\n\t\taddLikeCoin (likeCoin) {\r\n\t\t\tvar available = true;\r\n\t\t\tif (!!this.LikeCoin && !!this.LikeCoin.forbidden && this.LikeCoin.forbidden.length > 0) {\r\n\t\t\t\tlet host = ('.' + location.hostname + '.').replace(/\\.+/g, '.');\r\n\t\t\t\tavailable = this.LikeCoin.forbidden.every(fb => {\r\n\t\t\t\t\tfb = ('.' + fb + '.').replace(/\\.+/g, '.');\r\n\t\t\t\t\treturn host.indexOf(fb) < 0;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (!available) {\r\n\t\t\t\tthis.showLikeCoin = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!likeCoin) {\r\n\t\t\t\tif (!this.LikeCoin) {\r\n\t\t\t\t\tthis.showLikeCoin = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (String.is(this.LikeCoin)) likeCoin = this.LikeCoin;\r\n\t\t\t\telse likeCoin = this.LikeCoin.id;\r\n\t\t\t}\r\n\r\n\t\t\tif (!!likeCoin) {\r\n\t\t\t\tthis.showLikeCoin = true;\r\n\t\t\t\tthis.likecoin = \"https://button.like.co/\" + likeCoin;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.likecoin = \"\";\r\n\t\t\t}\r\n\t\t},\r\n\t\trefreshMenu (markup) {\r\n\t\t\tthis.menuList.clear();\r\n\t\t\tthis.chapList.clear();\r\n\t\t\tfor (let key in this.chapMap) {\r\n\t\t\t\tdelete this.chapMap[key];\r\n\t\t\t}\r\n\r\n\t\t\tif (!markup) return;\r\n\r\n\t\t\tmarkup.chapList.forEach(chap => {\r\n\t\t\t\tthis.menuList.push({\r\n\t\t\t\t\tlevel: chap[0] - 1,\r\n\t\t\t\t\tkey: chap[1],\r\n\t\t\t\t\ttitle: chap[2],\r\n\t\t\t\t\tread: false\r\n\t\t\t\t});\r\n\t\t\t\tvar chapEle = this.$refs.article.querySelector('a[name=\"' + chap[1] + '\"]');\r\n\t\t\t\tif (!!chapEle) {\r\n\t\t\t\t\tthis.chapList.push(chapEle);\r\n\t\t\t\t\tthis.chapMap[chap[1]] = chapEle;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tonScroll (option) {\r\n\t\t\tvar limit = Devices.isMobile ? 0 : 25, index = 0, noLeft = true, delta = 0;\r\n\t\t\tif (option.total > option.height) {\r\n\t\t\t\tdelta = option.top / (option.total - option.height);\r\n\t\t\t\tdelta = (delta * delta) * option.height;\r\n\t\t\t}\r\n\t\t\tthis.chapList.some((chap, i) => {\r\n\t\t\t\tvar top = chap.getBoundingClientRect().top;\r\n\t\t\t\ttop -= delta;\r\n\t\t\t\tif (top > limit) {\r\n\t\t\t\t\tnoLeft = false;\r\n\t\t\t\t\tindex = i;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (index === 0 && noLeft) index = this.menuList.length\r\n\r\n\t\t\tfor (let i = 0; i < this.menuList.length; i ++) {\r\n\t\t\t\tthis.menuList[i].read = i < index;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonClick (evt) {\r\n\t\t\tonVueHyperLinkTriggered(this, evt);\r\n\t\t},\r\n\t\tgotoMenu (menuKey) {\r\n\t\t\tvar chap = this.chapMap[menuKey];\r\n\t\t\tif (!chap) return;\r\n\t\t\tvar top = chap.getBoundingClientRect().top - (Devices.isMobile ? 5 : 30);\r\n\t\t\tapp.scrollBy({top, behavior: 'smooth'});\r\n\t\t\tthis.$refs.article.focus();\r\n\t\t},\r\n\t\trequestIVWord () {\r\n\t\t\treturn new Promise(res => {\r\n\t\t\t\tvar lastRes = lastIVRequest;\r\n\t\t\t\tlastIVRequest = res;\r\n\t\t\t\tif (!!lastRes) {\r\n\t\t\t\t\tlastRes(null);\r\n\t\t\t\t}\r\n\t\t\t\tthis.showPassword = true;\r\n\t\t\t});\r\n\t\t},\r\n\t\tonEnter (evt) {\r\n\t\t\tif (evt.keyCode === 13) this.submitIV();\r\n\t\t},\r\n\t\tsubmitIV () {\r\n\t\t\tvar iv = this.$refs.ivinputter.value;\r\n\t\t\tif (!iv) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"warn\",\r\n\t\t\t\t\ttitle: \"IV 码不能为空\"\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar code;\r\n\t\t\ttry {\r\n\t\t\t\tcode = base64tobuffer(iv);\r\n\t\t\t}\r\n\t\t\tcatch {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttitle: \"无效IV码\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar res = lastIVRequest;\r\n\t\t\tlastIVRequest = null;\r\n\t\t\tthis.showPassword = false;\r\n\t\t\tres([code, iv]);\r\n\t\t},\r\n\t\tasync decrypt (content) {\r\n\t\t\tvar key = localStorage.getItem('CurrentKey');\r\n\t\t\tif (!key) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttitle: \"密钥丢失\",\r\n\t\t\t\t\tmessage: '请在“设置/密钥管理”中选择或添加密钥'\r\n\t\t\t\t});\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tkey = base64tobuffer(key);\r\n\t\t\t\tkey = await window.crypto.subtle.importKey(\"raw\", key, \"AES-GCM\", true, [\"encrypt\", \"decrypt\"]);\r\n\t\t\t}\r\n\t\t\tcatch {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttitle: \"密钥损坏\",\r\n\t\t\t\t\tmessage: '解码密钥失败，请在“设置/密钥管理”中选择或添加可用密钥'\r\n\t\t\t\t});\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\r\n\t\t\tvar keyMap = localStorage.getItem('EncryptedContentKeys');\r\n\t\t\tif (!!keyMap) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tkeyMap = JSON.parse(keyMap);\r\n\t\t\t\t}\r\n\t\t\t\tcatch {\r\n\t\t\t\t\tkeyMap = {};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tkeyMap = {};\r\n\t\t\t}\r\n\t\t\tvar iv, code;\r\n\t\t\tcode = keyMap[this.$route.query.f];\r\n\t\t\tif (!!code) {\r\n\t\t\t\tiv = base64tobuffer(code);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t[iv, code] = await this.requestIVWord();\r\n\t\t\t\tif (iv === null) {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcontent = base64tobuffer(content);\r\n\t\t\tif (!content) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttitle: \"BASE64 内容解码失败！\",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttype: \"error\"\r\n\t\t\t\t});\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tcontent = await window.crypto.subtle.decrypt({ name: \"AES-GCM\", iv}, key, content);\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttitle: \"密钥或IV码错误\",\r\n\t\t\t\t\tmessage: '请在“设置/密钥管理”中选择或添加正确的密钥，或换一个IV码重试。'\r\n\t\t\t\t});\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tcontent = (new TextDecoder()).decode(content);\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttitle: \"内容解码失败！\",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttype: \"error\"\r\n\t\t\t\t});\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\r\n\t\t\t// 记录已成功使用的密钥与IV码\r\n\t\t\tkeyMap[this.$route.query.f] = code;\r\n\t\t\tlocalStorage.setItem('EncryptedContentKeys', JSON.stringify(keyMap));\r\n\r\n\t\t\treturn content;\r\n\t\t}\r\n\t},\r\n\tasync mounted () {\r\n\t\tcurrent = this;\r\n\t\tawait this.update();\r\n\t\tthis.$refs.article.focus();\r\n\t},\r\n\tunmounted () {\r\n\t\tcurrent = null;\r\n\t}\r\n}\r\n</script>","import { render } from \"./viewer.vue?vue&type=template&id=e12ff3a6\"\nimport script from \"./viewer.vue?vue&type=script&lang=js\"\nexport * from \"./viewer.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHashHistory } from 'vue-router';\nimport Home from '../views/Home.vue';\nimport Category from '../views/Category.vue';\nimport Viewer from '../views/viewer.vue';\n\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tname: 'Home',\n\t\tcomponent: Home\n\t},\n\t{\n\t\tpath: '/category',\n\t\tname: 'Category',\n\t\tcomponent: Category\n\t},\n\t{\n\t\tpath: '/view',\n\t\tname: 'Viewer',\n\t\tcomponent: Viewer\n\t},\n\t{\n\t\tpath: '/about',\n\t\tname: 'AboutSite',\n\t\tcomponent: function () {\n\t\t\treturn import('../views/about/site.vue')\n\t\t}\n\t},\n\t{\"path\":\"/chinesecolor\",\"name\":\"chinesecolor\",\"component\":function(){return import(\"../pages/chinesecolor.vue\")}},{\"path\":\"/freemusic\",\"name\":\"freemusic\",\"component\":function(){return import(\"../pages/freemusic.vue\")}},{\"path\":\"/latex\",\"name\":\"latex\",\"component\":function(){return import(\"../pages/latex.vue\")}},{\"path\":\"/japanesecolor\",\"name\":\"japanesecolor\",\"component\":function(){return import(\"../pages/japanesecolor.vue\")}},{\"path\":\"/markup\",\"name\":\"markup\",\"component\":function(){return import(\"../pages/markup.vue\")}},{\"path\":\"/entertain/ballcrush\",\"name\":\"ballcrush\",\"component\":function(){return import(\"../pages/entertain/ballcrush.vue\")}},{\"path\":\"/entertain/rushgo\",\"name\":\"rushgo\",\"component\":function(){return import(\"../pages/entertain/rushgo.vue\")}},{\"path\":\"/popsci/quantum1\",\"name\":\"quantum1\",\"component\":function(){return import(\"../pages/popsci/quantum1.vue\")}},{\"path\":\"/tools/parseMarkup\",\"name\":\"parseMarkup\",\"component\":function(){return import(\"../pages/tools/parseMarkup.vue\")}},{path:'/aboutMe',name:'AboutMe',component:function(){return import('../views/aboutMe.vue')}},\n\t{\n\t\tpath: '/404',\n\t\tname: 'PageNotFound',\n\t\tcomponent: function () {\n\t\t\treturn import('../views/404.vue')\n\t\t}\n\t},\n\t{\n\t\tpath: '/:pathMatch(.*)*',\n\t\tname: 'PageNotFound',\n\t\tcomponent: function () {\n\t\t\treturn import('../views/404.vue')\n\t\t}\n\t}\n];\n\nconst router = createRouter({\n\thistory: createWebHashHistory(),\n\troutes\n});\nrouter.afterEach((to, from) => {\n\tif (to.name === 'Category') {\n\t\tlet list = getPathNameList(to.query.c.split(','), false);\n\t\tif (!list) {\n\t\t\tdocument.title = router.app.config.globalProperties.SiteName;\n\t\t}\n\t\telse {\n\t\t\tdocument.title = router.app.config.globalProperties.SiteName + ' / ' + list.map(c => c.name).join(' / ');\n\t\t}\n\t}\n\telse {\n\t\tdocument.title = router.app.config.globalProperties.SiteName;\n\t}\n\tdocument.querySelector('#app').scrollTo(0, 0);\n});\n\nexport default router;","<template>\r\n\t<div :class=\"'imageShowcase ' + (show ? 'show' : 'hide')\" @click=\"onClick\">\r\n\t\t<div class=\"imageFrame\">\r\n\t\t\t<div class=\"imagePage\" v-for=\"(image, i) in gallary\" :style=\"{left: ((i - index) * 100) + '%'}\">\r\n\t\t\t\t<div class=\"imageInstance\" :style=\"{backgroundImage: 'url(' + image.image + ')', width: image.width + 'px'}\" :width=\"image.width\" :height=\"image.height\"></div>\r\n\t\t\t\t<div class=\"imageLegend\">{{image.title}}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"imageButton close\" @click=\"show=false\"><i class=\"fas fa-times-circle\"></i></div>\r\n\t\t<div class=\"imageButton left\" :inactive=\"index <= 0\" @click=\"index --\"><i class=\"fas fa-angle-left\"></i></div>\r\n\t\t<div class=\"imageButton right\" :inactive=\"index >= gallary.length - 1\" @click=\"index ++\"><i class=\"fas fa-angle-right\"></i></div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst findWall = ele => {\r\n\tvar parent = ele.parentNode;\r\n\tif (!parent) return null;\r\n\tvar tag = parent.tagName;\r\n\tif (!tag) return null;\r\n\ttag = tag.toLowerCase();\r\n\tif (tag === 'figuren') return findWall(parent);\r\n\tif (tag !== 'div') return null;\r\n\tif (parent.classList.contains('image-wall')) return parent;\r\n\treturn findWall(parent);\r\n};\r\nexport default {\r\n\tname: 'ImageShowcase',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tshow: false,\r\n\t\t\tindex: 0,\r\n\t\t\tgallary: []\r\n\t\t}\r\n\t},\r\n\tcreated () {\r\n\t\tdocument.body.addEventListener('click', evt => {\r\n\t\t\tif (this.show) return;\r\n\t\t\tvar ele = evt.target, tag = ele.tagName;\r\n\t\t\tif (!tag) return;\r\n\t\t\ttag = tag.toLowerCase();\r\n\t\t\tvar hitted = false, img, wall;\r\n\t\t\tif (tag === 'img') {\r\n\t\t\t\thitted = true;\r\n\t\t\t\timg = ele;\r\n\t\t\t\twall = findWall(ele);\r\n\t\t\t}\r\n\t\t\telse if (tag === 'figure') {\r\n\t\t\t\timg = ele.querySelector('img');\r\n\t\t\t\tif (!!img) {\r\n\t\t\t\t\thitted = true;\r\n\t\t\t\t\twall = findWall(ele);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (tag === 'div') {\r\n\t\t\t\tif (ele.classList.contains('resource')) {\r\n\t\t\t\t\timg = ele.querySelector('img');\r\n\t\t\t\t\tif (!!img) {\r\n\t\t\t\t\t\thitted = true;\r\n\t\t\t\t\t\twall = findWall(ele);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!hitted) return;\r\n\r\n\t\t\tvar gallary = [], index = 0;\r\n\t\t\tif (!!wall) {\r\n\t\t\t\twall.querySelectorAll('.image-container.image-float div.resource.image').forEach((g, i) => {\r\n\t\t\t\t\tvar pic = g.querySelector('img');\r\n\t\t\t\t\tif (pic === img) index = i;\r\n\t\t\t\t\tvar title = g.querySelector('figcaption');\r\n\t\t\t\t\ttitle = title.innerText || \"\"\r\n\t\t\t\t\tgallary.push({\r\n\t\t\t\t\t\timage: pic.src,\r\n\t\t\t\t\t\twidth: pic.naturalWidth,\r\n\t\t\t\t\t\theight: pic.naturalHeight,\r\n\t\t\t\t\t\ttitle\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tindex = 0;\r\n\t\t\t\tlet title = img.parentNode;\r\n\t\t\t\tif (!!title) title = title.parentNode;\r\n\t\t\t\tif (!!title) title = title.querySelector('figcaption');\r\n\t\t\t\tif (!!title) title = title.innerText;\r\n\t\t\t\ttitle = title || '';\r\n\t\t\t\tgallary = [{\r\n\t\t\t\t\timage: img.src,\r\n\t\t\t\t\twidth: img.naturalWidth,\r\n\t\t\t\t\theight: img.naturalHeight,\r\n\t\t\t\t\ttitle\r\n\t\t\t\t}];\r\n\t\t\t}\r\n\t\t\tthis.showGallary(index, gallary);\r\n\t\t});\r\n\t\tdocument.body.addEventListener('keydown', evt => {\r\n\t\t\tif (!this.show) return;\r\n\t\t\tif (evt.keyCode === 37) {\r\n\t\t\t\tif (this.index > 0) this.index --;\r\n\t\t\t}\r\n\t\t\telse if (evt.keyCode === 39) {\r\n\t\t\t\tif (this.index < this.gallary.length - 1) this.index ++;\r\n\t\t\t}\r\n\t\t\telse if (evt.keyCode === 27) {\r\n\t\t\t\tthis.show = false;\r\n\t\t\t}\r\n\t\t\tevt.preventDefault();\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tonClick (evt) {\r\n\t\t\tif (evt.target.classList.contains('fas')) return;\r\n\t\t\tif (!!evt.target.querySelector('.fas')) return;\r\n\r\n\t\t\tif (!!evt.target.querySelector('.imageInstance')) {\r\n\t\t\t\tthis.show = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!evt.target.classList.contains('imageInstance')) return;\r\n\r\n\t\t\tvar width = evt.target.getAttribute('width') * 1 || 0;\r\n\t\t\tvar height = evt.target.getAttribute('height') * 1 || 0;\r\n\t\t\tvar w = evt.target.getBoundingClientRect();\r\n\t\t\tvar h = w.height;\r\n\t\t\tw = w.width;\r\n\t\t\tvar x = evt.offsetX, y = evt.offsetY;\r\n\t\t\tvar limitX = 0, limitY = 0;\r\n\r\n\t\t\tif (width <= w) {\r\n\t\t\t\tif (height > h) {\r\n\t\t\t\t\tlet ww = width / height * h;\r\n\t\t\t\t\tlimitX = (w - ww) / 2;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlimitX = (w - width) / 2;\r\n\t\t\t\t\tlimitY = (h - height) / 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet ww = w, hh = height / width * w;\r\n\t\t\t\tif (hh > h) {\r\n\t\t\t\t\tww = w / hh * h;\r\n\t\t\t\t\thh = h;\r\n\t\t\t\t}\r\n\t\t\t\tlimitX = (w - ww) / 2;\r\n\t\t\t\tlimitY = (h - hh) / 2;\r\n\t\t\t}\r\n\r\n\t\t\tif (x > w / 2) x = w - x;\r\n\t\t\tif (y > h / 2) y = h - y;\r\n\t\t\tif (x < limitX || y < limitY) this.show = false;\r\n\t\t},\r\n\t\tshowGallary (index, gallary) {\r\n\t\t\tthis.index = index;\r\n\t\t\tthis.gallary.splice(0, this.gallary.length);\r\n\t\t\tgallary.forEach(g => this.gallary.push(g));\r\n\t\t\tthis.show = true;\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./imageShowcase.vue?vue&type=template&id=262771ca\"\nimport script from \"./imageShowcase.vue?vue&type=script&lang=js\"\nexport * from \"./imageShowcase.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<nav class=\"nav-menu-bar\">\r\n\t\t<NavMenuItem v-for=\"item in menu\" :title=\"item.name\" :action=\"(!!item.category&&item.category.length>0)?(!!supers?(supers+','+item.category):item.category):''\" :type=\"item.type\" :subs=\"item.subs\" />\r\n\t</nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'NavMenuBar',\r\n\tprops: {\r\n\t\tsupers: \"\",\r\n\t\tmenu: Array\r\n\t}\r\n}\r\n</script>","import { render } from \"./navmenubar.vue?vue&type=template&id=b5988656\"\nimport script from \"./navmenubar.vue?vue&type=script&lang=js\"\nexport * from \"./navmenubar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","/**\n * Name:\tArray Utils\n * Desc:    Array 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.4\n * Date:\t2019.06.04\n */\n\nArray.prototype.copy = function () {\n\treturn this.map(ele => ele);\n};\nArray.prototype.duplicate = function () {\n\tvar copy = this.map(value => {\n\t\tif (Object.isBasicType(value)) {\n\t\t\treturn value.valueOf();\n\t\t} else if (value === null || value === undefined) {\n\t\t\treturn value;\n\t\t} else if (value instanceof Date) {\n\t\t\treturn new Date(value.getTime());\n\t\t} else if (typeof value === \"object\" && !(value instanceof Promise)) {\n\t\t\treturn value.duplicate();\n\t\t}\n\t});\n\treturn Object.assign([], this, copy);\n};\nArray.prototype.randomize = function () {\n\tvar l = this.length;\n\tvar result = Array.random(l);\n\tvar self = this;\n\tresult = result.map(i => self[i]);\n\treturn result;\n};\nArray.prototype.remove = function (obj) {\n\tvar index = this.indexOf(obj);\n\tif (index < 0) return this;\n\tthis.splice(index, 1);\n\treturn this;\n};\nArray.prototype.clear = function (obj) {\n\tthis.splice(0, this.length);\n\treturn this;\n};\nArray.prototype.translate = function (offset) {\n\tvar c = this.copy();\n\tif (isNaN(offset)) return c;\n\tvar l = this.length;\n\tif (offset >= l || offset <= -l) return c;\n\tif (offset > 0) {\n\t\tfor (let i = 0, j = offset; i < l - offset; i ++, j ++) {\n\t\t\tc[i] = this[j];\n\t\t}\n\t\tfor (let i = l - offset, j = 0; i < l; i ++, j ++) {\n\t\t\tc[i] = this[j];\n\t\t}\n\t}\n\telse {\n\t\toffset = - offset;\n\t\tfor (let i = 0, j = offset; i < l - offset; i ++, j ++) {\n\t\t\tc[j] = this[i];\n\t\t}\n\t\tfor (let i = l - offset, j = 0; i < l; i ++, j ++) {\n\t\t\tc[j] = this[i];\n\t\t}\n\t}\n\treturn c;\n};\nArray.prototype.query = function (fun) {\n\tvar index = -1;\n\tthis.some((d, i) => {\n\t\tconst has = !!fun(d);\n\t\tif (has) index = i;\n\t\treturn has;\n\t});\n\treturn index;\n};\nArray.prototype.pick = function () {\n\tvar l = this.length;\n\tvar result = Math.floor(Math.random() * l);\n\treturn this[result];\n};\nArray.prototype.equal = function (data) {\n\tif (!(data instanceof Array)) return false;\n\tvar len = this.byteLength;\n\tif (len != data.byteLength) return false;\n\tfor (let i = 0; i < len; i ++) {\n\t\tif (this[i] !== data[i]) return false;\n\t}\n\treturn true;\n};\nObject.defineProperty(Array.prototype, 'first', {\n\tget () {\n\t\treturn this[0];\n\t},\n\tenumerable: false,\n\tconfigurable: false\n});\nObject.defineProperty(Array.prototype, 'last', {\n\tget () {\n\t\treturn this[this.length - 1];\n\t},\n\tenumerable: false,\n\tconfigurable: false\n});\nObject.defineProperty(Array.prototype, 'copy', { enumerable: false });\nObject.defineProperty(Array.prototype, 'duplicate', { enumerable: false });\nObject.defineProperty(Array.prototype, 'remove', { enumerable: false });\nObject.defineProperty(Array.prototype, 'clear', { enumerable: false });\nObject.defineProperty(Array.prototype, 'randomize', { enumerable: false });\nObject.defineProperty(Array.prototype, 'translate', { enumerable: false });\nObject.defineProperty(Array.prototype, 'query', { enumerable: false });\nObject.defineProperty(Array.prototype, 'pick', { enumerable: false });\nObject.defineProperty(Array.prototype, 'equal', { enumerable: false });\nArray.is = obj => obj instanceof Array;\nArray.generate = (total, generator = i => i) => {\n\tvar result = [];\n\tif (Function.is(generator)) for (let i = 0; i < total; i ++) result.push(generator(i));\n\telse for (let i = 0; i < total; i ++) result.push(generator);\n\treturn result;\n};\nArray.random = (total, generator = i => i) => {\n\tvar origin = [], result = [];\n\tfor (let i = 0; i < total; i ++) origin.push(i);\n\tfor (let i = 0; i < total; i ++) {\n\t\tlet j = Math.floor(Math.random() * origin.length);\n\t\tresult.push(generator(origin[j]));\n\t\torigin.splice(j, 1);\n\t}\n\treturn result;\n};\n\nUint8Array.prototype.__proto__.copy = function () {\n\treturn new Uint8Array(this);\n};\nUint8Array.prototype.__proto__.duplicate = Uint8Array.prototype.__proto__.copy;\nObject.defineProperty(Uint8Array.prototype.__proto__, 'copy', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype.__proto__, 'duplicate', { enumerable: false });\nif (global._env === \"node\") {\n\tUint8Array.prototype.__proto__.toBuffer = function () {\n\t\tvar buffer = Buffer.alloc(this.length, this);\n\t\treturn buffer;\n\t};\n\tUint8Array.prototype.__proto__.toBase64 = function () {\n\t\tvar buffer = Buffer.alloc(this.length, this);\n\t\treturn buffer.toString('base64');\n\t};\n\tObject.defineProperty(Uint8Array.prototype.__proto__, 'toBuffer', { enumerable: false });\n\tObject.defineProperty(Uint8Array.prototype.__proto__, 'toBase64', { enumerable: false });\n\n\tUint8Array.fromString = (str, type='utf8') => Uint8Array.fromBuffer(Buffer.from(str, type));\n\tUint8Array.fromBase64 = base64 => {\n\t\tvar buf = Buffer.from(base64, 'base64');\n\t\treturn Uint8Array.fromBuffer(buf);\n\t}\n\tUint8Array.fromBuffer = buffer => new Uint8Array(buffer);\n\tUint16Array.fromBuffer = buffer => new Uint16Array(buffer);\n\tUint32Array.fromBuffer = buffer => new Uint32Array(buffer);\n\tInt8Array.fromBuffer = buffer => new Int8Array(buffer);\n\tInt16Array.fromBuffer = buffer => new Int16Array(buffer);\n\tInt32Array.fromBuffer = buffer => new Int32Array(buffer);\n\tFloat32Array.fromBuffer = buffer => new Float32Array(buffer);\n\tFloat64Array.fromBuffer = buffer => new Float64Array(buffer);\n\tBigInt64Array.fromBuffer = buffer => new BigInt64Array(buffer);\n\tBigUint64Array.fromBuffer = buffer => new BigUint64Array(buffer);\n}\n\nUint8Array.prototype.sub = function (from, length) {\n\tif (isNaN(from)) return this.copy();\n\tif (isNaN(length)) {\n\t\tlength = from;\n\t\tfrom = 0;\n\t}\n\treturn new Uint8Array(Buffer.from(this).subarray(from, from + length));\n};\nUint8Array.prototype.concat = function (array) {\n\tif (!(array instanceof Uint8Array)) return this.copy();\n\tvar result = Buffer.concat([this, array]);\n\treturn Buffer.from(result);\n};\nUint8Array.prototype.padEnd = function (len, pad = 0) {\n\tif (len <= this.length) return this.copy();\n\tif (!Number.is(pad) || pad < 0 || pad > 255) pad = 0;\n\tvar result = new Uint8Array(len);\n\tfor (let i = 0; i < this.length; i ++) result[i] = this[i];\n\tfor (let i = this.length; i < len; i ++) result[i] = pad;\n\treturn result;\n};\nUint8Array.prototype.padStart = function (len, pad = 0) {\n\tif (len <= this.length) return this.copy();\n\tif (!Number.is(pad) || pad < 0 || pad > 255) pad = 0;\n\tvar result = new Uint8Array(len);\n\tlen = len - this.length;\n\tfor (let i = 0; i < len; i ++) result[i] = pad;\n\tfor (let i = 0; i < this.length; i ++) result[i + len] = this[i];\n\treturn result;\n};\nUint8Array.prototype.equal = function (data) {\n\tif (!(data instanceof Uint8Array)) return false;\n\tvar len = this.byteLength;\n\tif (len != data.byteLength) return false;\n\tfor (let i = 0; i < len; i ++) {\n\t\tif (this[i] !== data[i]) return false;\n\t}\n\treturn true;\n};\nObject.defineProperty(Uint8Array.prototype, 'sub', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'concat', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'padEnd', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'padStart', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'equal', { enumerable: false });","<template>\r\n\t<div class=\"loading\" :class=\"show?'show':'hide'\">\r\n\t\t<div class=\"hint\">\r\n\t\t\t<div class=\"animate spin\" v-if=\"type==='spin'\"><i class=\"fas fa-spinner fa-spin fa-fast\" /></div>\r\n\t\t\t<div class=\"animate pulse\" v-if=\"type==='pulse'\">\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"title\">{{title}}</div>\r\n\t\t</div>\r\n\t\t<div class=\"forceQuit\" v-if=\"forcequit\" @click=\"forceQuit\">强制关闭</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst channel = new BroadcastChannel('change-loading-hint');\r\nglobal.callPageLoaded = () => {\r\n\tvar ch = new BroadcastChannel('change-loading-hint');\r\n\tch.postMessage({action: 'hide'});\r\n};\r\nvar quiter = null;\r\n\r\nexport default {\r\n\tname: \"Loading\",\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\ttitle: \"载入中……\",\r\n\t\t\tshow: true,\r\n\t\t\ttype: \"pulse\",\r\n\t\t\tforcequit: false\r\n\t\t}\r\n\t},\r\n\tcreated () {\r\n\t\tchannel.addEventListener('message', msg => {\r\n\t\t\tvar data = msg.data;\r\n\t\t\tif (data.action === 'show') {\r\n\t\t\t\tdata.title = data.title || '载入中……';\r\n\t\t\t\tthis.forcequit = false;\r\n\t\t\t\tif (!!quiter) {\r\n\t\t\t\t\tclearTimeout(quiter);\r\n\t\t\t\t\tquiter = null;\r\n\t\t\t\t}\r\n\t\t\t\tquiter = setTimeout(() => {\r\n\t\t\t\t\tthis.forcequit = true;\r\n\t\t\t\t}, 5000);\r\n\t\t\t\tthis.show = true;\r\n\t\t\t}\r\n\t\t\telse if (data.action === 'hide') {\r\n\t\t\t\tdata.title = data.title || '载入中……';\r\n\t\t\t\tthis.forcequit = false;\r\n\t\t\t\tif (!!quiter) {\r\n\t\t\t\t\tclearTimeout(quiter);\r\n\t\t\t\t\tquiter = null;\r\n\t\t\t\t}\r\n\t\t\t\tthis.show = false;\r\n\t\t\t}\r\n\t\t\tif (String.is(data.title)) this.title = data.title;\r\n\t\t\tif (['spin', 'pulse'].indexOf(data.type) >= 0) this.type = data.type;\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tforceQuit () {\r\n\t\t\tif (!!quiter) {\r\n\t\t\t\tclearTimeout(quiter);\r\n\t\t\t\tquiter = null;\r\n\t\t\t}\r\n\t\t\tthis.show = false;\r\n\t\t}\r\n\t}\r\n}\r\n</script>","<template>\r\n\t<div class=\"tail-bar\">\r\n\t\t<div class=\"left\">\r\n\t\t\t© 2020 - 2021 LostAbaddon, all rights reserved.\r\n\t\t</div>\r\n\t\t<div class=\"right\">\r\n\t\t\tGenerated by <a target=\"_blank\" href=\"https://github.com/LostAbaddon/Schwarzschild\">Schwarzschild v0.1.2</a>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'TailBar'\r\n}\r\n</script>","import { render } from \"./tail.vue?vue&type=template&id=0c814340\"\nimport script from \"./tail.vue?vue&type=script&lang=js\"\nexport * from \"./tail.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./loading.vue?vue&type=template&id=1f515cf3\"\nimport script from \"./loading.vue?vue&type=script&lang=js\"\nexport * from \"./loading.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<section class=\"column container\" @click=\"onClick\">\r\n\t\t<header ref=\"header\"></header>\r\n\t\t<caption v-if=\"showList\">\r\n\t\t\t<span>文章列表</span>\r\n\t\t\t<div class=\"controller\">\r\n\t\t\t\t<div class=\"hint\"><i class=\"fas fa-sliders-h\"></i></div>\r\n\t\t\t\t<div class=\"styleList\">\r\n\t\t\t\t\t<div class=\"styleItem\" name=\"bars\"><i class=\"fas fa-bars\"></i></div>\r\n\t\t\t\t\t<div class=\"styleItem\" name=\"lines\"><i class=\"fas fa-stream\"></i></div>\r\n\t\t\t\t\t<div class=\"styleItem\" name=\"columns\"><i class=\"fas fa-columns\"></i></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</caption>\r\n\t\t<ColumnItem v-if=\"showList\" v-for=\"article in list\"\r\n\t\t\t:title=\"article.title\"\r\n\t\t\t:author=\"article.author\"\r\n\t\t\t:description=\"article.description\"\r\n\t\t\t:type=\"article.type\"\r\n\t\t\t:timemark=\"article.timemark\"\r\n\t\t\t:timestamp=\"article.timestamp\"\r\n\t\t\t:categoryName=\"article.category\"\r\n\t\t\t:categoryPath=\"article.sort\"\r\n\t\t\t:filename=\"article.filename\"\r\n\t\t/>\r\n\t</section>\r\n</template>\r\n\r\n<script>\r\nimport ColumnItem from '@/components/columnItem.vue';\r\n\r\nconst getTimeString = _('Utils').getTimeString;\r\nvar currColumn = null;\r\nconst chPageChanged = new BroadcastChannel('page-changed');\r\nchPageChanged.addEventListener('message', msg => {\r\n\tif (!currColumn) return;\r\n\tcurrColumn.update();\r\n});\r\nconst chChangeLoadingHint = new BroadcastChannel('change-loading-hint');\r\n\r\nconst nameMap = new Map();\r\nconst getName = path => {\r\n\tvar name = nameMap.get(path);\r\n\tif (!!name) return name;\r\n\tvar m = SiteMap;\r\n\tname = null;\r\n\tpath = path.split(/[\\\\\\/]/).filter(p => p.length > 0);\r\n\tpath.some((p, i) => {\r\n\t\tvar entry = m[p];\r\n\t\tif (!entry) return true;\r\n\t\tm = entry.subs;\r\n\t\tif (i === path.length - 1) name = entry.name;\r\n\t});\r\n\tif (!!name) {\r\n\t\tnameMap.set(path, name);\r\n\t\treturn name;\r\n\t}\r\n\treturn path.last;\r\n};\r\n\r\nexport default {\r\n\tname: \"Column\",\r\n\tcomponents: {ColumnItem},\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\titemPerPage: 20,\r\n\t\t\tlist: [],\r\n\t\t\tshowList: true,\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync getHeaderInfo (category) {\r\n\t\t\tvar info = await Granary.getColumnHeader(category);\r\n\t\t\tvar content = '';\r\n\t\t\tif (!!info) {\r\n\t\t\t\tcontent = await MarkUp.parse(info, {\r\n\t\t\t\t\ttoc: false,\r\n\t\t\t\t\tglossary: false,\r\n\t\t\t\t\tresources: false,\r\n\t\t\t\t\tshowtitle: false,\r\n\t\t\t\t\tshowauthor: false,\r\n\t\t\t\t\tclassname: 'markup-content',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.$refs.header.innerHTML = content;\r\n\t\t\tif (!!info) {\r\n\t\t\t\tawait this.afterMarkUp();\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getArticleList (category) {\r\n\t\t\tvar articles = await Granary.getCategory(category);\r\n\t\t\tthis.list.splice(0, this.list.length);\r\n\t\t\tarticles.forEach((art) => {\r\n\t\t\t\tart.category = getName(art.sort);\r\n\t\t\t\tart.placehoding = false;\r\n\t\t\t\tart.timestamp = (new Date(art.publish)).getTime();\r\n\t\t\t\tart.timemark = getTimeString(new Date(art.publish), \"YYMMDDhhmm\");\r\n\t\t\t\tart.description = art.description || '暂无';\r\n\t\t\t\tthis.list.push(art);\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync update () {\r\n\t\t\tchChangeLoadingHint.postMessage({\r\n\t\t\t\tname: '加载中……',\r\n\t\t\t\taction: 'show'\r\n\t\t\t});\r\n\r\n\t\t\tvar style = localStorage.getItem('columnStyle') || 'lines';\r\n\t\t\tthis.$el.setAttribute('columnStyle', style);\r\n\r\n\t\t\tthis.list.splice(0, this.list.length);\r\n\t\t\tthis.header = '';\r\n\r\n\t\t\tvar category = null;\r\n\t\t\tif (this.$route.path === '/') {\r\n\t\t\t\tcategory = '/';\r\n\t\t\t}\r\n\t\t\telse if (this.$route.path === '/category') {\r\n\t\t\t\tif (!!this.$route.query && !!this.$route.query.c) {\r\n\t\t\t\t\tcategory = '/' + this.$route.query.c.split(',').filter(c => c.length > 0).join('/');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({action: 'hide'});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tchChangeLoadingHint.postMessage({action: 'hide'});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcategory = category.replace(/^[\\/\\\\]+/, '');\r\n\r\n\t\t\tvar cateList = category.split('/').filter(c => c.length > 0);\r\n\t\t\tvar cateType = SiteMap;\r\n\t\t\tif (cateList.length > 0) {\r\n\t\t\t\tcateList.some(cate => {\r\n\t\t\t\t\tcate = cateType[cate];\r\n\t\t\t\t\tif (!!cate.subs && cate.subs.length > 0) {\r\n\t\t\t\t\t\tcateType = cate.subs;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcateType = cate.type;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcateType = 'viewer';\r\n\t\t\t}\r\n\r\n\t\t\tif (cateType === 'folder') {\r\n\t\t\t\tthis.showList = false;\r\n\t\t\t\tawait this.getHeaderInfo(category);\r\n\t\t\t}\r\n\t\t\telse if (cateType === 'viewer') {\r\n\t\t\t\tthis.showList = true;\r\n\t\t\t\tawait Promise.all([this.getHeaderInfo(category), this.getArticleList(category)]);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.showList = false;\r\n\t\t\t}\r\n\r\n\t\t\tchChangeLoadingHint.postMessage({action: 'hide'});\r\n\t\t},\r\n\t\tonClick (evt) {\r\n\t\t\tvar ele = findContentWrapper(evt.target);\r\n\t\t\tif (!ele) return;\r\n\r\n\t\t\tif (ele.classList.contains('hint')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if (ele.classList.contains('styleItem')) {\r\n\t\t\t\tlet name = ele.getAttribute('name');\r\n\t\t\t\tthis.$el.setAttribute('columnStyle', name);\r\n\t\t\t\tlocalStorage.setItem('columnStyle', name);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if (ele.nodeName.toLowerCase() === 'a') {\r\n\t\t\t\tif (onVueHyperLinkTriggered(this, evt)) return;\r\n\t\t\t}\r\n\t\t\tvar filename = undefined, category = undefined, timestamp = undefined;\r\n\t\t\tif (!ele) return;\r\n\t\t\twhile (!filename && !category) {\r\n\t\t\t\tfilename = ele.getAttribute('filename');\r\n\t\t\t\tcategory = ele.getAttribute('path');\r\n\t\t\t\ttimestamp = ele.getAttribute('timestamp') * 1;\r\n\t\t\t\tele = ele.parentNode;\r\n\t\t\t\tif (!ele || ele === document.body) break;\r\n\t\t\t}\r\n\t\t\tif (!!category) {\r\n\t\t\t\tlet path = '/category?c=' + category.split('/').join(',');\r\n\t\t\t\tif (this.$route.fullPath !== path) {\r\n\t\t\t\t\tthis.$router.push({path});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (!!filename) {\r\n\t\t\t\tthis.$router.push({path: '/view', query: {f: filename}});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tcurrColumn = this;\r\n\t\tthis.update();\r\n\t},\r\n\tunmounted () {\r\n\t\tcurrColumn = null;\r\n\t}\r\n}\r\n</script>","<template>\r\n\t<section class=\"column-item\" :filename=\"categoryPath+'/'+filename\" :timestamp=\"timestamp\">\r\n\t\t<header>\r\n\t\t\t<div class=\"title\">{{title}}</div>\r\n\t\t\t<div class=\"category\" :path=\"categoryPath\">{{categoryName}}</div>\r\n\t\t</header>\r\n\t\t<article>{{description}}</article>\r\n\t\t<footer>\r\n\t\t\t<div class=\"author\">{{author}}</div>\r\n\t\t\t<div class=\"timestamp\">{{timemark}}</div>\r\n\t\t</footer>\r\n\t</section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"ColumnItem\",\r\n\tprops: {\r\n\t\ttitle: String,\r\n\t\tauthor: String,\r\n\t\tdescription: String,\r\n\t\ttype: String,\r\n\t\ttimemark: String,\r\n\t\ttimestamp: Number,\r\n\t\tcategoryName: String,\r\n\t\tcategoryPath: String,\r\n\t\tfilename: String\r\n\t}\r\n}\r\n</script>","import { render } from \"./columnItem.vue?vue&type=template&id=2da22326\"\nimport script from \"./columnItem.vue?vue&type=script&lang=js\"\nexport * from \"./columnItem.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./column.vue?vue&type=template&id=98d67aca\"\nimport script from \"./column.vue?vue&type=script&lang=js\"\nexport * from \"./column.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","window.InitAsimov = async () => {\r\n\t// 如果支持线程，则启用线程来解析MarkUp\r\n\tif (!!window.SharedWorker || !!window.Worker) {\r\n\t\tlet TaskPool = new Map();\r\n\t\tlet generateID = () => Math.floor(Math.random() * 100000000);\r\n\r\n\t\tlet asimovWorker, workerPort, workerName;\r\n\t\tif (!!window.SharedWorker) {\r\n\t\t\tworkerName = 'Shared-Worker Asimov';\r\n\t\t\tasimovWorker = new SharedWorker('/js/worker/asimov.js');\r\n\t\t\tworkerPort = asimovWorker.port;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tworkerName = 'Dedicated-Worker Asimov';\r\n\t\t\tasimovWorker = new Worker('/js/worker/asimov.js');\r\n\t\t\tworkerPort = asimovWorker;\r\n\t\t}\r\n\t\tworkerPort.onmessage = ({data}) => {\r\n\t\t\tconsole.log(workerName + ' finished task-' + data.id);\r\n\t\t\tvar res = TaskPool.get(data.id);\r\n\t\t\tTaskPool.delete(data.id);\r\n\t\t\tif (!res) return;\r\n\t\t\tres(data.markup);\r\n\t\t};\r\n\r\n\t\twindow.MarkUp = window.MarkUp || {};\r\n\t\twindow.MarkUp.fullParse = (text, config) => new Promise(res => {\r\n\t\t\tvar id = generateID();\r\n\t\t\tTaskPool.set(id, res);\r\n\t\t\tconsole.log(workerName + ' started task-' + id);\r\n\t\t\tworkerPort.postMessage({id, content: text, config});\r\n\t\t});\r\n\t\twindow.MarkUp.parse = async (text, config) => {\r\n\t\t\tvar result;\r\n\t\t\tresult = await MarkUp.fullParse(text + '\\n', config);\r\n\t\t\tif (!result) return '';\r\n\t\t\treturn result.content;\r\n\t\t};\r\n\r\n\t\twindow.onbeforeunload = () => {\r\n\t\t\tworkerPort.postMessage('suicide');\r\n\t\t\tworkerPort.close();\r\n\t\t};\r\n\t}\r\n\t// 如果不支持线程，则在浏览器主线程解析MarkUp\r\n\telse {\r\n\t\tawait loadJS('/Asimov/markup.js');\r\n\t\tawait loadJS('/Asimov/extensions.js');\r\n\t\tawait loadJS('/js/worker/extmarkup.js');\r\n\t}\r\n};","<template>\r\n\t<div class=\"nav-menu-item\">\r\n\t\t<a @click=\"click(type, action)\">{{title}}<i class=\"fas fa-caret-down\" v-if=\"!!subs\" /></a>\r\n\t\t<i class=\"hint fas fa-caret-right\" v-if=\"!!subs\" />\r\n\t\t<NavMenuBar v-if=\"!!subs\" :menu=\"subs\" :supers=\"action\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'NavMenuItem',\r\n\tprops: {\r\n\t\ttitle: String,\r\n\t\ttype: String,\r\n\t\taction: String,\r\n\t\tsubs: Array\r\n\t},\r\n\tmethods: {\r\n\t\tclick (type, action) {\r\n\t\t\taction = action.split(',').filter(f => f.length > 0);\r\n\t\t\tif (action.length === 0) return;\r\n\r\n\t\t\tvar target = {};\r\n\t\t\tif (type === 'page') {\r\n\t\t\t\ttarget.path = '/' + action.join('/');\r\n\t\t\t}\r\n\t\t\telse if (type === 'viewer' || type === 'folder') {\r\n\t\t\t\ttarget.path = '/category';\r\n\t\t\t\ttarget.query = {c: action.join(',')};\r\n\t\t\t}\r\n\t\t\telse if (type === 'action') {\r\n\t\t\t\tif (action[0] === 'color') {\r\n\t\t\t\t\tchangeThemeColor(action[1]);\r\n\t\t\t\t}\r\n\t\t\t\telse if (action[0] === 'keyManager') {\r\n\t\t\t\t\t(new BroadcastChannel('setting')).postMessage({ action: 'KeyManager' });\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar can_go = true, same_page = false;\r\n\t\t\tif (this.$route.path === target.path) {\r\n\t\t\t\tsame_page = true;\r\n\t\t\t\tlet c1 = !!this.$route.query ? (this.$route.query.c || '') : '';\r\n\t\t\t\tlet c2 = !!target.query ? (target.query.c || '') : '';\r\n\t\t\t\tif (c1 === c2) can_go = false;\r\n\t\t\t}\r\n\t\t\tif (can_go) {\r\n\t\t\t\tthis.$router.push(target);\r\n\t\t\t\tif (same_page) (new BroadcastChannel('page-changed')).postMessage(target);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./navmenuitem.vue?vue&type=template&id=cd183110\"\nimport script from \"./navmenuitem.vue?vue&type=script&lang=js\"\nexport * from \"./navmenuitem.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","/**\r\n * Name:\tLRU Cache\r\n * Desc:    基于Map的最近使用缓存\r\n * Author:\tLostAbaddon\r\n * Version:\t0.0.4\r\n * Date:\t2019.06.22\r\n */\r\n\r\n(() => {\r\n\tconst SymbUpdate = Symbol('update');\r\n\tconst DefaultSize = 100;\r\n\r\n\tconst isNumber = num => {\r\n\t\tif (isNaN(num)) return false;\r\n\t\tif (typeof(num) !== 'number') return false;\r\n\t\treturn true;\r\n\t};\r\n\r\n\tclass LRUCache {\r\n\t\tconstructor (limit=100) {\r\n\t\t\tthis.cache = new Map();\r\n\t\t\tthis.secondary = new Map();\r\n\t\t\tthis.limit = isNumber(limit) ? limit : DefaultSize;\r\n\t\t\tthis.length = 0;\r\n\t\t}\r\n\t\tset (k, v) {\r\n\t\t\tconst has = this.cache.has(k);\r\n\t\t\tif (!has) this[SymbUpdate](k, v);\r\n\t\t\telse this.cache.set(k, v);\r\n\t\t}\r\n\t\tget (k) {\r\n\t\t\tvar v = this.cache.get(k);\r\n\t\t\tif (v !== undefined) return v;\r\n\t\t\tv = this.secondary.get(k);\r\n\t\t\tif (v !== undefined) this[SymbUpdate](k, v);\r\n\t\t\treturn v;\r\n\t\t}\r\n\t\tdel (k) {\r\n\t\t\tconst has = this.cache.has(k);\r\n\t\t\tif (has) this.length --;\r\n\t\t\tthis.cache.delete(k);\r\n\t\t\tthis.secondary.delete(k);\r\n\t\t}\r\n\t\thas (k) {\r\n\t\t\treturn this.cache.has(k) || this.secondary.has(k);\r\n\t\t}\r\n\t\tclear () {\r\n\t\t\tthis.cache.clear();\r\n\t\t\tthis.secondary.clear();\r\n\t\t\tthis.length = 0;\r\n\t\t}\r\n\t\t[SymbUpdate] (k, v) {\r\n\t\t\tthis.length ++;\r\n\t\t\tif (this.length >= this.limit) {\r\n\t\t\t\tthis.secondary = this.cache;\r\n\t\t\t\tthis.cache = new Map();\r\n\t\t\t\tthis.length = 0;\r\n\t\t\t}\r\n\t\t\tthis.cache.set(k, v);\r\n\t\t}\r\n\t}\r\n\r\n\twindow.LRUCache = LRUCache;\r\n}) ();","/**\n * Name:\tTimer Utils\n * Desc:    Timer 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.3\n * Date:\t2018.11.02\n */\n\nif (!!global.setTimeout) { // For Process instead of Thread\n\tglobal.setImmediate = global.setImmediate || function (callback) { setTimeout(callback, 0); };\n\tglobal.nextTick = !!process ? process.nextTick || global.setImmediate : global.setImmediate;\n\tglobal.wait = promisify((delay, next) => {\n\t\tvar start = new Date().getTime();\n\t\tif (Function.is(delay)) {\n\t\t\tnext = delay;\n\t\t\tdelay = 0;\n\t\t}\n\t\tsetTimeout(() => next(new Date().getTime() - start), delay);\n\t});\n\tglobal.waitLoop = promisify(next => {\n\t\tvar start = new Date().getTime();\n\t\tsetImmediate(() => next(new Date().getTime() - start));\n\t});\n\tglobal.waitTick = promisify(next => {\n\t\tvar start = new Date().getTime();\n\t\tnextTick(() => next(new Date().getTime() - start));\n\t});\n\tif (!!global.queueMicrotask) global.waitQueue = promisify(next => {\n\t\tvar start = new Date().getTime();\n\t\tqueueMicrotask(() => next(new Date().getTime() - start));\n\t});\n}\n\nif (global._env === \"node\") {\n\tglobal.now = () => {\n\t\tvar t = process.hrtime();\n\t\treturn t[0] * 1000 + t[1] / 1000000;\n\t}\n} else {\n\tglobal.now = () => Date.now();\n}\n\nglobal.Clock = class Clock {\n\tconstructor (lable='Initialized', not_node=false) {\n\t\tthis.stamps = [];\n\t\tthis.isNode = !!global.process;\n\t\tif (this.isNode && !not_node) {\n\t\t\tthis.clock = () => {\n\t\t\t\tvar c = process.hrtime();\n\t\t\t\treturn c[0] + c[1] / 1e9;\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tthis.clock = () => new Date().getTime() / 1000;\n\t\t}\n\t\tthis.stamp(lable);\n\t}\n\tstamp (lable='') {\n\t\tvar stamp = this.clock();\n\t\tthis.stamps.push([stamp, lable]);\n\t\treturn stamp;\n\t}\n\tlist (is_text=true) {\n\t\tvar last = this.stamps[0][0], len = this.stamps.length, list, max = 0;\n\t\tlist = this.stamps.map(s => {\n\t\t\tvar r = [s[0] - last, s[1]];\n\t\t\tlast = s[0];\n\t\t\tvar l = s[1].length;\n\t\t\tif (l > max) max = l;\n\t\t\treturn r;\n\t\t});\n\t\tif (!is_text) return list;\n\t\tlist = list.map(l => {\n\t\t\tvar lab = l[1], nan = l[0];\n\t\t\tlab = lab.padStart(max, ' ');\n\t\t\treturn lab + '\\t' + nan;\n\t\t});\n\t\treturn list.join('\\n');\n\t}\n\tgetStamp (lable) {\n\t\tif (!lable) return -1;\n\t\tvar result = -1;\n\t\tthis.stamps.some(s => {\n\t\t\tif (s[1] === lable) {\n\t\t\t\tresult = s[0];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\treturn result;\n\t}\n\tspent (start, end) {\n\t\tif (!end) {\n\t\t\tend = this.getStamp(start);\n\t\t\tif (end < 0) end = this.stamps[this.stamps.length - 1][0];\n\t\t\tstart = this.stamps[0][0];\n\t\t}\n\t\telse {\n\t\t\tstart = this.getStamp(start);\n\t\t\tif (start < 0) start = this.stamps[0][0];\n\t\t\tend = this.getStamp(end);\n\t\t\tif (end < 0) end = this.stamps[this.stamps.length - 1][0];\n\t\t}\n\t\treturn end - start;\n\t}\n};","// 音频视频图片的拓展插件\r\n\r\n(() => {\r\n\tconst chChangeLoadingHint = new BroadcastChannel('change-loading-hint');\r\n\t// const chShowImage = new BroadcastChannel('show-image');\r\n\r\n\tconst queryAll = (tag, host) => {\r\n\t\thost = host || document;\r\n\t\tvar eles = host.querySelectorAll(tag);\r\n\t\treturn [].map.call(eles, e => e);\r\n\t};\r\n\tconst createEle = (tag, cls) => {\r\n\t\tvar ele = document.createElement(tag);\r\n\t\tif (String.is(cls)) ele.classList.add(cls);\r\n\t\telse if (Array.is(cls)) cls.forEach(c => ele.classList.add(c));\r\n\t\treturn ele;\r\n\t};\r\n\tconst stopOthers = (ele, all) => {\r\n\t\tall.forEach(e => {\r\n\t\t\tif (e === ele) return;\r\n\t\t\te.pause();\r\n\t\t});\r\n\t};\r\n\r\n\tglobal.ImageWall = {\r\n\t\twhRate: 3 / 4,\r\n\t\tasync init () {\r\n\t\t\tconst Container = document.querySelector('#container > div');\r\n\r\n\t\t\t// 多媒体文件播放时自动暂停其它多媒体文件\r\n\t\t\tvar avs = [...queryAll('.markup-content audio'), ...queryAll('.markup-content video')];\r\n\t\t\tavs.forEach(a => {\r\n\t\t\t\ta.onplay = () => stopOthers(a, avs);\r\n\t\t\t});\r\n\r\n\t\t\tvar imageCount = 0, imageLoaded = 0;\r\n\t\t\tqueryAll('.markup-content .image-wall').forEach(w => {\r\n\t\t\t\tvar divs = queryAll('div.resource', w);\r\n\r\n\t\t\t\tw._total = divs.length;\r\n\t\t\t\tw._index = 0;\r\n\t\t\t\tw._frame = w.querySelector('div.image-container.image-ghost');\r\n\t\t\t\tif (!w._frame) {\r\n\t\t\t\t\tw._frame = createEle('div', ['image-container', 'image-ghost']);\r\n\t\t\t\t\tw.appendChild(w._frame);\r\n\t\t\t\t}\r\n\t\t\t\tw._float = w.querySelector('div.image-container.image-float');\r\n\t\t\t\tif (!w._float) {\r\n\t\t\t\t\tw._float = createEle('div', ['image-container', 'image-float']);\r\n\t\t\t\t\tw.appendChild(w._float);\r\n\t\t\t\t}\r\n\t\t\t\tw._left = w.querySelector('div.image-button-left');\r\n\t\t\t\tif (!w._left) {\r\n\t\t\t\t\tw._left = createEle('div', 'image-button-left');\r\n\t\t\t\t\tw._left.innerHTML = '<i class=\"fas fa-angle-left\"></i>';\r\n\t\t\t\t\tw.appendChild(w._left);\r\n\t\t\t\t\tw._left.addEventListener('click', evt => {\r\n\t\t\t\t\t\tif (w._index <= 0) return;\r\n\t\t\t\t\t\tw._index --;\r\n\t\t\t\t\t\tw._float.style.transform = 'translateX(-' + (100 / w._total * w._index) + '%)';\r\n\t\t\t\t\t\tif (w._index < w._total - 1) w._right.classList.remove('inactive');\r\n\t\t\t\t\t\tif (w._index <= 0) w._left.classList.add('inactive');\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tw._right = w.querySelector('div.image-button-right');\r\n\t\t\t\tif (!w._right) {\r\n\t\t\t\t\tw._right = createEle('div', 'image-button-right');\r\n\t\t\t\t\tw._right.innerHTML = '<i class=\"fas fa-angle-right\"></i>';\r\n\t\t\t\t\tw.appendChild(w._right);\r\n\t\t\t\t\tw._right.addEventListener('click', evt => {\r\n\t\t\t\t\t\tif (w._index >= w._total - 1) return;\r\n\t\t\t\t\t\tw._index ++;\r\n\t\t\t\t\t\tw._float.style.transform = 'translateX(-' + (100 / w._total * w._index) + '%)';\r\n\t\t\t\t\t\tif (w._index > 0) w._left.classList.remove('inactive');\r\n\t\t\t\t\t\tif (w._index >= w._total - 1) w._right.classList.add('inactive');\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tw._callback = (width, height) => {\r\n\t\t\t\t\tif (divs.some(d => !d._ready)) return;\r\n\t\t\t\t\tw.classList.add('loaded');\r\n\t\t\t\t\tw._index = 0;\r\n\t\t\t\t\tw._float.style.transform = 'translateX(0%)';\r\n\t\t\t\t\tw._left.classList.add('inactive');\r\n\r\n\t\t\t\t\tdivs.forEach((div, i) => {\r\n\t\t\t\t\t\tvar frame = createEle('div', 'image-frame');\r\n\t\t\t\t\t\tw._frame.appendChild(frame);\r\n\t\t\t\t\t\tframe.appendChild(div);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tw._float.innerHTML = w._frame.innerHTML;\r\n\t\t\t\t\tw._float.style.width = (w._total * 100) + '%'\r\n\t\t\t\t\tqueryAll('div.image-frame', w._float).forEach(div => {\r\n\t\t\t\t\t\tdiv.style.width = (100 / w._total) + '%';\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\t\tdivs.forEach(div => {\r\n\t\t\t\t\tw._frame.appendChild(div);\r\n\t\t\t\t\tdiv._wall = w;\r\n\t\t\t\t\tdiv.classList.add('inside');\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tawait Promise.all(queryAll('div.resource.image').map(div => new Promise(res => {\r\n\t\t\t\timageCount ++;\r\n\t\t\t\tvar img = div.querySelector('img'), fig = div.querySelector('figure');\r\n\t\t\t\tif (!img) {\r\n\t\t\t\t\timageLoaded ++;\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({title: '载入图片: ' + imageLoaded + ' / ' + imageCount});\r\n\t\t\t\t\treturn res();\r\n\t\t\t\t}\r\n\t\t\t\tvar inside = div.classList.contains('inside');\r\n\t\t\t\tif (!inside) div.classList.add('outside');\r\n\r\n\t\t\t\timg.onload = () => {\r\n\t\t\t\t\tvar containerWidth = Container.getBoundingClientRect().width;\r\n\t\t\t\t\tvar containerHeight = containerWidth * ImageWall.whRate;\r\n\r\n\t\t\t\t\timg._available = true;\r\n\t\t\t\t\timg.setAttribute('oWidth', img.naturalWidth);\r\n\t\t\t\t\timg.setAttribute('oHeight', img.naturalHeight);\r\n\t\t\t\t\tfig.classList.add('loaded');\r\n\t\t\t\t\tfig.style.backgroundImage = 'url(' + img.src + ')';\r\n\t\t\t\t\tdiv.style.width = img.naturalWidth + 'px';\r\n\r\n\t\t\t\t\tvar rateWidth = img.naturalWidth;\r\n\t\t\t\t\tvar rateHeight = img.naturalHeight;\r\n\t\t\t\t\tif (img.naturalHeight / img.naturalWidth > ImageWall.whRate) {\r\n\t\t\t\t\t\tfig.classList.add('tall');\r\n\t\t\t\t\t\tfig.style.width = (100 * img.naturalWidth / img.naturalHeight * ImageWall.whRate) + '%';\r\n\t\t\t\t\t\tfig.style.paddingTop = (100 * ImageWall.whRate) + '%';\r\n\t\t\t\t\t\trateHeight = img.naturalWidth * ImageWall.whRate;\r\n\t\t\t\t\t\trateWidth = rateHeight * img.naturalWidth / img.naturalHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tfig.classList.remove('tall');\r\n\t\t\t\t\t\tfig.style.width = '100%';\r\n\t\t\t\t\t\tfig.style.paddingTop = (100 * img.naturalHeight / img.naturalWidth) + '%';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!!div._wall) {\r\n\t\t\t\t\t\tdiv._ready = true;\r\n\t\t\t\t\t\tdiv._wall._callback(rateWidth, rateHeight);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\timageLoaded ++;\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({title: '载入图片: ' + imageLoaded + ' / ' + imageCount});\r\n\t\t\t\t\tres();\r\n\t\t\t\t};\r\n\t\t\t\timg.onerror = () => {\r\n\t\t\t\t\timg._available = false;\r\n\t\t\t\t\tdiv.classList.add('failed');\r\n\r\n\t\t\t\t\timageLoaded ++;\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({title: '载入图片: ' + imageLoaded + ' / ' + imageCount});\r\n\t\t\t\t\tres();\r\n\t\t\t\t};\r\n\t\t\t})));\r\n\t\t}\r\n\t};\r\n})();"],"sourceRoot":""}