{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/jLAss/utils/datetime.js","webpack:///./src/components/navbar.vue","webpack:///./src/assets/js/granary.js","webpack:///./src/assets/jLAss/extends/symbol.js","webpack:///./src/assets/js/cacheCenter.js","webpack:///./src/assets/js/extmarkup.js","webpack:///./src/App.vue","webpack:///./src/App.vue?dff9","webpack:///./src/assets/js/cacheDB.js","webpack:///./src/assets/jLAss/index.js","webpack:///./src/assets/jLAss/extends/object.js","webpack:///./src/main.js","webpack:///./src/assets/jLAss/namespace.js","webpack:///./src/assets/jLAss/extends/string.js","webpack:///./src/assets/js/markup-footnote.js","webpack:///./src/assets/jLAss/extends/math.js","webpack:///./src/components/notification.vue","webpack:///./src/components/notification.vue?693e","webpack:///./src/assets/jLAss/extends/function.js","webpack:///./src/components/crumb.vue","webpack:///./src/components/crumb.vue?2884","webpack:///./src/assets/js/core.js","webpack:///./src/components/navbar.vue?03e1","webpack:///./src/assets/jLAss/extends/class.js","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?e819","webpack:///./src/views/Category.vue","webpack:///./src/views/Category.vue?1bd5","webpack:///./src/views/viewer.vue","webpack:///./src/views/viewer.vue?1d26","webpack:///./src/router/index.js","webpack:///./src/components/imageShowcase.vue","webpack:///./src/components/imageShowcase.vue?76f0","webpack:///./src/components/navmenubar.vue","webpack:///./src/components/navmenubar.vue?7e6e","webpack:///./src/assets/jLAss/extends/array.js","webpack:///./src/components/loading.vue","webpack:///./src/components/tail.vue","webpack:///./src/components/tail.vue?54d8","webpack:///./src/components/loading.vue?183c","webpack:///./src/components/column.vue","webpack:///./src/components/columnItem.vue","webpack:///./src/components/columnItem.vue?84e6","webpack:///./src/components/column.vue?6b40","webpack:///./src/assets/Asimov/markup.js","webpack:///./src/components/navmenuitem.vue","webpack:///./src/components/navmenuitem.vue?8b1e","webpack:///./src/assets/js/lrucache.js","webpack:///./src/assets/jLAss/extends/timer.js","webpack:///./src/assets/Asimov/extensions.js","webpack:///./src/assets/js/imageWall.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","getDTMatch","format","match","lim","def","isNaN","temp","formatString","str","len","substring","padStart","getDateString","Y","M","D","link","join","getTimeString","h","ms","timeNormalize","time","datelink","timelink","combinelink","Date","Ys","Ms","Ds","hs","mms","ss","mss","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","sDate","sTime","_","generateSiteMap","menu","map","forEach","item","subs","category","global","getPathNameList","path","needHome","SiteMap","reqs","some","entry","query","unshift","aboutMe","computed","this","methods","Devices","isMobile","querySelector","classList","add","chDataFetched","BroadcastChannel","Barn","server","DB","ready","API","DataGranary","CachedDB","onUpdate","open","log","onConnect","connect","cbs","waiters","res","waitForReady","url","notStill","timestamp","async","cache","update","axios","set","now","postMessage","clearCache","clear","Granary","source","limit","articles","comments","Array","generate","index","String","is","sort","a","b","publish","sources","getSource","owner","pages","filter","art","indexOf","info","filepath","content","sessionStorage","tasks","caches","delete","clearAllCache","addEventListener","msg","init","setSymbols","host","symbols","arguments","symb2name","str2name","symbol","split","sym","configurable","toString","__proto__","navigator","serviceWorker","channel","keys","cacheStorage","cacheKeys","sws","getRegistrations","sw","waiting","notify","title","duration","reg","register","onupdatefound","evt","MarkUp","generateRandomKey","addExtension","parse","line","doc","metas","others","CopyRight","LikeCoin","id","hAlign","vAlign","class","onClick","remove","render","version","_name","_version","conn","db","cbUpdates","cbConnects","rej","indexedDB","onupgradeneeded","cb","onsuccess","keyPath","cacheSize","objectStoreNames","contains","store","createObjectStore","createIndex","unique","size","LRUCache","tx","transaction","objectStore","put","ufc","getAll","list","del","_env","require","process","execArgv","includes","gc","noEventModules","_canThread","loadjLAssModule","mod","loadall","__dirname","Boolean","obj","BigInt","Number","isBasicType","copy","assign","duplicate","valueOf","getTime","extent","targets","reverse","Proxy","toObject","proxy","body","LifeCycle","emit","loaded","app","config","globalProperties","SiteName","SiteOwner","use","component","mount","initialized","trim","ModuleList","names","replace","pop","KeySet","fromCharCode","random","rnd","Math","floor","blank","block","buf","Buffer","from","byteLength","NoteFrame","lastUI","onEnter","ele","cn","className","substr","parentElement","innerHTML","outerHTML","html","innerText","_status","rect","getBoundingClientRect","isTop","isLeft","left","top","height","innerWidth","right","innerHeight","style","bottom","display","wait","opacity","onLeave","onTransit","css","computedStyleMap","enter","initUI","UI","querySelectorAll","inited","deactiveUI","removeEventListener","removeAttribute","InitNotes","destructe","pick","range","current","horizontal","vertial","chMessage","showMessage","props","newMsg","exit","timer","$el","header","article","Function","AsyncFunction","constructor","promisify","fn","_promised","afun","args","_original","withTimeout","start_time","tocb","todelay","towatch","prom","_res","_rej","fun_prep","promisible","funs","f","serial","fun","v","parallel","results","any","oncilize","ofn","called","waitLoop","refresh","pumplize","last_only","stack","done","pfn","dump","to","jump","currCrumb","show","$router","$route","decodeURIComponent","fullpath","js","loadCSS","onVueHyperLinkTriggered","vue","nodeName","toLowerCase","offset","offsetTop","scrollTop","scrollBy","behavior","preventDefault","encodeURIComponent","originPath","location","hash","on","FootNoteUnInited","afterMarkUp","MathJax","Hub","Config","extensions","TeX","jax","tex2jax","inlineMath","Queue","ImageWall","mutationObserver","MutationObserver","mutations","markups","mu","toc","glossary","resources","showtitle","showauthor","classname","observe","childList","subtree","changeThemeColor","color","localStorage","setItem","getItem","aboutMenu","ProtoType","kerneltype","isSubClassOf","cls","getPrototypeOf","ref","likecoin","chChangeLoadingHint","CCLicenses","LicensesContent","BY","SA","NC","ND","showLikeCoin","action","isMU","getArticle","getContent","copyright","hasContent","markup","fullParse","date","meta","addLikeCoin","$refs","adjustCopyRight","licenses","toUpperCase","crSection","sect","next","nextSibling","likeCoin","available","forbidden","hostname","every","fb","routes","Home","Category","router","history","afterEach","scrollTo","gallary","image","width","inactive","findWall","parent","tagName","img","wall","hitted","g","pic","naturalWidth","naturalHeight","showGallary","keyCode","supers","randomize","self","translate","has","equal","total","generator","origin","Uint8Array","toBuffer","buffer","alloc","toBase64","fromString","fromBuffer","fromBase64","base64","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","sub","subarray","concat","array","padEnd","pad","callPageLoaded","ch","quiter","forcequit","forceQuit","author","description","timemark","categoryName","categoryPath","filename","currColumn","chPageChanged","nameMap","Map","getName","last","components","ColumnItem","itemPerPage","showList","getColumnHeader","getCategory","placehoding","cateList","cateType","cate","getHeaderInfo","getArticleList","fullPath","SymHidden","MetaWords","PreservedKeywords","ParagraphTags","PreserveWords","ReversePreserveWords","w","LineRender","BlockRender","FinalRender","ext","isInline","level","indexes","prepare","text","spaces","pre","post","RegExp","regularize","parseLine","currLevel","Infinity","outmost","exts","changed","convertPreserves","restorePreserves","parseSection","parseLevel","sections","blocks","ctx","x","blockMap","parseLaTeX","parseCodeBlock","parseTable","linenumber","lineID","tail","totalLineCount","squeezeContents","parseListAndBlockQuote","parseHeadline","parseResources","parseParagraph","context","parsePlainParaStyle","contents","prefix","postfix","classes","align","indent","equaBlocks","prev","curr","starters","equaSection","finals","codeBlocks","codeSection","lineS","part","tableBlocks","tables","table","generateTable","end","start","blkID","blockList","inside","jnfo","qaBlock","change","generateQuotes","generateList","headlines","headers","cp","la","lb","ctxes","refs","befores","inner_changed","useless","paragraphs","imagewalls","isWall","group","first","hasHead","cfgLine","cfgID","cfg","rows","cols","num","row","parseTableRow","isNumber","col","ui","parts","quotes","ordered","lid","analyzeSections","pid","chaps","chapList","chapName","termList","isArray","para","footnotes","endnotes","en","generateGlossary","video","audio","generateResourceList","email","y","applyBlockReference","loop","pos","supStart","lastIndexOf","supEnd","applyMarkUpReference","lang","LANG","section","toced","generateTableOfContent","terms","slash","mark","count","needConvert","word","inline","getKeywords","words","getMetas","nonStop","links","keyword","god","theone","mainParser","anchors","notes","usage","key1","key2","docTree","overwrite","fullexport","renderList","lineCount","keywords","kw","terminology","reverseSection","__level","childNodes","inner","textContent","__prefix","lastPrefix","flat","reverseMix","reverseLine","node","lev","click","can_go","same_page","c1","c2","SymbUpdate","DefaultSize","secondary","k","setImmediate","callback","nextTick","delay","waitTick","queueMicrotask","waitQueue","hrtime","Clock","lable","not_node","stamps","isNode","clock","stamp","is_text","max","lab","nan","getStamp","isInner","locs","isBold","second","third","isUnder","isDelete","checker","float","queryAll","eles","createEle","stopOthers","pause","whRate","Container","avs","onplay","imageCount","imageLoaded","divs","_total","_index","_frame","_float","_left","transform","_right","_callback","_ready","div","frame","_wall","fig","containerWidth","_available","backgroundImage","rateWidth","rateHeight","paddingTop"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAGnBC,EAAqB,CACxB,MAAS,GAMNjB,EAAkB,CACrB,MAAS,GAGNK,EAAkB,GAGtB,SAASa,EAAe7B,GACvB,OAAOyB,EAAoBK,EAAI,OAAS,GAAG9B,IAAUA,GAAW,MAIjE,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAUgC,QAGnC,IAAIC,EAASL,EAAiB5B,GAAY,CACzCK,EAAGL,EACHkC,GAAG,EACHF,QAAS,IAUV,OANAlB,EAAQd,GAAUW,KAAKsB,EAAOD,QAASC,EAAQA,EAAOD,QAASN,GAG/DO,EAAOC,GAAI,EAGJD,EAAOD,QAKfN,EAAoBS,EAAI,SAAuBlC,GAC9C,IAAImC,EAAW,GAIXC,EAAY,CAAC,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,GACjJR,EAAmB5B,GAAUmC,EAASvB,KAAKgB,EAAmB5B,IACzB,IAAhC4B,EAAmB5B,IAAkBoC,EAAUpC,IACtDmC,EAASvB,KAAKgB,EAAmB5B,GAAW,IAAIqC,SAAQ,SAASC,EAASC,GAIzE,IAHA,IAAIC,EAAO,QAAU,GAAGxC,IAAUA,GAAW,OACzCyC,EAAWhB,EAAoBK,EAAIU,EACnCE,EAAmBC,SAASC,qBAAqB,QAC7CxC,EAAI,EAAGA,EAAIsC,EAAiBpC,OAAQF,IAAK,CAChD,IAAIyC,EAAMH,EAAiBtC,GACvB0C,EAAWD,EAAIE,aAAa,cAAgBF,EAAIE,aAAa,QACjE,GAAe,eAAZF,EAAIG,MAAyBF,IAAaN,GAAQM,IAAaL,GAAW,OAAOH,IAErF,IAAIW,EAAoBN,SAASC,qBAAqB,SACtD,IAAQxC,EAAI,EAAGA,EAAI6C,EAAkB3C,OAAQF,IAAK,CAC7CyC,EAAMI,EAAkB7C,GACxB0C,EAAWD,EAAIE,aAAa,aAChC,GAAGD,IAAaN,GAAQM,IAAaL,EAAU,OAAOH,IAEvD,IAAIY,EAAUP,SAASQ,cAAc,QACrCD,EAAQF,IAAM,aACdE,EAAQE,KAAO,WACfF,EAAQG,OAASf,EACjBY,EAAQI,QAAU,SAASC,GAC1B,IAAIC,EAAUD,GAASA,EAAME,QAAUF,EAAME,OAAOC,KAAOjB,EACvDkB,EAAM,IAAIC,MAAM,qBAAuB5D,EAAU,cAAgBwD,EAAU,KAC/EG,EAAIE,KAAO,wBACXF,EAAIH,QAAUA,SACP5B,EAAmB5B,GAC1BkD,EAAQY,WAAWC,YAAYb,GAC/BX,EAAOoB,IAERT,EAAQV,KAAOC,EAEf,IAAIuB,EAAOrB,SAASC,qBAAqB,QAAQ,GACjDoB,EAAKC,YAAYf,MACfgB,MAAK,WACPtC,EAAmB5B,GAAW,MAMhC,IAAImE,EAAqBxD,EAAgBX,GACzC,GAA0B,IAAvBmE,EAGF,GAAGA,EACFhC,EAASvB,KAAKuD,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAI/B,SAAQ,SAASC,EAASC,GAC3C4B,EAAqBxD,EAAgBX,GAAW,CAACsC,EAASC,MAE3DJ,EAASvB,KAAKuD,EAAmB,GAAKC,GAGtC,IACIC,EADAC,EAAS3B,SAASQ,cAAc,UAGpCmB,EAAOC,QAAU,QACjBD,EAAOE,QAAU,IACb/C,EAAoBgD,IACvBH,EAAOI,aAAa,QAASjD,EAAoBgD,IAElDH,EAAOZ,IAAM7B,EAAe7B,GAG5B,IAAI2E,EAAQ,IAAIf,MAChBS,EAAmB,SAAUd,GAE5Be,EAAOhB,QAAUgB,EAAOjB,OAAS,KACjCuB,aAAaJ,GACb,IAAIK,EAAQlE,EAAgBX,GAC5B,GAAa,IAAV6E,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYvB,IAAyB,SAAfA,EAAMH,KAAkB,UAAYG,EAAMH,MAChE2B,EAAUxB,GAASA,EAAME,QAAUF,EAAME,OAAOC,IACpDiB,EAAMK,QAAU,iBAAmBhF,EAAU,cAAgB8E,EAAY,KAAOC,EAAU,IAC1FJ,EAAMM,KAAO,iBACbN,EAAMvB,KAAO0B,EACbH,EAAMnB,QAAUuB,EAChBF,EAAM,GAAGF,GAEVhE,EAAgBX,QAAWkF,IAG7B,IAAIV,EAAUW,YAAW,WACxBd,EAAiB,CAAEjB,KAAM,UAAWK,OAAQa,MAC1C,MACHA,EAAOhB,QAAUgB,EAAOjB,OAASgB,EACjC1B,SAASqB,KAAKC,YAAYK,GAG5B,OAAOjC,QAAQ+C,IAAIjD,IAIpBV,EAAoB4D,EAAIxE,EAGxBY,EAAoB6D,EAAI3D,EAGxBF,EAAoB8D,EAAI,SAASxD,EAASkD,EAAMO,GAC3C/D,EAAoBgE,EAAE1D,EAASkD,IAClC1E,OAAOmF,eAAe3D,EAASkD,EAAM,CAAEU,YAAY,EAAMC,IAAKJ,KAKhE/D,EAAoBoE,EAAI,SAAS9D,GACX,qBAAX+D,QAA0BA,OAAOC,aAC1CxF,OAAOmF,eAAe3D,EAAS+D,OAAOC,YAAa,CAAEC,MAAO,WAE7DzF,OAAOmF,eAAe3D,EAAS,aAAc,CAAEiE,OAAO,KAQvDvE,EAAoBwE,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQvE,EAAoBuE,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK7F,OAAO8F,OAAO,MAGvB,GAFA5E,EAAoBoE,EAAEO,GACtB7F,OAAOmF,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOvE,EAAoB8D,EAAEa,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR3E,EAAoB+E,EAAI,SAASxE,GAChC,IAAIwD,EAASxD,GAAUA,EAAOmE,WAC7B,WAAwB,OAAOnE,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAP,EAAoB8D,EAAEC,EAAQ,IAAKA,GAC5BA,GAIR/D,EAAoBgE,EAAI,SAASgB,EAAQC,GAAY,OAAOnG,OAAOC,UAAUC,eAAeC,KAAK+F,EAAQC,IAGzGjF,EAAoBK,EAAI,IAGxBL,EAAoBkF,GAAK,SAAShD,GAA2B,MAApBiD,QAAQjC,MAAMhB,GAAYA,GAEnE,IAAIkD,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWjG,KAAK2F,KAAKM,GAC5CA,EAAWjG,KAAOf,EAClBgH,EAAaA,EAAWG,QACxB,IAAI,IAAI5G,EAAI,EAAGA,EAAIyG,EAAWvG,OAAQF,IAAKP,EAAqBgH,EAAWzG,IAC3E,IAAIU,EAAsBiG,EAI1B/F,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,8DClQT,MAAM+F,EAAa,CAACC,EAAQC,EAAOC,EAAKC,KACnCC,MAAMD,KAAMA,EAAMD,GACtB,IAAIG,EAAOL,EAAOC,MAAMA,GAIxB,OAFKI,EADAA,EACOA,EAAKjH,OADC+G,EAEdE,EAAOH,IAAKG,EAAOH,GAChBG,GAEFC,EAAe,CAACC,EAAKC,KAC1B,GAAY,IAARA,EAAW,MAAO,GACtB,IAAIzF,EAAIwF,EAAInH,OAGZ,OAFI2B,EAAIyF,EAAKD,EAAMA,EAAIE,UAAU1F,EAAIyF,EAAKzF,GACjCA,EAAIyF,IAAKD,EAAMA,EAAIG,SAASF,EAAK,MACnCD,GAEFI,EAAgB,CAACC,EAAGC,EAAGC,EAAGC,KAC/B,IAAIV,EAAO,GAIX,OAHIO,EAAExH,OAAS,GAAGiH,EAAK3G,KAAKkH,GACxBC,EAAEzH,OAAS,GAAGiH,EAAK3G,KAAKmH,GACxBC,EAAE1H,OAAS,GAAGiH,EAAK3G,KAAKoH,GACrBT,EAAKW,KAAKD,IAEZE,EAAgB,CAACC,EAAG/C,EAAG3D,EAAG2G,EAAIJ,KACnC,IAAIV,EAAO,GACPa,EAAE9H,OAAS,GAAGiH,EAAK3G,KAAKwH,GACxB/C,EAAE/E,OAAS,GAAGiH,EAAK3G,KAAKyE,GACxB3D,EAAEpB,OAAS,GAAGiH,EAAK3G,KAAKc,GAC5B,IAAIP,EAASoG,EAAKW,KAAKD,GAEvB,OADII,EAAG/H,OAAS,IAAGa,GAAU,IAAMkH,GAC5BlH,GAEFmH,EAAgB,CAACC,EAAMrB,EAAO,iBAAkBsB,EAAS,IAAKC,EAAS,IAAKC,EAAY,OAC7FH,EAAOA,GAAQ,IAAII,KAGnB,IAAIC,EAAK3B,EAAWC,EAAQ,KAAM,EAAG,GACjC2B,EAAK5B,EAAWC,EAAQ,KAAM,EAAG,GACjC4B,EAAK7B,EAAWC,EAAQ,KAAM,EAAG,GACjC6B,EAAK9B,EAAWC,EAAQ,KAAM,EAAG,GACjC8B,EAAM/B,EAAWC,EAAQ,KAAM,EAAG,GAClC+B,EAAKhC,EAAWC,EAAQ,KAAM,EAAG,GACjCgC,EAAMjC,EAAWC,EAAQ,KAAM,GAE/BY,EAAIN,EAAae,EAAKY,UAAY,KAAO,GAAIP,GAC7Cb,EAAIP,EAAae,EAAKa,WAAa,EAAI,GAAIP,GAC3Cb,EAAIR,EAAae,EAAKc,UAAY,GAAIP,GACtCV,EAAIZ,EAAae,EAAKe,WAAa,GAAIP,GACvC1D,EAAImC,EAAae,EAAKgB,aAAe,GAAIP,GACzCtH,EAAI8F,EAAae,EAAKiB,aAAe,GAAIP,GACzCZ,EAAKb,EAAae,EAAKkB,kBAAoB,GAAIP,GAE/CQ,EAAQ7B,EAAcC,EAAGC,EAAGC,EAAGQ,GAC/BmB,EAAQxB,EAAcC,EAAG/C,EAAG3D,EAAG2G,EAAII,GACvC,OAAqB,IAAjBkB,EAAMrJ,OAAqBoJ,EACxBA,EAAQhB,EAAciB,GAG9BC,EAAE,SAASzB,cAAgBG,G,iDChD3B,MAAMuB,EAAkBC,IACvB,IAAIC,EAAM,GAMV,OALAD,EAAKE,QAAQ3E,IACZ,IAAI4E,EAAO,CAAE,KAAQ5E,EAAEJ,KAAM,KAAQI,EAAEjC,MACjCiC,EAAE6E,OAAMD,EAAKC,KAAOL,EAAgBxE,EAAE6E,OAC5CH,EAAI1E,EAAE8E,UAAYF,IAEZF,GAERK,EAAOC,gBAAkB,CAACC,EAAMC,GAAS,KACxC,IAAKH,EAAOI,QAAS,OAAO,KAC5B,IAAIT,EAAMK,EAAOI,QAASC,EAAO,GAAItJ,EAAS,GAkB9C,OAjBAmJ,EAAKI,KAAK,CAAC5I,EAAG1B,KACb,IAAK2J,EAAK,OAAO,EACjB,IAAIY,EAAQZ,EAAIjI,GAChB,IAAK6I,EAAO,OAAO,EACnB,IAAIV,EAAO,CAAEhF,KAAM0F,EAAM1F,MACzBwF,EAAK7J,KAAKkB,GACS,SAAf6I,EAAMvH,KACT6G,EAAKK,KAAO,IAAMG,EAAKvC,KAAK,KAEL,WAAfyC,EAAMvH,MAAoC,SAAfuH,EAAMvH,MAAkC,WAAfuH,EAAMvH,OAClE6G,EAAKK,KAAO,YACZL,EAAKW,MAAQ,CAACtF,EAAEmF,EAAKvC,KAAK,OAE3B6B,EAAMY,EAAMT,KACZ/I,EAAOP,KAAKqJ,KAETM,GAAUpJ,EAAO0J,QAAQ,CAAE5F,KAAM,KAAMqF,KAAM,MAC1CnJ,GAGO,QACd8D,KAAM,SACN,OACC,MAAO,CACN6E,KAAM,CACR,CACC,KAAQ,KACR,KAAQ,SACR,SAAY,QACZ,KAAQ,CACP,CACC,KAAQ,OACR,KAAQ,SACR,SAAY,aAEb,CACC,KAAQ,OACR,KAAQ,SACR,SAAY,WAEb,CACC,KAAQ,KACR,KAAQ,SACR,SAAY,WAIf,CACC,KAAQ,OACR,KAAQ,SACR,SAAY,UACZ,KAAQ,CACP,CACC,KAAQ,KACR,KAAQ,SACR,SAAY,OACZ,KAAQ,CACP,CACC,KAAQ,OACR,KAAQ,SACR,SAAY,eAEb,CACC,KAAQ,KACR,KAAQ,SACR,SAAY,UAEb,CACC,KAAQ,KACR,KAAQ,SACR,SAAY,cAIf,CACC,KAAQ,KACR,KAAQ,SACR,SAAY,UACZ,KAAQ,CACP,CACC,KAAQ,QACR,KAAQ,SACR,SAAY,WAEb,CACC,KAAQ,OACR,KAAQ,SACR,SAAY,SAEb,CACC,KAAQ,OACR,KAAQ,SACR,SAAY,kBAEb,CACC,KAAQ,OACR,KAAQ,SACR,SAAY,kBAEb,CACC,KAAQ,KACR,KAAQ,SACR,SAAY,aAIf,CACC,KAAQ,QACR,KAAQ,SACR,SAAY,OAEb,CACC,KAAQ,OACR,KAAQ,SACR,SAAY,QAIf,CACC,KAAQ,OACR,KAAQ,SACR,SAAY,QACZ,KAAQ,CACP,CACC,KAAQ,KACR,KAAQ,SACR,SAAY,UAEb,CACC,KAAQ,KACR,KAAQ,SACR,SAAY,SAEb,CACC,KAAQ,KACR,KAAQ,SACR,SAAY,eAIf,CACC,KAAQ,OACR,KAAQ,SACR,SAAY,QACZ,KAAQ,CACP,CACC,KAAQ,YACR,KAAQ,OACR,SAAY,eAEb,CACC,KAAQ,WACR,KAAQ,OACR,SAAY,UAEb,CACC,KAAQ,WACR,KAAQ,OACR,SAAY,gBAIf,CACC,KAAQ,OACR,KAAQ,SACR,SAAY,YACZ,KAAQ,CACP,CACC,KAAQ,cACR,KAAQ,OACR,SAAY,aAEb,CACC,KAAQ,MACR,KAAQ,OACR,SAAY,UAEb,CACC,KAAQ,eACR,KAAQ,OACR,SAAY,aAEb,CACC,KAAQ,cACR,KAAQ,OACR,SAAY,kBAIf,CACC,KAAQ,MACR,KAAQ,SACR,SAAY,UACZ,KAAQ,CACP,CACC,KAAQ,MACR,KAAQ,OACR,SAAY,GACZ,KAAQ,CACP,CACC,KAAQ,UACR,KAAQ,OACR,SAAY,gBAEb,CACC,KAAQ,UACR,KAAQ,OACR,SAAY,mBAIf,CACC,KAAQ,KACR,KAAQ,OACR,SAAY,GACZ,KAAQ,CACP,CACC,KAAQ,aACR,KAAQ,OACR,SAAY,UAEb,CACC,KAAQ,aACR,KAAQ,OACR,SAAY,cAOfgB,QAAS,YAGXC,SAAU,CACT,YACC,IAAIjB,EAAO,CACV,CACC7E,KAAM,KACN7B,KAAM,SACN+G,SAAU,QACVD,KAAM,CACV,CACC,KAAQ,IACR,KAAQ,SACR,SAAY,SAEb,CACC,KAAQ,IACR,KAAQ,SACR,SAAY,UAEb,CACC,KAAQ,IACR,KAAQ,SACR,SAAY,UAIV,CACCjF,KAAM,KACN7B,KAAM,OACN+G,SAAU,UAoBZ,OAjBMa,KAAKF,SACVhB,EAAK,GAAK,CACT7E,KAAM,KACN7B,KAAM,OACN+G,SAAU,GACVD,KAAM,CAACJ,EAAK,KAEbA,EAAK,GAAGI,KAAKW,QAAQ,CACpB5F,KAAM,KACN7B,KAAM,OACN+G,SAAUa,KAAKF,UAEhBhB,EAAK,GAAGI,KAAK,GAAGjF,KAAO,MAGvB6E,EAAK,GAAG7E,KAAO,KAET6E,IAGT,UACCM,EAAOI,QAAUX,EAAgBmB,KAAKlB,OAEvCmB,QAAS,CACR,UACMC,QAAQC,UACbxI,SAASyI,cAAc,WAAWC,UAAUC,IAAI,a,yCChUnD,MAAMC,EAAgB,IAAIC,iBAAiB,cAErCC,EAAO,CACZC,OAAQ,GACRC,GAAI,KACJC,OAAO,EACPC,IAAK,OACLC,YAAa,eACb,aACCL,EAAKE,GAAK,IAAII,SAAS,UAAW,GAClCN,EAAKE,GAAGK,SAAS,KAChBP,EAAKE,GAAGM,KAAK,OAAQ,MAAO,IAC5BrF,QAAQsF,IAAI,yCAEbT,EAAKE,GAAGQ,UAAU,KACjBvF,QAAQsF,IAAI,iDAEPT,EAAKE,GAAGS,UACdX,EAAKG,OAAQ,EAEb,IAAIS,EAAM,IAAIZ,EAAKa,SACnBb,EAAKa,QAAU,GACfD,EAAIrC,QAAQuC,GAAOA,MAEpBD,QAAS,GACTE,aAAc,IAAM,IAAInK,QAAQkK,IAC/B,GAAId,EAAKG,MAAO,OAAOW,IACvBd,EAAKa,QAAQ1L,KAAK2L,KAEnB,IAAKE,EAAKC,GAAS,EAAOC,EAAU,GACnC,OAAO,IAAItK,QAAQuK,UACbnB,EAAKG,aACHH,EAAKe,eAEZ,IAAIK,QAAcpB,EAAKE,GAAG/F,IAAI,OAAQ6G,GACtC,KAAMI,IACLN,EAAIM,EAAM/M,MACJ4M,GAAYC,GAAaE,EAAMC,SAFtC,CAIA,IAAIhN,EACJ,IACCA,QAAaiN,MAAMnH,IAAI6F,EAAKC,OAASe,GAEtC,MAAO9I,GACN7D,EAAO,KACP8G,QAAQjC,MAAMhB,GAET7D,IAAMA,EAAOA,EAAKA,MAClBA,UACC2L,EAAKE,GAAGqB,IAAI,OAAQP,EAAK,CAAC3M,OAAMgN,OAAQH,GAAahE,KAAKsE,QAC1DJ,GACLtB,EAAc2B,YAAY,CAAET,MAAK3M,UAG9B+M,GAAON,EAAIzM,OAGlB,sBACC2L,EAAKE,GAAGwB,WAAW,cACb1B,EAAKE,GAAGyB,MAAM,UAKtBtG,OAAOuG,QAAU,CAChB,gBAAiBC,EAAQC,GACxB,IAAIpM,EAAS,CAAEqM,SAAU,GAAIC,SAAU,IAUvC,aATMpL,QAAQ+C,IAAIsI,MAAMC,SAASJ,EAAQ,GAAGxD,IAAI6C,UAC/C,IAAIH,EAAMhB,EAAKI,IAAM,IAAMyB,EAAS,IAAMM,EAAQ,QAC9CrI,QAAUkG,EAAK7F,IAAI6G,EAAKc,IAAUK,GAClCC,OAAOC,GAAGvI,KACdpE,EAAOqM,SAAS5M,QAAQ2E,EAAEiI,UAC1BrM,EAAOsM,SAAS7M,QAAQ2E,EAAEkI,cAE3BtM,EAAOqM,SAASO,KAAK,CAACC,EAAGC,IAAMA,EAAEC,QAAUF,EAAEE,SAC7C/M,EAAOsM,SAASM,KAAK,CAACC,EAAGC,IAAMA,EAAEC,QAAUF,EAAEE,SACtC/M,GAER,kBAAmBgJ,GAClB,IAAIgE,QAAgB1C,EAAK7F,IAAI6F,EAAKI,IAAM,iBAAiB,GACrD/L,EAAO,GACX,OAAKqO,GAAYA,EAAQA,eACnB9L,QAAQ+C,IAAI+I,EAAQA,QAAQpE,IAAI6C,UACrC,IAAIrH,QAAU8H,QAAQe,UAAUd,EAAOe,MAAOf,EAAOgB,OACrD/I,EAAIA,EAAEiI,SAASe,OAAOC,GAAsC,IAA/BA,EAAIT,KAAKU,QAAQtE,IAC9CrK,EAAKc,QAAQ2E,MAEdzF,EAAKiO,KAAK,CAACC,EAAGC,IAAMA,EAAEC,QAAUF,EAAEE,SAC3BpO,GAPkCA,GAS1C,sBAAuBqK,GACtB,IAAIgE,QAAgB1C,EAAK7F,IAAI6F,EAAKI,IAAM,iBAAiB,GACzDsC,EAAUA,GAAW,GACrBA,EAAQrB,OAASqB,EAAQrB,QAAU,EAEnC,IAIIhN,EAJA4O,EAAOjD,EAAKK,YAAc,IACxB3B,IAAUuE,EAAOA,EAAOvE,EAAW,KACzCuE,GAAc,UAGd,IACC5O,QAAa2L,EAAK7F,IAAI8I,GAAM,EAAMP,EAAQrB,QAC1ChN,EAASA,GAAc,GAExB,MACCA,EAAO,GAER,OAAOA,GAER,iBAAkB6O,EAAUhC,EAAU,GACrC,GAAIA,GAAa,EAAG,CACnB,IAAIwB,QAAgB1C,EAAK7F,IAAI6F,EAAKI,IAAM,iBAAiB,GACzDsC,EAAUA,GAAW,GACrBxB,EAAYwB,EAAQrB,QAAU,EAI/B,IAAI8B,EADJD,EAAWlD,EAAKK,YAAc,IAAM6C,EAEpC,IACCC,QAAgBnD,EAAK7F,IAAI+I,GAAU,EAAMhC,GACzCiC,EAAYA,GAAoB,GAEjC,MACCA,EAAU,cAEX,OAAOA,GAER,iBAAkBD,EAAUjC,GAAS,GACpC,GAAIA,EAAU,CACb,IAAIyB,QAAgB1C,EAAK7F,IAAI6F,EAAKI,IAAM,iBAAiB,GACzDsC,EAAUA,GAAW,GACrBxB,UAAYwB,EAAQrB,QAAU,EAG/B,IAAI8B,EACJ,IACCA,QAAgBnD,EAAK7F,IAAI+I,EAAUjC,EAAUC,WAC7CiC,EAAYA,GAAoB,GAEjC,MAAOjL,GACNiL,EAAU,cAEX,OAAOA,GAER,sBACCC,eAAezB,QACf,IAAI0B,EAAQ,CACXC,OAAOC,OAAO,iBACdvD,EAAKwD,uBAEA5M,QAAQ+C,IAAI0J,KAIpBvD,EAAc2D,iBAAiB,UAAWC,IACzCvI,QAAQsF,IAAI,gBAAkBiD,EAAIrP,KAAK2M,OAExChB,EAAK2D,Q,mBCrJLtJ,OAAOkH,IAAMlH,OAAOuJ,WAAa,SAAUC,EAAMC,GAC5C1B,OAAOC,GAAGwB,IACbC,EAAU,GAAGxF,IAAIrJ,KAAK8O,UAAWpP,GAAKA,GACtCkP,EAAO,MAEC5B,MAAMI,GAAGwB,KAAUC,IAC3BA,EAAUD,EACVA,EAAO,MAERA,EAAOA,GAAQ,GACf,IAAIG,EAAY,GACZC,EAAW,GAkBf,OAjBAH,EAAQvF,QAAQ2F,IAEf,GADAA,EAASA,EAAOC,MAAM,KACA,IAAlBD,EAAOrP,OAAX,CACIqP,EAAOrP,OAAS,IAAGqP,EAAO,GAAKA,EAAO,IAC1C,IAAI1K,EAAO0K,EAAO,GAClBA,EAASA,EAAO,GAChB,IAAIE,EAAM/J,OAAO6J,GACjBF,EAAUI,GAAO5K,EACjByK,EAASC,GAAU1K,EACnB1E,OAAOmF,eAAe4J,EAAMK,EAAQ,CACnC3J,MAAO6J,EACPC,cAAc,EACdnK,YAAY,OAGd2J,EAAKS,SAAWJ,GAAUF,EAAUE,IAAWD,EAASC,IAAW,iBACnEpP,OAAOmF,eAAe4J,EAAM,WAAY,CAAE3J,YAAY,IAC/C2J,GAERxJ,OAAOgI,GAAK6B,GAAW7J,OAAOkK,YAAclK,OAAOtF,WAAiC,kBAAXmP,G,0CCvCzE,WACC,IAAKM,UAAUC,cAAe,OAE9B,MAAMC,EAAU,IAAI3E,iBAAiB,oBAKrC,GAJA2E,EAAQjB,iBAAiB,UAAWC,IACnCvI,QAAQsF,IAAI,iBAAmBiD,EAAIrP,KAAK2M,IAAM,KAAO0C,EAAIrP,KAAK6M,UAAY,OAGrE7F,OAAOiI,OAAQ,CACpB,IAAIqB,QAAarB,OAAOqB,OACpBA,EAAK9P,OAAS,GACjB8P,EAAKpG,QAAQ4C,UACZ,IAAIyD,QAAqBtB,OAAO9C,KAAK3F,GACjCgK,QAAkBD,EAAaD,OACnCxJ,QAAQsF,IAAI,SAAW5F,EAAM,KAAOgK,EAAUhQ,UAKjD,IACC,IAAIiQ,QAAYN,UAAUC,cAAcM,mBACxC5J,QAAQsF,IAAI,mBAAqBqE,EAAIjQ,QACrC,IAAK,IAAImQ,KAAMF,EACRE,EAAGC,UACR9J,QAAQsF,IAAI,2BACZyE,OAAO,CACNC,MAAO,cACP5L,QAAS,kCACT6L,SAAU,IACVzN,KAAM,UAKV,MAAOO,GACNiD,QAAQjC,MAAM,oBAAqBhB,GAGpC,IACC,IAAImN,QAAYb,UAAUC,cAAca,SAAS,cACjDD,EAAIE,cAAiBC,IACpBA,EAAIxN,OAAOqJ,UAEZlG,QAAQsF,IAAI,sBAA0B4E,EAAM,KAAO,OAEpD,MAAOnN,GACNiD,QAAQjC,MAAM,mBAAoBhB,KA9CpC,I,qBCA0BuN,OAAOC,kBAGjCD,OAAOE,aAAa,CACnBnM,KAAM,UACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClB,IAAI5H,EAAQmK,EAAKnK,MAAM,4BACvB,OAAMA,GACLoK,EAAIC,MAAMC,OAASF,EAAIC,MAAMC,QAAU,GACvCF,EAAIC,MAAMC,OAAOC,UAAYvK,EAAM,GAC5B,CAAC,IAAI,KAEbA,EAAQmK,EAAKnK,MAAM,2BACbA,GACLoK,EAAIC,MAAMC,OAASF,EAAIC,MAAMC,QAAU,GACvCF,EAAIC,MAAMC,OAAOE,SAAWxK,EAAM,GAC3B,CAAC,IAAI,IAEN,CAACmK,GAAM,MAEb,GAAI,I,sFCfDM,GAAG,a,EAGR,eAA8B,OAAzBA,GAAG,iBAAe,S,wQAPvB,eAAS,GACT,eAAW,GACX,eAA4C,GAA9BC,OAAO,QAAQC,OAAO,QACpC,eAAiB,GACjB,eAEM,MAFN,EAEM,CADL,eAAc,KAEf,EACA,eAAW,GACX,eAA2C,OAAtCC,MAAM,SAAU,QAAK,oBAAE,EAAAC,SAAA,EAAAA,WAAA,O,IAId,OACd/M,KAAM,MACNgG,QAAS,CACR,UACCtI,SAASyI,cAAc,WAAWC,UAAU4G,OAAO,WCftD,EAAOC,OAASA,EAED,U,4CCJf,MACC,MAAMnG,EACL,YAAa9G,EAAMkN,GAClBnH,KAAKoH,MAAQnN,EACb+F,KAAKqH,SAAWF,EAChBnH,KAAKsH,KAAO,KACZtH,KAAKuH,GAAK,KACVvH,KAAKwH,UAAY,GACjBxH,KAAKyH,WAAa,GAClBzH,KAAK+D,OAAS,GAEf,UACC,OAAO,IAAI1M,QAAQ,CAACkK,EAAKmG,KACxB1H,KAAKsH,KAAOK,UAAU1G,KAAKjB,KAAK/F,KAAM+F,KAAKmH,SAC3CnH,KAAKsH,KAAKM,gBAAkB3B,IAC3BjG,KAAKuH,GAAKvH,KAAKsH,KAAKnR,OACpB6J,KAAKwH,UAAUxI,QAAQ6I,GAAMA,EAAG7H,QAEjCA,KAAKsH,KAAKQ,UAAY7B,IACrBjG,KAAKuH,GAAKvH,KAAKsH,KAAKnR,OACpB6J,KAAKyH,WAAWzI,QAAQ6I,GAAMA,EAAG7H,OACjCuB,EAAIvB,OAELA,KAAKsH,KAAKhP,QAAUK,IACnB+O,EAAI/O,MAIP,UAAWkP,GACV7H,KAAKyH,WAAW7R,KAAKiS,GAEtB,SAAUA,GACT7H,KAAKwH,UAAU5R,KAAKiS,GAErB,KAAM5N,EAAM8N,EAAQ,KAAMC,EAAU,KACnC,IAAKhI,KAAKuH,GAAGU,iBAAiBC,SAASjO,GAAO,CAC7C,IAAIkO,EAAQnI,KAAKuH,GAAGa,kBAAkBnO,EAAM,CAAE8N,YAC9CI,EAAME,YAAYN,EAASA,EAAS,CAAEO,QAAQ,KAGhD,MAAOrO,EAAMsO,GACPvI,KAAK+D,OAAO9J,KAChB+F,KAAK+D,OAAO9J,GAAQ,IAAIuO,SAASD,IAGnC,IAAKJ,EAAO7M,EAAKN,GAChB,OAAO,IAAI3D,QAAQ,CAACkK,EAAKmG,KACxB,IAAIe,EAAKzI,KAAKuH,GAAGmB,YAAY,CAACP,GAAQ,aACjCM,GAAIf,EAAI,IAAI9O,MAAM,sCAAwCuP,IAC/D,IAAItG,EAAQ4G,EAAGE,YAAYR,GACtBA,GAAOT,EAAI,IAAI9O,MAAM,sCAAwCuP,IAElE,IAAIlJ,EAAO,GACXA,EAAK4C,EAAMkG,SAAWzM,EACtB2D,EAAKnK,KAAOkG,EACZ,IAAI7E,EAAS0L,EAAM+G,IAAI3J,GACvB9I,EAAO2R,UAAY7B,IAClB,IAAI4C,EAAM7I,KAAK+D,OAAOoE,GAChBU,GAAKA,EAAI7G,IAAI1G,EAAKN,GACxBuG,EAAI0E,EAAI9P,SAETA,EAAOmC,QAAUK,IAChB+O,EAAI/O,MAIP,IAAKwP,EAAO7M,GACX,OAAO,IAAIjE,QAAQ,CAACkK,EAAKmG,KACxB,IAAIe,EAAKzI,KAAKuH,GAAGmB,YAAY,CAACP,GAAQ,YACjCM,GAAIf,EAAI,IAAI9O,MAAM,sCAAwCuP,IAC/D,IAAItG,EAAQ4G,EAAGE,YAAYR,GACtBA,GAAOT,EAAI,IAAI9O,MAAM,sCAAwCuP,IAClE,IAE8BhS,EAF1ByM,EAAQf,EAAMe,MAAMf,EAAMkG,SAE1Bc,EAAM7I,KAAK+D,OAAOoE,GACtB,GAAMU,IACL1S,EAAS0S,EAAIjO,IAAIU,QACFpB,IAAX/D,GAAsB,OAAOoL,EAAIpL,GAGtCA,EAASyM,EAAMhI,IAAIU,GACnBnF,EAAO2R,UAAY7B,IACbA,EAAIxN,OAAOtC,OACXoL,EAAI0E,EAAIxN,OAAOtC,OAAOrB,MADHyM,OAAIrH,IAG7B/D,EAAOmC,QAAUK,IAChB+O,EAAI/O,MAIP,IAAKwP,GACJ,OAAO,IAAI9Q,QAAQ,CAACkK,EAAKmG,KACxB,IAAIe,EAAKzI,KAAKuH,GAAGmB,YAAY,CAACP,GAAQ,YACjCM,GAAIf,EAAI,IAAI9O,MAAM,sCAAwCuP,IAC/D,IAAItG,EAAQ4G,EAAGE,YAAYR,GACtBA,GAAOT,EAAI,IAAI9O,MAAM,sCAAwCuP,IAClE,IAAIvF,EAAQf,EAAMe,MAAMf,EAAMkG,SAE1B5R,EAASyM,EAAMkG,SACnB3S,EAAO2R,UAAY7B,IAClB,IAAI8C,EAAO9C,EAAIxN,OAAOtC,OACtB,IAAK4S,EAAM,OAAOxH,EAAIwH,GACtB,IAAI5S,EAAS,GACb4S,EAAK/J,QAAQC,IACZ9I,EAAO8I,EAAK4C,EAAMkG,UAAY9I,EAAKnK,OAEpCyM,EAAIpL,IAELA,EAAOmC,QAAUK,IAChB+O,EAAI/O,MAIP,IAAKwP,EAAO7M,GACX,OAAO,IAAIjE,QAAQ,CAACkK,EAAKmG,KACxB,IAAIe,EAAKzI,KAAKuH,GAAGmB,YAAY,CAACP,GAAQ,aACjCM,GAAIf,EAAI,IAAI9O,MAAM,sCAAwCuP,IAC/D,IAAItG,EAAQ4G,EAAGE,YAAYR,GACtBA,GAAOT,EAAI,IAAI9O,MAAM,sCAAwCuP,IAElE,IAAIhS,EAAS0L,EAAMmC,OAAO1I,GAC1BnF,EAAO2R,UAAY7B,IAClB,IAAI4C,EAAM7I,KAAK+D,OAAOoE,GAChBU,GAAKA,EAAIG,IAAI1N,GACnBiG,EAAI0E,EAAI9P,SAETA,EAAOmC,QAAUK,IAChB+O,EAAI/O,MAIP,MAAOwP,GACN,OAAO,IAAI9Q,QAAQ,CAACkK,EAAKmG,KACxB,IAAIe,EAAKzI,KAAKuH,GAAGmB,YAAY,CAACP,GAAQ,aACjCM,GAAIf,EAAI,IAAI9O,MAAM,sCAAwCuP,IAC/D,IAAItG,EAAQ4G,EAAGE,YAAYR,GACtBA,GAAOT,EAAI,IAAI9O,MAAM,sCAAwCuP,IAElE,IAAIhS,EAAS0L,EAAMO,QACnBjM,EAAO2R,UAAY7B,IAClB,IAAI4C,EAAM7I,KAAK+D,OAAOoE,GAChBU,GAAKA,EAAIzG,QACfb,EAAI0E,EAAI9P,SAETA,EAAOmC,QAAUK,IAChB+O,EAAI/O,MAIP,WAAYwP,GACX,IAAIU,EAAM7I,KAAK+D,OAAOoE,GACjBU,GACLA,EAAIzG,QAGL,WACC,OAAOpC,KAAKoH,MAEb,cACC,OAAOpH,KAAKqH,UAIdvL,OAAOiF,SAAWA,GAnKnB,I,wBCDA,gBAeA,IACOjF,QACLA,OAAOsD,OAAStD,OAChBsD,EAAO6J,KAAO,UACd7J,EAAO8J,QAAU,OACjB9J,EAAOpI,OAAS,CAAED,QAAS,KAE3BqI,EAAO6J,KAAO,OAEd,MAAOtQ,GACRyG,EAAO6J,KAAO,OAGTE,GAAaA,EAAQC,WAAaD,EAAQC,SAASC,SAAS,iBAAgBjK,EAAOkK,GAAK,QAUzFlK,EAAOmK,gBAGPnK,EAAOoK,WAQQ,SAAhBpK,EAAO6J,OAAiB7J,EAAOqK,gBAAkBC,IAAQC,QAAQC,EAAW,KAAOF,O,yDCzCvFG,QAAQ/G,GAAKgH,GACO,mBAARA,GACPA,aAAeD,QAGpBE,OAAOjH,GAAKgH,GACQ,kBAARA,GACPA,aAAeC,OAGpBC,OAAOlH,GAAKgH,GACQ,kBAARA,GACPA,aAAeE,OAGpBzU,OAAO0U,YAAcH,KAChBjH,OAAOC,GAAGgH,OACVD,QAAQ/G,GAAGgH,OACXC,OAAOjH,GAAGgH,OACVE,OAAOlH,GAAGgH,MACVhP,OAAOgI,GAAGgH,MAIfvU,OAAOC,UAAU0U,KAAO,WACvB,OAAO3U,OAAO4U,OAAO,GAAInK,OAE1BzK,OAAOC,UAAU4U,UAAY,WAC5B,IAAIF,EAAO,GACX,IAAK,IAAI5O,KAAO0E,KAAM,CACrB,IAAIhF,EAAQgF,KAAK1E,GACb/F,OAAO0U,YAAYjP,GACtBkP,EAAK5O,GAAON,EAAMqP,UACE,OAAVrP,QAA4Bd,IAAVc,EAC5BkP,EAAK5O,GAAON,EACFA,aAAiB2C,KAC3BuM,EAAK5O,GAAO,IAAIqC,KAAK3C,EAAMsP,WACA,kBAAVtP,GAAwBA,aAAiB3D,UAC1D6S,EAAK5O,GAAON,EAAMoP,aAGpB,OAAO7U,OAAO4U,OAAO,GAAInK,KAAMkK,IAEhC3U,OAAOC,UAAU+U,OAAS,YAAaC,GACtC,IAAIN,EAAO3U,OAAO4U,OAAO,GAAInK,MAC7BwK,EAAQC,UACRlV,OAAO4U,OAAOnK,QAASwK,EAASN,IAEjC3U,OAAOmF,eAAenF,OAAOC,UAAW,OAAQ,CAAEmF,YAAY,IAC9DpF,OAAOmF,eAAenF,OAAOC,UAAW,YAAa,CAAEmF,YAAY,IACnEpF,OAAOmF,eAAenF,OAAOC,UAAW,SAAU,CAAEmF,YAAY,IAEhEqP,OAAOxU,UAAU4U,UAAY,WAC5B,OAAc,EAAPpK,MAERzK,OAAOmF,eAAesP,OAAOxU,UAAW,YAAa,CAAEmF,YAAY,IACnEoP,OAAOvU,UAAU4U,UAAY,WAC5B,OAAc,GAAPpK,MAERzK,OAAOmF,eAAeqP,OAAOvU,UAAW,YAAa,CAAEmF,YAAY,IACnEkP,QAAQrU,UAAU4U,UAAY,WAC7B,OAAa,IAATpK,OAAqC,IAAnBA,KAAKqK,WAG5B9U,OAAOmF,eAAemP,QAAQrU,UAAW,YAAa,CAAEmF,YAAY,IAE9D+P,QACLA,MAAMC,SAAWC,IAChB,IAAIzU,EAAS,GACb,IAAK,IAAI8D,KAAQ2Q,EAAO,CACvB,IAAI5P,EAAQ4P,EAAM3Q,GACde,aAAiB0P,MACpBvU,EAAO8D,GAAQyQ,MAAMC,SAAS3P,GAG9B7E,EAAO8D,GAAQe,EAGjB,OAAO7E,K,oCCtFT,8YAwCA,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,QAERiJ,EAAO2C,MAAQ,EAAAiB,EAEX9C,QAAQC,SAAUxI,SAASkT,KAAKxK,UAAUC,IAAI,UAC7C3I,SAASkT,KAAKxK,UAAUC,IAAI,aAEjC,WACC,SAAUwK,UAAUC,KAAKC,SAAU,CAClC,MAAMC,EAAM,eAAU,QACtBA,EAAIC,OAAOC,iBAAiBC,SAAW,UACvCH,EAAIC,OAAOC,iBAAiBE,UAAY,cACxCJ,EAAIC,OAAOC,iBAAiBxE,SAAW,CAAC,GAAK,cAAc,UAAY,CAAC,iBAExEsE,EAAIK,IAAI,QACRL,EAAIM,UAAU,UAAW,QACzBN,EAAIM,UAAU,SAAU,QACxBN,EAAIM,UAAU,aAAc,QAC5BN,EAAIM,UAAU,cAAe,QAC7BN,EAAIM,UAAU,UAAW,QACzBN,EAAIM,UAAU,gBAAiB,QAC/BN,EAAIM,UAAU,QAAS,QACvBN,EAAIM,UAAU,SAAU,cAEdT,UAAUC,KAAKnK,MAAMqK,KAC9BA,EAAIK,IAAI,QAAQE,MAAM,QACtB,OAAOP,IAAMA,QAEPH,UAAUC,KAAKU,YAAYR,MArBpC,I,8CCxDA,4BACA7L,EAAOR,EAAI,CAACU,EAAMoK,KAEjB,GADApK,EAAOA,EAAKsF,MAAM,gBAAgB7F,IAAIjI,GAAKA,EAAE4U,QAAQnI,OAAOzM,GAAKA,EAAExB,OAAS,GACxEgK,EAAKhK,OAAS,EAAG,OAAO8J,EAE5B,GADAE,EAAOA,EAAKpC,KAAK,KACXwM,EAEL,OADAiC,EAAW3J,IAAI1C,EAAMoK,GACdA,EAGR,GADAA,EAAMiC,EAAW/Q,IAAI0E,GACfoK,EAAK,OAAOA,EAClB,IAAIkC,EAAQ,IAAID,EAAWvG,QAe3B,OAdAwG,EAAQA,EAAMrI,OAAO/H,GAAyB,IAApBA,EAAEiI,QAAQnE,IACpCoK,EAAM,GACNkC,EAAM5M,QAAQxD,IACb,IAAInB,EAAIsR,EAAW/Q,IAAIY,GACvBA,EAAIA,EAAEqQ,QAAQvM,EAAO,IAAK,IAC1B9D,EAAIA,EAAEoJ,MAAM,KACZ,IAAI3N,EAAIuE,EAAEsQ,MACN7Q,EAAIyO,EACRlO,EAAEwD,QAAQ3E,IACHY,EAAEZ,KAAIY,EAAEZ,GAAK,IACnBY,EAAIA,EAAEZ,KAEPY,EAAEhE,GAAKoD,IAEDqP,GAGR9K,EAAE,QAAS,M,uEC7BX,cAQA,MAAMmN,EAAS,GACf,MACC,IAAK,IAAI3W,EAAI,EAAGA,EAAI,GAAIA,IAAM2W,EAAOnW,KAAK,GAAKR,GAC/C,IAAK,IAAIA,EAAI,GAAIA,GAAK,GAAIA,IAAM2W,EAAOnW,KAAKiN,OAAOmJ,aAAa5W,IAChE,IAAK,IAAIA,EAAI,GAAIA,GAAK,IAAKA,IAAM2W,EAAOnW,KAAKiN,OAAOmJ,aAAa5W,KAHlE,GAKAyN,OAAOoJ,OAAUvP,IAChB,IAAIwP,EAAM,GACV,IAAK,IAAI9W,EAAI,EAAGA,EAAIsH,EAAKtH,IACxB8W,GAAOH,EAAOI,KAAKC,MAAML,EAAOzW,OAAS6W,KAAKF,WAE/C,OAAOC,GAERrJ,OAAOwJ,MAAQ,CAAC3P,EAAK4P,EAAQ,OAC5B,IAAIhG,EAAO,GACX,IAAK,IAAIlR,EAAI,EAAGA,EAAIsH,EAAKtH,IAAMkR,GAAQgG,EACvC,OAAOhG,GAERzD,OAAOC,GAAMrG,GACRA,aAAeoG,QACA,kBAARpG,EAGZoG,OAAOrN,UAAU0U,KAAOrH,OAAOrN,UAAU4U,UAAY,WACpD,OAAOvH,OAAO7C,MAAM+E,YAErBxP,OAAOmF,eAAemI,OAAOrN,UAAW,OAAQ,CAAEmF,YAAY,IAC9DpF,OAAOmF,eAAemI,OAAOrN,UAAW,YAAa,CAAEmF,YAAY,IAE/C,SAAhByE,EAAO6J,MACV1T,OAAOmF,eAAemI,OAAOrN,UAAW,aAAc,CACrD,MACC,IAAI+W,EAAMC,EAAOC,KAAKzM,KAAM,QAC5B,OAAOuM,EAAIG,YAEZ/R,YAAY,EACZmK,cAAc,M,mFC5ChB,MACC,IAAI6H,EAAWC,EAEf,MAAMC,EAAUjL,MAAOqE,IACtB,IAAI6G,EAAM7G,EAAIxN,OAAQsU,EAAKD,EAAIE,UAC3B/S,EAAO6S,EAAI/U,aAAa,QAC5B,GAAKkC,GAA8B,MAAtBA,EAAKgT,OAAO,EAAG,GAA5B,CACAhT,EAAOA,EAAK0C,UAAU,EAAG1C,EAAK3E,QAC9B,IAAIoO,EAAOkJ,EAAOxM,cAAc,WAAanG,EAAO,MACpD,GAAKyJ,EAAL,CACA,IAAIE,EAAUF,EAAKwJ,cAAcC,UAAUtB,QAAQnI,EAAK0J,UAAW,IAC/DC,EAAO,GAEA,gBAAPN,IACHM,EAAO,yBAA2BP,EAAIQ,UAAY,QAEnDD,GAAQ,2BAA6BzJ,EAAU,OAC/C+I,EAAUQ,UAAYE,EACtBV,EAAUY,QAAU,EAEpB,IAAIC,EAAOV,EAAIW,wBACXC,GAAQ,EAAMC,GAAS,EACvBC,EAAOJ,EAAKI,KAAO,GACnBC,EAAML,EAAKK,IAAML,EAAKM,OAAS,GAC/BF,EAA2B,GAApB9R,OAAOiS,aACjBJ,GAAS,EACTC,EAAO9R,OAAOiS,WAAaP,EAAKQ,OAE7BH,EAA2B,GAArB/R,OAAOmS,cAChBP,GAAQ,EACRG,EAAM/R,OAAOmS,YAAcT,EAAKK,KAG7BF,GACHhB,EAAUuB,MAAMN,KAAOA,EAAO,KAC9BjB,EAAUuB,MAAMF,MAAQ,KAGxBrB,EAAUuB,MAAMN,KAAO,GACvBjB,EAAUuB,MAAMF,MAAQJ,EAAO,MAE5BF,GACHf,EAAUuB,MAAML,IAAMA,EAAM,KAC5BlB,EAAUuB,MAAMC,OAAS,KAGzBxB,EAAUuB,MAAML,IAAM,GACtBlB,EAAUuB,MAAMC,OAASN,EAAM,MAEhClB,EAAUuB,MAAME,QAAU,cACpBC,KAAK,IACX1B,EAAUuB,MAAMI,QAAU,IAC1B3B,EAAUY,QAAU,KAEfgB,EAAU3M,MAAOqE,IACtB0G,EAAUuB,MAAMI,QAAU,UACpBD,KAAK,KACe,IAAtB1B,EAAUY,UACbZ,EAAUuB,MAAME,QAAU,OAC1BzB,EAAUY,QAAU,IAGhBiB,EAAY5M,MAAOqE,IACxB,IAAI6G,EAAM7G,EAAIxN,OAAQsU,EAAKD,EAAIE,UAC/B,GAAW,aAAPD,GAA2B,gBAANA,EAAqB,CAC7C,IAAI0B,EAAM3B,EAAI4B,mBACdD,EAAMA,EAAI7T,IAAI,mBAAmBmK,WACjC,IAAI4J,GAAQ,EAGZ,GAFIF,EAAIhL,QAAQ,cAAgB,IAAGkL,GAAQ,GAEvCA,EAAO,CACV,IAAI1U,EAAO6S,EAAI/U,aAAa,QAC5B,GAA0B,MAAtBkC,EAAKgT,OAAO,EAAG,GAAY,OAC/BhT,EAAOA,EAAK0C,UAAU,EAAG1C,EAAK3E,QAC9B,IAAIoO,EAAOkJ,EAAOxM,cAAc,WAAanG,EAAO,MACpD,IAAKyJ,EAAM,OACX,IAAIE,EAAUF,EAAKwJ,cAAcC,UAAUtB,QAAQnI,EAAK0J,UAAW,IAC/DC,EAAO,GAEA,gBAAPN,IACHM,EAAO,yBAA2BP,EAAIQ,UAAY,QAEnDD,GAAQ,2BAA6BzJ,EAAU,OAC/C+I,EAAUQ,UAAYE,EACtBV,EAAUY,QAAU,EAEpB,IAAIC,EAAOV,EAAIW,wBACXC,GAAQ,EAAMC,GAAS,EACvBC,EAAOJ,EAAKI,KAAO,GACnBC,EAAML,EAAKK,IAAML,EAAKM,OAAS,GAC/BF,EAA2B,GAApB9R,OAAOiS,aACjBJ,GAAS,EACTC,EAAO9R,OAAOiS,WAAaP,EAAKQ,OAE7BH,EAA2B,GAArB/R,OAAOmS,cAChBP,GAAQ,EACRG,EAAM/R,OAAOmS,YAAcT,EAAKK,KAG7BF,GACHhB,EAAUuB,MAAMN,KAAOA,EAAO,KAC9BjB,EAAUuB,MAAMF,MAAQ,KAGxBrB,EAAUuB,MAAMN,KAAO,GACvBjB,EAAUuB,MAAMF,MAAQJ,EAAO,MAE5BF,GACHf,EAAUuB,MAAML,IAAMA,EAAM,KAC5BlB,EAAUuB,MAAMC,OAAS,KAGzBxB,EAAUuB,MAAML,IAAM,GACtBlB,EAAUuB,MAAMC,OAASN,EAAM,MAEhClB,EAAUuB,MAAME,QAAU,cACpBC,KAAK,IACX1B,EAAUuB,MAAMI,QAAU,IAC1B3B,EAAUY,QAAU,OAGpBZ,EAAUuB,MAAMI,QAAU,UACpBD,KAAK,KACe,IAAtB1B,EAAUY,UACbZ,EAAUuB,MAAME,QAAU,OAC1BzB,EAAUY,QAAU,KAMlBqB,EAAS,CAACC,EAAIjP,KACbM,QAAQC,UACd0O,EAAGC,iBAAiBlP,GAAOZ,QAAQ8N,IAClC,IAAIiC,EAASjC,EAAI/U,aAAa,mBACxBgX,IACNjC,EAAI5I,iBAAiB,aAAcqK,GACnCzB,EAAI5I,iBAAiB,aAAc2I,GACnCC,EAAIpT,aAAa,mBAAmB,OAGhCsV,EAAa,CAACH,EAAIjP,KACjBM,QAAQC,UACd0O,EAAGC,iBAAiBlP,GAAOZ,QAAQ8N,IAClC,IAAIiC,EAASjC,EAAI/U,aAAa,mBACzBgX,IACLjC,EAAImC,oBAAoB,aAAcV,GACtCzB,EAAImC,oBAAoB,aAAcpC,GACtCC,EAAIoC,gBAAgB,uBAItBpT,OAAOqT,UAAYN,IAClBlC,EAAYhV,SAASyI,cAAc,kBACnCuM,EAAUY,QAAUZ,EAAUY,SAAW,EACrCX,IAAWiC,GAAQjC,GAAQwC,YAC/BxC,EAASiC,EAET,IAAIE,EAASF,EAAG9W,aAAa,aACxBgX,IACJF,EAAGnV,aAAa,aAAa,GAC7BmV,EAAG3K,iBAAiB,kBAAmBsK,IAGxCI,EAAOC,EAAI,cACXD,EAAOC,EAAI,kBAEZ/S,OAAOsT,UAAY,KAClBxC,EAAOqC,oBAAoB,kBAAmBT,GAC9CQ,EAAWH,GAAI,cACfG,EAAWH,GAAI,mBA1KjB,I,8CCQA1C,KAAKkD,KAAOtG,IACX,GAAIrG,MAAMI,GAAGiG,GAAO,CACnB,IAAI3T,EAAI+W,KAAKC,MAAMD,KAAKF,SAAWlD,EAAKzT,QACxC,OAAOyT,EAAK3T,GAER,OAAKkH,MAAMyM,GAGT,KAFCoD,KAAKF,UAAYlD,GAI1BoD,KAAKmD,MAAQ,CAACrY,EAAG4D,KACZyB,MAAMzB,KACTA,EAAI5D,EACJA,EAAI,GAEEA,EAAIkV,KAAKF,UAAYpR,EAAI5D,K,wCClB7BsY,E,4DAJH,eAA6F,OAAxFxI,MAAM,oBAAqByI,WAAY,EAAA3I,OAAS4I,QAAS,EAAA3I,OAAS,QAAK,oBAAE,EAAAE,SAAA,EAAAA,WAAA,K,iCAK/E,MAAM0I,EAAY,IAAIlP,iBAAiB,qBACvCkP,EAAUxL,iBAAiB,UAAW+B,IAChCsJ,GACLA,EAAQI,YAAY1J,EAAInR,QAEzBgH,OAAO6J,OAASxB,IACVoL,GACLA,EAAQI,YAAYxL,IAGN,OACdlK,KAAM,eACN2V,MAAO,CACN,OAAU/M,OACV,OAAUA,QAEX,QAASoI,GACR,EAAQ,QACRA,EAAIM,UAAU,eAAgBvL,OAE/B,UACCuP,EAAUvP,MAEXC,QAAS,CACR,kBAAmBkE,GAClB,IAAI0B,EAAW1B,EAAI0B,UAAY,IAC3BvK,EAAM6Q,KAAKC,MAAM,KAAcD,KAAKF,UACxC9H,EAAI7I,IAAMA,EAEV6I,EAAI2I,IAAM9M,KAAK6P,OAAO1L,GACtBA,EAAI2I,IAAIgD,KAAOlO,UACRuC,EAAI4L,OAAOnW,aAAauK,EAAI4L,cAC3B5L,EAAI4L,MAEX5L,EAAI2I,IAAIzM,UAAU4G,OAAO,cACnBoH,KAAK,KACXrO,KAAKgQ,IAAIjX,YAAYoL,EAAI2I,YAElB3I,EAAI2I,IAAIgD,YACR3L,EAAI2I,KAEZ9M,KAAKgQ,IAAI/W,YAAYkL,EAAI2I,WACnBuB,OACNlK,EAAI2I,IAAIzM,UAAUC,IAAI,QAEtB6D,EAAI4L,MAAQ5V,WAAWgK,EAAI2I,IAAIgD,KAAMjK,IAEtC,OAAQ1B,GACP,IAAI2I,EAAMnV,SAASQ,cAAc,WAGjC,GAFA2U,EAAIpT,aAAa,MAAOyK,EAAI7I,KAC5BwR,EAAIpT,aAAa,OAAQyK,EAAI/L,MAAQ,WAC/B+L,EAAIyB,MAAO,CAChB,IAAIqK,EAAStY,SAASQ,cAAc,UACpC8X,EAAO3C,UAAYnJ,EAAIyB,MACvBkH,EAAI7T,YAAYgX,GAEjB,GAAM9L,EAAInK,QAAS,CAClB,IAAIkW,EAAUvY,SAASQ,cAAc,WACrC+X,EAAQ5C,UAAYnJ,EAAInK,QACxB8S,EAAI7T,YAAYiX,GAEjB,OAAOpD,GAER,QAAS7G,GACR,IAAI6G,EAAM7G,EAAIxN,OACTqU,GACAA,EAAIgD,MACThD,EAAIgD,UCtEP,EAAO5I,OAASA,EAED,U,wBCLf,YASAiJ,SAASrN,GAAKgH,GAAOA,aAAeqG,SACpC/Q,EAAOgR,eAAgB,aAAiBC,YACxCD,cAActN,GAAKgH,GAAOA,aAAesG,cAOzC,MAAME,EAAaC,IAClB,KAAMA,aAAcJ,UAAW,OAAO,KACtC,GAAMI,EAAGC,UAAW,OAAOD,EAC3B,IAAIE,EAAO,IAAIC,IAAS,IAAIrZ,QAAQ,CAACkK,EAAKmG,KACzC,IACC6I,KAAMG,EAAMnP,EAAKmG,GAGlB,MAAO/O,GACN+O,EAAI/O,MAKN,OAFA8X,EAAKD,WAAY,EACjBC,EAAKE,UAAYJ,EACVE,GAERH,EAAUM,YAAeL,IACxB,KAAMA,aAAcJ,UAAW,OAAO,KACtC,GAAMI,EAAGC,UAAW,OAAOD,EAC3B,IAAIE,EAAO,IAAIC,KACd,IAAIG,EAAuDnJ,EAA3CoJ,EAAO,KAAMC,GAAW,EAAGC,EAAU,KACjDC,EAAO,IAAI5Z,QAAQ,CAAC6Z,EAAMC,KAC7BzJ,EAAMyJ,EACN,IAAI5P,EAAM,IAAImP,KACPM,GAASpX,aAAaoX,GAC5BA,EAAU,KACVE,KAAQR,IAET,IACCG,GAAa,IAAIlT,MAAO2M,UACxBiG,KAAMG,EAAMnP,EAAKmG,GAGlB,MAAO/O,GACN+O,EAAI/O,MA0BN,OAvBAsY,EAAKzX,QAAU,IAAIkX,KAElB,GADIA,EAAK,aAAc1G,SAAQ0G,EAAK,GAAe,EAAVA,EAAK,IACzCpU,MAAMoU,EAAK,IAgBPA,EAAK,aAAcP,WAC3BW,EAAOJ,EAAK,SAdZ,GAFIA,EAAK,aAAcP,WAAUW,EAAOJ,EAAK,IAC7CK,EAAUL,EAAK,IAAM,EAAIA,EAAK,IAAM,EAChCK,EAAU,GAAOC,EACpBpX,aAAaoX,GACbA,EAAU,UAEN,GAAID,GAAW,EAAG,CAChBC,GAASpX,aAAaoX,GAC5B,IAAIxV,GAAI,IAAImC,MAAO2M,UACnB0G,EAAU7W,WAAW,KACd2W,GAAMA,IACZpJ,EAAI,IAAI9O,MAAM,cACZmY,GAAWvV,EAAIqV,IAMpB,OAAOI,GAEDA,GAIR,OAFAR,EAAKD,WAAY,EACjBC,EAAKE,UAAYJ,EACVE,GAGR,MAAMW,EAAW,CAACC,KAAeX,KAChC,IAAIY,EAAMxc,EAAM+S,EAkBhB,OAjBI6I,EAAK,aAAchO,OACtB4O,EAAOZ,EAAK,GACZ5b,EAAO4b,EAAK,GACZ7I,EAAK6I,EAAK,GACL7I,IACJA,EAAK/S,EACLA,EAAO,QAIR+S,EAAK6I,EAAK5E,MACqChX,EAA3C4b,EAAKA,EAAKpb,OAAS,aAAc6a,SAAiB,KAC1CO,EAAK5E,MACjBwF,EAAOZ,GAEUY,EAAZD,EAAmBC,EAAKvS,IAAIwS,GAAKjB,EAAUiB,IACrCD,EAAKvS,IAAIwS,GAAKA,EAAEZ,WAAaY,GAClC,CAACD,EAAMxc,EAAM+S,IAGrByI,EAAU5Z,EAAI4Z,EAAUkB,OAASlB,EAAU1O,SAAU8O,KACpD,IAAKY,EAAMxc,EAAMyM,GAAO6P,GAAS,KAASV,GAC1C,IAAK,IAAIe,KAAOH,EAAM,CACrB,IAAII,EACqCA,EAA5B,OAAT5c,QAA0BoF,IAATpF,QAA8B2c,UACpCA,EAAI3c,QACToF,IAANwX,IAAiB5c,EAAO4c,GAE7BnQ,EAAIzM,KAELwb,EAAUxZ,EAAIwZ,EAAUqB,SAAWrB,EAAU1O,SAAU8O,KACtD,IAAKY,EAAMxc,EAAMyM,GAAO6P,GAAS,KAASV,GACtC5M,EAAQwN,EAAKhc,OAAQsc,EAAU,GACnCN,EAAKtS,QAAQ4C,MAAO2P,EAAGnc,KACtB,IAAIsc,EACqCA,EAA5B,OAAT5c,QAA0BoF,IAATpF,QAA8Byc,UACpCA,EAAEzc,GACjB8c,EAAQxc,GAAKsc,EACb5N,IACIA,EAAQ,GACZvC,EAAIqQ,OAGNtB,EAAUtN,EAAIsN,EAAUuB,IAAMvB,EAAU1O,SAAU8O,KACjD,IAAKY,EAAMxc,EAAMyM,GAAO6P,GAAS,KAASV,GAC1CY,EAAKtS,QAAQ4C,MAAO2P,EAAGnc,KACtB,IAAIsc,EACqCA,EAA5B,OAAT5c,QAA0BoF,IAATpF,QAA8Byc,UACpCA,EAAEzc,GACjByM,EAAImQ,OAINtS,EAAOkR,UAAYH,SAASG,UAAYA,EAMxClR,EAAO0S,SAAW3B,SAAS2B,SAAWvB,IACrC,IAAoBvV,EAAO+W,EAAvBC,GAAS,EAsBb,OApBCD,EADGxB,EAAGC,UACA,IAAIE,IAAS,IAAIrZ,QAAQuK,MAAOL,EAAKmG,KAC1C,GAAIsK,EAGH,aAFMC,gBACN1Q,EAAIvG,GAGLgX,GAAS,EACThX,QAAcuV,KAAMG,GACpBnP,EAAIvG,KAIC,IAAI0V,KACLsB,IACJA,GAAS,EACThX,EAAQuV,KAAMG,IAFK1V,GAMrB+W,EAAIG,QAAU,IAAMF,GAAS,EACtBD,GAOR3S,EAAO+S,SAAWhC,SAASgC,SAAW,CAAC5B,EAAI1I,EAAIuK,GAAU,KACxD,IAAIC,EAAQ,GAAIxB,EAAa,KAAMrX,EAAU,IAAKuW,EAAQ,KACtDuC,EAAO,KACVzB,EAAa,KACb,IAAIH,EAAO2B,EACXA,EAAQ,GACOxK,EAAXuK,EAAc7B,KAAMG,GAChBH,EAAGG,KAER6B,EAAM,IAAI7B,KACM,OAAfG,IACHA,EAAalT,KAAKsE,MACd8N,GAAOnW,aAAamW,GACxBA,EAAQ5V,WAAWmY,EAAM9Y,IAE1B,IAAIgC,EAAImC,KAAKsE,MACTzG,EAAIqV,GAAcrX,EACrB8Y,IAGIF,EAAWC,EAAQ3B,EAClB2B,EAAMzc,KAAK8a,IAiBlB,OAdA6B,EAAIC,KAAO,KACNzC,GAAOnW,aAAamW,GACxBA,EAAQ,KACRuC,KAEDC,EAAI/Y,QAAUiZ,IACb,GAAInW,MAAMmW,GAAK,OAAOF,EAEtB,GADA/Y,EAAUiZ,EACS,OAAf5B,EAAqB,OAAO0B,EAChC,IAAI/W,EAAImC,KAAKsE,MAGb,OAFI8N,GAAOnW,aAAamW,GACxBA,EAAQ5V,WAAWmY,EAAM9Y,EAAUqX,EAAarV,GACzC+W,GAEDA,K,gHCrNFxL,MAAM,S,EACV,eAA6B,QAAvBA,MAAM,QAAO,OAAG,G,EAE0C,eAAgC,KAA7BA,MAAM,sBAAoB,S,+BAHrE,EAAI,M,iBAA7B,eAKM,MALN,EAKM,CAJL,G,mBACA,eAEW,2BAFuB,EAAAzH,KAAI,CAApBL,EAAM2D,K,6CACvB,eAA+D,QAAxD,QAAK,GAAE,EAAA8P,KAAKzT,EAAKK,KAAML,EAAKW,Q,eAAUX,EAAKhF,MAAI,eAAS,G,qCAMlE,IAAI0Y,EAAY,KAChB,MAAMxN,EAAU,IAAI3E,iBAAiB,gBACrC2E,EAAQjB,iBAAiB,UAAWC,IAC9BwO,GACLA,EAAU7Q,WAGI,OACd7H,KAAM,QACN,OACC,MAAO,CACN2Y,MAAM,EACNtT,KAAM,KAGRsQ,MAAO,CACNnX,OAAQoK,QAET5C,QAAS,CACR,KAAMX,EAAMM,GACXA,EAAQ8K,MAAMC,SAAS/K,GACvB,IAAInH,EAAS,CAAC6G,OAAMM,SACpBI,KAAK6S,QAAQjd,KAAK6C,GACd6G,IAASU,KAAK8S,OAAOxT,MAAM6F,EAAQjD,YAAYzJ,IAEpD,SACC,IAAI6G,EAAO,KAAMlH,EAAO,GACxB,GAAyB,MAArB4H,KAAK8S,OAAOxT,KACfA,EAAO,UAEH,GAAyB,cAArBU,KAAK8S,OAAOxT,KACdU,KAAK8S,OAAOlT,OAAWI,KAAK8S,OAAOlT,MAAMtF,IAC9CgF,EAAOyT,mBAAmB/S,KAAK8S,OAAOlT,MAAMtF,GAAGsK,MAAM,KAAKrB,OAAOjJ,GAAKA,EAAEhF,OAAS,GACjF8C,EAAO,eAGJ,GAAyB,UAArB4H,KAAK8S,OAAOxT,KACdU,KAAK8S,OAAOlT,OAAWI,KAAK8S,OAAOlT,MAAM2R,IAC9CjS,EAAOyT,mBAAmB/S,KAAK8S,OAAOlT,MAAM2R,GAAG3M,MAAM,KACrDtF,EAAKwM,MACLxM,EAAOA,EAAKiE,OAAOjJ,GAAKA,EAAEhF,OAAS,GACnC8C,EAAO,YAGJ,CACJ,IAAI4a,EAAWhT,KAAKvH,QAAUuH,KAAK8S,OAAOxT,KAC1CA,EAAO0T,EAASpO,MAAM,KAAKrB,OAAOjJ,GAAKA,EAAEhF,OAAS,GAClD8C,EAAO,OAEHkH,GAKLU,KAAK4S,MAAO,EACZ5S,KAAKV,KAAK9I,OAAO,EAAGwJ,KAAKV,KAAKhK,QACjB,WAAT8C,GAA8B,SAATA,GAAiBkH,EAAKwM,MAE/C9L,KAAKV,KAAK1J,QAASyJ,gBAAgBC,KARlCU,KAAK4S,MAAO,IAWf,UACC5S,KAAK8B,SACL6Q,EAAY3S,MAEb,YACC2S,EAAY,OCzEd,EAAOzL,OAASA,EAED,U,0ECLf,YAAApL,OAAA,0BACC,IAAImX,EAAKtb,SAASQ,cAAc,UAChC8a,EAAG7a,KAAO,kBACV6a,EAAGva,IAAMiL,EACTsP,EAAG5a,OAASkJ,EACZ0R,EAAG3a,QAAUiJ,EACb5J,SAASkT,KAAK5R,YAAYga,KAE3BnX,OAAOoX,QAAWvP,GAAa,IAAItM,QAAQkK,IAC1C,IAAIkN,EAAM9W,SAASQ,cAAc,QACjCsW,EAAIrW,KAAO,WACXqW,EAAIzW,IAAM,aACVyW,EAAIjX,KAAOmM,EACX8K,EAAIpW,OAASkJ,EACbkN,EAAInW,QAAUiJ,EACd5J,SAASkT,KAAK5R,YAAYwV,KAG3B3S,OAAOqX,wBAA0B,CAACC,EAAKnN,KACtC,IAAI6G,EAAM7G,EAAIxN,OACd,IAAKqU,IAAQA,EAAIuG,UAA2C,MAA/BvG,EAAIuG,SAASC,cAAuB,OAAO,EAExE,IAAIhU,EAAOwN,EAAI/U,aAAa,QAC5B,IAAKuH,EAAM,OAAO,EAElB,GAA2B,IAAvBA,EAAKmE,QAAQ,MAChBnE,EAAOA,EAAKuM,QAAQ,aAAc,IAClCvM,EAAOA,EAAKsF,MAAM,WAClBtF,EAAO,CAAEA,KAAM,YAAaM,MAAO,CAACtF,EAAGgF,EAAKpC,KAAK,WAE7C,IAA0B,IAAtBoC,EAAKmE,QAAQ,KAAY,CACjCnE,EAAOA,EAAKuM,QAAQ,MAAO,IAC3B,IAAIpT,EAASd,SAASyI,cAAc,UAAYd,EAAO,MACvD,GAAM7G,EAAQ,CACb,IAAIwS,EAAMtT,SAASkT,KAAKzK,cAAc,QACtC,GAAM6K,EAAK,CACV,IAAIsI,GAAU9a,EAAO+a,WAAa,GAAKvI,EAAIwI,UACtCvT,QAAQC,WAAUoT,GAAU,IACjCtI,EAAIyI,SAAS,CAAC7F,IAAK0F,EAAQI,SAAU,YAIvC,OADA1N,EAAI2N,kBACG,EAEH,GAAiC,IAA7BtU,EAAKmE,QAAQ,YACrBnE,EAAOA,EAAKuM,QAAQ,+BAAgC,KACpDvM,EAAO,CAAEA,aAEL,GAA+B,IAA3BA,EAAKmE,QAAQ,UACrBnE,EAAOA,EAAKuM,QAAQ,SAAU,KAC9BvM,EAAO,CAACA,YAEJ,IAAkC,IAA9BA,EAAKmE,QAAQ,aAMrB,OAAO,EALPnE,EAAOA,EAAKuM,QAAQ,YAAa,IACjCvM,EAAOuU,mBAAmBvU,GAC1BA,EAAO,CAACA,KAAM,QAASM,MAAO,CAAC2R,EAAGjS,KAMnC2G,EAAI2N,iBACJ,IAAIE,EAAaC,SAASC,KAAKnI,QAAQ,MAAO,IAAIjH,MAAM,KAAK,GAE7D,GADAwO,EAAIP,QAAQjd,KAAK0J,GACbA,EAAKA,OAASwU,EAAY,CAC7B,IAAI3O,EAAU,IAAI3E,iBAAiB,gBACnC2E,EAAQjD,YAAY5C,GAGrB,OAAO,GAGRwL,UAAUmJ,GAAGrT,MAAMqK,IAClBrP,QAAQsF,IAAI,4CAEZ,IAAIgT,GAAmB,EACvBjJ,EAAIC,OAAOC,iBAAiBgJ,YAAcvS,UACzCuN,UAAUxX,SAASkT,KAAKzK,cAAc,eAClC8T,GACHA,GAAmB,EACnBE,QAAQC,IAAIC,OAAO,CAClBC,WAAY,CAAC,cACbC,IAAK,CACJD,WAAY,CAAC,aAAc,kBAE5BE,IAAK,CAAC,YAAa,mBACnBC,QAAS,CACRC,WAAY,CAAC,CAAC,IAAI,SAGpBP,QAAQC,IAAIO,MAAM,CAAC,UAAWR,QAAQC,OAGtCD,QAAQC,IAAIO,MAAM,CAAC,UAAWR,QAAQC,YAEjCQ,UAAUzQ,QAEjB,MAAM0Q,EAAmB,IAAIC,iBAAiBC,IAC7C,IAAIC,EAAUtd,SAASmX,iBAAiB,WACxC,GAAG9P,QAAQtJ,KAAKuf,EAAUC,IACzB,IAAItR,EAAUsR,EAAG5H,UACjB1J,EAAUA,EAAQiI,QAAQ,aAAc,MACxCjI,EAAUsC,OAAOG,MAAMzC,EAAS,CAC/BuR,IAAKD,EAAG7U,UAAU6H,SAAS,OAC3BkN,SAAUF,EAAG7U,UAAU6H,SAAS,YAChCmN,UAAWH,EAAG7U,UAAU6H,SAAS,aACjCoN,UAAWJ,EAAG7U,UAAU6H,SAAS,aACjCqN,YAAY,EACZC,UAAW,mBAEZN,EAAG/H,UAAYvJ,EACfsR,EAAG7U,UAAU4G,OAAO,YAEjBgO,EAAQ3f,OAAS,GAAG2V,EAAIC,OAAOC,iBAAiBgJ,gBAErDW,EAAiBW,QAAQ9d,SAASkT,KAAM,CACvC6K,WAAW,EACXC,SAAS,IAEVvW,EAAOwW,iBAAoBC,IACrBA,IACLC,aAAaC,QAAQ,aAAcF,GACnCle,SAASkT,KAAKnR,aAAa,QAASmc,KAErCD,iBAAiBE,aAAaE,QAAQ,iBAEvClL,UAAUmJ,GAAGxI,YAAaR,IACzBrP,QAAQsF,IAAI,sD,4GpB9HP6F,MAAM,W,EAC6B,eAAgC,KAA7BA,MAAM,sBAAoB,S,GAC/DA,MAAM,c,iBACU,M,EACpB,eAAgC,KAA7BA,MAAM,sBAAoB,S,GACxBA,MAAM,iB,GAGNA,MAAM,iC,qHARb,eAYM,MAZN,EAYM,CAXL,eAA6E,OAAxEA,MAAM,WAAY,QAAK,oBAAE,EAAAC,SAAA,EAAAA,WAAA,K,CAAS,IACvC,eASM,MATN,EASM,CARL,eAAoC,GAAvByL,GAAG,KAAG,C,uBAAC,IAAE,C,UACtB,EACA,eAEM,MAFN,EAEM,CADL,eAA2B,GAAd3T,KAAM,EAAAA,MAAI,mBAExB,eAEM,MAFN,EAEM,CADL,eAAgC,GAAnBA,KAAM,EAAAmX,WAAS,uB,gBqBPhC,OAAO/O,OAASA,EAED,e,wBCLf,YAQA9H,EAAO8W,UAAY/F,SAAS3a,UAC5BD,OAAOmF,eAAewb,UAAW,aAAc,CAC9C,MACC,OAAIlW,OAASkW,WACTlW,KAAKgF,YAAckR,UADQlW,KAE1BA,KAAKgF,UAAUmR,WACbnW,KAAKgF,UAAUmR,WADiBnW,MAGxCrF,YAAY,EACZmK,cAAc,IAGfvP,OAAOC,UAAU4gB,aAAe,SAAU3d,GACzC,GAAoB,oBAATuH,KAAqB,OAAO,EACvC,IAAIqW,EAAMrW,KACV,MAASqW,EAAK,CACb,GAAIA,IAAQ5d,EAAQ,OAAO,EAC3B4d,EAAM9gB,OAAO+gB,eAAeD,GAE7B,OAAO,GAER9gB,OAAOmF,eAAenF,OAAOC,UAAW,eAAgB,CAAEmF,YAAY,M,6FC5BhEoM,MAAM,Q,iFAAX,eAEM,MAFN,EAEM,CADL,eAAU,KAMG,OACd9M,KAAM,QCNP,EAAOiN,OAASA,EAED,Q,SCJTH,MAAM,Y,2GAAX,eAGM,MAHN,EAGM,CAFL,eAAS,GACT,eAAU,KAKG,OACd9M,KAAM,YCNP,EAAOiN,OAAS,EAED,Q,SCJTH,MAAM,U,SAGLA,MAAM,gB,gFAHZ,eAMM,MANN,EAMM,CALL,eAAS,GACT,eAA4D,OAAvDwP,IAAI,UAAUxP,MAAM,YAAa,QAAK,oBAAE,EAAAC,SAAA,EAAAA,WAAA,K,UACb,EAAY,c,iBAA5C,eAEM,MAFN,EAEM,CADL,eAAiC,UAAxBtO,IAAK,EAAA8d,UAAQ,mB,wBAMzB,MAAMC,EAAsB,IAAIjW,iBAAiB,uBAC3CkW,EAAa,CAAC,KAAM,KAAM,KAAM,MAChCC,EAAkB,CACvBC,GAAI,KACJC,GAAI,SACJC,GAAI,SACJC,GAAI,QAGU,OACd9c,KAAM,SACN,OACC,MAAO,CACNuc,SAAU,GACVQ,cAAc,IAGhB/W,QAAS,CACR,eACCwW,EAAoBvU,YAAY,CAC/BjI,KAAM,QACNgd,OAAQ,SAGT,IAAI/G,EAAUlQ,KAAK8S,OAAOlT,MAAM2R,EAAG5P,EAAkC,EAAtB3B,KAAK8S,OAAOlT,MAAM3E,EACjE,GAAKiV,EAAL,CAIA,IAAIgH,IAAShH,EAAQ/T,MAAM,UAC3BwF,EAAYA,GAAa,EACzB,IAAImC,EAAQ,CAACzB,QAAQ8U,WAAWjH,EAASvO,IACrCuV,GAAMpT,EAAMlO,KAAKyM,QAAQ+U,WAAW,sBACxC,IAAKxT,EAASyT,SAAmBhgB,QAAQ+C,IAAI0J,GAEzCuJ,EAAO,GAAIzH,EAAQ,GAAI0R,GAAa,EASxC,GARK1T,EAIMyT,GAAaH,IACvBtT,EAAUA,EAAU,SAAWyT,IAJ/BC,GAAa,EACbjK,EAAO,sGAMJiK,EAAY,CACG,IAAd3V,IAAiBA,EAAYhE,KAAKsE,OACtC,IAAIsV,EAASrR,OAAOsR,UAAU5T,EAAS,CACtCuR,KAAK,EACLC,SAAU8B,EACV7B,WAAW,EACXC,WAAW,EACXC,WAAY2B,EACZO,KAAM9V,EACN6T,UAAW,mBAEZ+B,EAAOG,KAAKjR,OAAS8Q,EAAOG,KAAKjR,QAAU,GAC3CzG,KAAK2X,YAAYJ,EAAOG,KAAKjR,OAAOE,UACpC0Q,EAAYE,EAAOG,KAAKjR,OAAOC,UAC/Bd,EAAQ,IAAM2R,EAAO3R,MAAQ,IAC7ByH,EAAOkK,EAAO3T,QACTyJ,IACJA,EAAO,2GACPiK,GAAa,GAGftX,KAAK4X,MAAM1H,QAAQ/C,UAAYE,EAC3BiK,UACGtX,KAAKmU,cACLkD,GAAaH,UACZ7I,OACNrO,KAAK6X,gBAAgBR,KAGvB1f,SAASiO,MAAQA,EAAQ,KAAO5F,KAAKoL,SAAW,IAEhDqL,EAAoBvU,YAAY,CAC/B+U,OAAQ,cAlDRjX,KAAK6S,QAAQjd,KAAK,CAAC0J,KAAM,OAqD3B,gBAAiB+X,GAChB,IAAKA,EAAW,OAAOhK,KACvB,IAAIyK,EAAW,GAAI3Q,EAAU,IAC7B,IAAKkQ,EAAUlb,MAAM,sBAAuB,CAC3C,IAAKkb,EAAUlb,MAAM,0CAA2C,OAChEkb,EAAYA,EAAUxL,QAAQ,WAAY,IAAIA,QAAQ,MAAO,IAAIjH,MAAM,MACvEuC,EAAUkQ,EAAU,IAAM,MACtBlQ,EAAQ1D,QAAQ,KAAO,IAAG0D,GAAoB,MAClD2Q,EAAWT,EAAU,GAAGzS,MAAM,KAAK7F,IAAI9H,GAAKA,EAAE8gB,eAAexU,OAAOtM,GAAKyf,EAAWrN,SAASpS,IAC7F6gB,EAAS/U,KAAK,CAACC,EAAGC,IAAMA,EAAID,GAAK,EAAKC,EAAID,EAAI,EAAI,GAEnD,IAAIgV,EAAY,KAChBhY,KAAK4X,MAAM1H,QAAQpB,iBAAiB,WAAW9P,QAAQiZ,IACtD,IAAIrS,EAAQqS,EAAK7X,cAAc,MAC1BwF,GACmB,SAApBA,EAAM0H,YACV0K,EAAYC,KAGb,IAAIhb,EAAO+a,EAAU5X,cAAc,OAC/BwD,EAAUoU,EAAU5X,cAAc,gBACtC,GAAwB,IAApB0X,EAASxiB,OAAc,CAC1B2H,EAAKqQ,UAAY,gBACjBrQ,EAAKzF,KAAO,8EACZoM,EAAQuJ,UAAY,8CACpB,IAAI+K,EAAOtU,EAAQsJ,cAAciL,YACjCD,EAAKhL,cAAcnU,YAAYmf,QAEvBJ,EAASzO,SAAS,OAC1BpM,EAAKqQ,UAAY,sBAAwBwK,EAAS5a,KAAK,KAAO,IAAMiK,EAAU,MAC9ElK,EAAKzF,KAAO,uCAAyCsgB,EAAS5a,KAAK,KAAKoW,cAAgB,IAAMnM,EAAU,IACxGvD,EAAQuJ,UACP,4IACA2K,EAAS/Y,IAAI9H,GAAK,WAAa0f,EAAgB1f,GAAK,aAAaiG,KAAK,KACpE,wBAGHD,EAAKqQ,UAAY,kBAAoBwK,EAAS5a,KAAK,KAAO,IAAMiK,EAAU,MAC1ElK,EAAKzF,KAAO,iDACZoM,EAAQuJ,UACP,4IACA2K,EAAS/Y,IAAI9H,GAAK,WAAa0f,EAAgB1f,GAAK,aAAaiG,KAAK,KACpE,wBAGL,YAAakb,GACZ,IAAIC,GAAY,EAChB,GAAMrY,KAAK2G,UAAc3G,KAAK2G,SAAS2R,WAAatY,KAAK2G,SAAS2R,UAAUhjB,OAAS,EAAG,CACvF,IAAIgP,GAAQ,IAAMyP,SAASwE,SAAW,KAAK1M,QAAQ,OAAQ,KAC3DwM,EAAYrY,KAAK2G,SAAS2R,UAAUE,MAAMC,IACzCA,GAAM,IAAMA,EAAK,KAAK5M,QAAQ,OAAQ,KAC/BvH,EAAKb,QAAQgV,GAAM,IAG5B,GAAKJ,EAAL,CAKA,IAAKD,EAAU,CACd,IAAKpY,KAAK2G,SAET,YADA3G,KAAKgX,cAAe,GAGSoB,EAA1BvV,OAAOC,GAAG9C,KAAK2G,UAAsB3G,KAAK2G,SAC9B3G,KAAK2G,SAASC,GAGzBwR,GACLpY,KAAKgX,cAAe,EACpBhX,KAAKwW,SAAW,0BAA4B4B,GAG5CpY,KAAKwW,SAAW,QAlBhBxW,KAAKgX,cAAe,GAqBtB,QAAS/Q,GACRkN,wBAAwBnT,KAAMiG,KAGhC,UACCjG,KAAK8B,WCxKP,EAAOoF,OAAS,EAED,QCAf,MAAMwR,EAAS,CACd,CACCpZ,KAAM,IACNrF,KAAM,OACNsR,UAAWoN,GAEZ,CACCrZ,KAAM,YACNrF,KAAM,WACNsR,UAAWqN,GAEZ,CACCtZ,KAAM,QACNrF,KAAM,SACNsR,UAAW,GAEZ,CACCjM,KAAM,SACNrF,KAAM,YACNsR,UAAW,WACV,OAAO,kDAGT,CAAC,KAAO,gBAAgB,KAAO,eAAe,UAAY,WAAW,OAAO,kDAAsC,CAAC,KAAO,iBAAiB,KAAO,gBAAgB,UAAY,WAAW,OAAO,kDAAuC,CAAC,KAAO,aAAa,KAAO,YAAY,UAAY,WAAW,OAAO,kDAAmC,CAAC,KAAO,SAAS,KAAO,QAAQ,UAAY,WAAW,OAAO,kDAA+B,CAAC,KAAO,UAAU,KAAO,SAAS,UAAY,WAAW,OAAO,kDAAgC,CAAC,KAAO,uBAAuB,KAAO,YAAY,UAAY,WAAW,OAAO,kDAA6C,CAAC,KAAO,oBAAoB,KAAO,SAAS,UAAY,WAAW,OAAO,kDAA0C,CAAC,KAAO,mBAAmB,KAAO,WAAW,UAAY,WAAW,OAAO,kDAAyC,CAAC,KAAO,qBAAqB,KAAO,cAAc,UAAY,WAAW,OAAO,kDAA2C,CAACjM,KAAK,WAAWrF,KAAK,UAAUsR,UAAU,WAAW,OAAO,kDACziC,CACCjM,KAAM,OACNrF,KAAM,eACNsR,UAAW,WACV,OAAO,kDAGT,CACCjM,KAAM,mBACNrF,KAAM,eACNsR,UAAW,WACV,OAAO,mDAKJsN,EAAS,eAAa,CAC3BC,QAAS,iBACTJ,WAEDG,EAAOE,UAAU,CAACtG,EAAIhG,KACrB,GAAgB,aAAZgG,EAAGxY,KAAqB,CAC3B,IAAI8O,EAAO1J,gBAAgBoT,EAAG7S,MAAMtF,EAAEsK,MAAM,MAAM,GAKjDjN,SAASiO,MAJLmD,EAIa8P,EAAO5N,IAAIC,OAAOC,iBAAiBC,SAAW,MAAQrC,EAAKhK,IAAIzE,GAAKA,EAAEL,MAAMiD,KAAK,OAHjF2b,EAAO5N,IAAIC,OAAOC,iBAAiBC,cAOrDzT,SAASiO,MAAQiT,EAAO5N,IAAIC,OAAOC,iBAAiBC,SAErDzT,SAASyI,cAAc,QAAQ4Y,SAAS,EAAG,KAG7B,U,kFC/DRjS,MAAM,c,GAGJA,MAAM,e,EAGsC,eAAmC,KAAhCA,MAAM,uBAAqB,S,EACV,eAAiC,KAA9BA,MAAM,qBAAmB,S,EACV,eAAkC,KAA/BA,MAAM,sBAAoB,S,gDATvH,eAUM,OAVAA,MAAK,kBAAsB,EAAA6L,KAAO,OAAS,S,CAChD,eAKM,MALN,EAKM,E,mBAJL,eAGM,2BAHsC,EAAAqG,QAAO,CAApBC,EAAO9jB,K,iBAAtC,eAGM,OAHD2R,MAAM,YAA2CmH,MAAK,MAAwB,KAAb9Y,EAAI,EAAAwN,OAAgB,M,CACzF,eAAmH,OAA9GmE,MAAM,gBAAiBmH,MAAK,wBAA6BgL,EAAMA,MAAQ,IAAKC,MAAOD,EAAMC,MAAQ,O,QACtG,eAA8C,MAA9C,EAA8C,eAAnBD,EAAMtT,OAAK,I,aAGxC,eAA4F,OAAvFmB,MAAM,oBAAqB,QAAK,eAAE,EAAA6L,MAAK,I,CAAO,IACnD,eAA8G,OAAzG7L,MAAM,mBAAoBqS,SAAU,EAAAxW,OAAS,EAAI,QAAK,eAAE,EAAAA,U,CAAU,G,gBACvE,eAAiI,OAA5HmE,MAAM,oBAAqBqS,SAAU,EAAAxW,OAAS,EAAAqW,QAAQ3jB,OAAS,EAAI,QAAK,eAAE,EAAAsN,U,CAAU,G,oBAK3F,MAAMyW,EAAWvM,IAChB,IAAIwM,EAASxM,EAAIhU,WACjB,IAAKwgB,EAAQ,OAAO,KACpB,IAAIzhB,EAAMyhB,EAAOC,QACjB,OAAK1hB,GACLA,EAAMA,EAAIyb,cACE,YAARzb,EAA0BwhB,EAASC,GAC3B,QAARzhB,EAAsB,KACtByhB,EAAOjZ,UAAU6H,SAAS,cAAsBoR,EAC7CD,EAASC,IALC,MAOH,OACdrf,KAAM,gBACN,OACC,MAAO,CACN2Y,MAAM,EACNhQ,MAAO,EACPqW,QAAS,KAGX,UACCthB,SAASkT,KAAK3G,iBAAiB,QAAS+B,IACvC,IAAIjG,KAAK4S,KAAT,CACA,IAAI9F,EAAM7G,EAAIxN,OAAQZ,EAAMiV,EAAIyM,QAChC,GAAK1hB,EAAL,CACAA,EAAMA,EAAIyb,cACV,IAAoBkG,EAAKC,EAArBC,GAAS,EAsBb,GArBY,QAAR7hB,GACH6hB,GAAS,EACTF,EAAM1M,EACN2M,EAAOJ,EAASvM,KAEA,WAARjV,GAOQ,QAARA,GACJiV,EAAIzM,UAAU6H,SAAS,eAP3BsR,EAAM1M,EAAI1M,cAAc,OAClBoZ,IACLE,GAAS,EACTD,EAAOJ,EAASvM,KAYb4M,EAAL,CAEA,IAAIT,EAAU,GAAIrW,EAAQ,EAC1B,GAAM6W,EACLA,EAAK3K,iBAAiB,mDAAmD9P,QAAQ,CAAC2a,EAAGvkB,KACpF,IAAIwkB,EAAMD,EAAEvZ,cAAc,OACtBwZ,IAAQJ,IAAK5W,EAAQxN,GACzB,IAAIwQ,EAAQ+T,EAAEvZ,cAAc,cAC5BwF,EAAQA,EAAM0H,WAAa,GAC3B2L,EAAQrjB,KAAK,CACZsjB,MAAOU,EAAIlhB,IACXygB,MAAOS,EAAIC,aACX/L,OAAQ8L,EAAIE,cACZlU,gBAIE,CACJhD,EAAQ,EACR,IAAIgD,EAAQ4T,EAAI1gB,WACV8M,IAAOA,EAAQA,EAAM9M,YACrB8M,IAAOA,EAAQA,EAAMxF,cAAc,eACnCwF,IAAOA,EAAQA,EAAM0H,WAC3B1H,EAAQA,GAAS,GACjBqT,EAAU,CAAC,CACVC,MAAOM,EAAI9gB,IACXygB,MAAOK,EAAIK,aACX/L,OAAQ0L,EAAIM,cACZlU,UAGF5F,KAAK+Z,YAAYnX,EAAOqW,QAEzBthB,SAASkT,KAAK3G,iBAAiB,UAAW+B,IACpCjG,KAAK4S,OACU,KAAhB3M,EAAI+T,QACHha,KAAK4C,MAAQ,GAAG5C,KAAK4C,QAED,KAAhBqD,EAAI+T,QACRha,KAAK4C,MAAQ5C,KAAKiZ,QAAQ3jB,OAAS,GAAG0K,KAAK4C,QAEvB,KAAhBqD,EAAI+T,UACZha,KAAK4S,MAAO,GAEb3M,EAAI2N,qBAGN3T,QAAS,CACR,YAAa2C,EAAOqW,GACnBjZ,KAAK4C,MAAQA,EACb5C,KAAKiZ,QAAQziB,OAAO,EAAGwJ,KAAKiZ,QAAQ3jB,QACpC2jB,EAAQja,QAAQ2a,GAAK3Z,KAAKiZ,QAAQrjB,KAAK+jB,IACvC3Z,KAAK4S,MAAO,KChHf,EAAO1L,OAASA,EAED,U,2DCJTH,MAAM,gB,sFAAX,eAEM,MAFN,EAEM,E,mBADL,eAAsM,2BAA1K,EAAAjI,KAARG,I,iBAApB,eAAsM,GAAnK2G,MAAO3G,EAAKhF,KAAOgd,OAAWhY,EAAKE,UAAUF,EAAKE,SAAS7J,OAAO,EAAM,EAAA2kB,OAAQ,EAAAA,OAAO,IAAIhb,EAAKE,SAAUF,EAAKE,SAAU,GAAK/G,KAAM6G,EAAK7G,KAAO8G,KAAMD,EAAKC,M,mDAKjL,OACdjF,KAAM,aACN2V,MAAO,CACNqK,OAAQ,GACRnb,KAAM4D,QCRR,EAAOwE,OAASA,EAED,U,sBCLf,cAQAxE,MAAMlN,UAAU0U,KAAO,WACtB,OAAOlK,KAAKjB,IAAI+N,GAAOA,IAExBpK,MAAMlN,UAAU4U,UAAY,WAC3B,IAAIF,EAAOlK,KAAKjB,IAAI/D,GACfzF,OAAO0U,YAAYjP,GACfA,EAAMqP,UACO,OAAVrP,QAA4Bd,IAAVc,EACrBA,EACGA,aAAiB2C,KACpB,IAAIA,KAAK3C,EAAMsP,WACK,kBAAVtP,GAAwBA,aAAiB3D,aAApD,EACC2D,EAAMoP,aAGf,OAAO7U,OAAO4U,OAAO,GAAInK,KAAMkK,IAEhCxH,MAAMlN,UAAU0kB,UAAY,WAC3B,IAAIjjB,EAAI+I,KAAK1K,OACTa,EAASuM,MAAMuJ,OAAOhV,GACtBkjB,EAAOna,KAEX,OADA7J,EAASA,EAAO4I,IAAI3J,GAAK+kB,EAAK/kB,IACvBe,GAERuM,MAAMlN,UAAUyR,OAAS,SAAU6C,GAClC,IAAIlH,EAAQ5C,KAAKyD,QAAQqG,GACzB,OAAIlH,EAAQ,GACZ5C,KAAKxJ,OAAOoM,EAAO,GADG5C,MAIvB0C,MAAMlN,UAAU4M,MAAQ,SAAU0H,GAEjC,OADA9J,KAAKxJ,OAAO,EAAGwJ,KAAK1K,QACb0K,MAER0C,MAAMlN,UAAU4kB,UAAY,SAAU7G,GACrC,IAAIjZ,EAAI0F,KAAKkK,OACb,GAAI5N,MAAMiX,GAAS,OAAOjZ,EAC1B,IAAIrD,EAAI+I,KAAK1K,OACb,GAAIie,GAAUtc,GAAKsc,IAAWtc,EAAG,OAAOqD,EACxC,GAAIiZ,EAAS,EAAG,CACf,IAAK,IAAIne,EAAI,EAAGkB,EAAIid,EAAQne,EAAI6B,EAAIsc,EAAQne,IAAMkB,IACjDgE,EAAElF,GAAK4K,KAAK1J,GAEb,IAAK,IAAIlB,EAAI6B,EAAIsc,EAAQjd,EAAI,EAAGlB,EAAI6B,EAAG7B,IAAMkB,IAC5CgE,EAAElF,GAAK4K,KAAK1J,OAGT,CACJid,GAAWA,EACX,IAAK,IAAIne,EAAI,EAAGkB,EAAIid,EAAQne,EAAI6B,EAAIsc,EAAQne,IAAMkB,IACjDgE,EAAEhE,GAAK0J,KAAK5K,GAEb,IAAK,IAAIA,EAAI6B,EAAIsc,EAAQjd,EAAI,EAAGlB,EAAI6B,EAAG7B,IAAMkB,IAC5CgE,EAAEhE,GAAK0J,KAAK5K,GAGd,OAAOkF,GAERoI,MAAMlN,UAAUoK,MAAQ,SAAU6R,GACjC,IAAI7O,GAAS,EAMb,OALA5C,KAAKN,KAAK,CAACnF,EAAGnF,KACb,MAAMilB,IAAQ5I,EAAIlX,GAElB,OADI8f,IAAKzX,EAAQxN,GACVilB,IAEDzX,GAERF,MAAMlN,UAAU6Z,KAAO,WACtB,IAAIpY,EAAI+I,KAAK1K,OACTa,EAASgW,KAAKC,MAAMD,KAAKF,SAAWhV,GACxC,OAAO+I,KAAK7J,IAEbuM,MAAMlN,UAAU8kB,MAAQ,SAAUxlB,GACjC,KAAMA,aAAgB4N,OAAQ,OAAO,EACrC,IAAIhG,EAAMsD,KAAK0M,WACf,GAAIhQ,GAAO5H,EAAK4X,WAAY,OAAO,EACnC,IAAK,IAAItX,EAAI,EAAGA,EAAIsH,EAAKtH,IACxB,GAAI4K,KAAK5K,KAAON,EAAKM,GAAI,OAAO,EAEjC,OAAO,GAERG,OAAOmF,eAAegI,MAAMlN,UAAW,QAAS,CAC/C,MACC,OAAOwK,KAAK,IAEbrF,YAAY,EACZmK,cAAc,IAEfvP,OAAOmF,eAAegI,MAAMlN,UAAW,OAAQ,CAC9C,MACC,OAAOwK,KAAKA,KAAK1K,OAAS,IAE3BqF,YAAY,EACZmK,cAAc,IAEfvP,OAAOmF,eAAegI,MAAMlN,UAAW,OAAQ,CAAEmF,YAAY,IAC7DpF,OAAOmF,eAAegI,MAAMlN,UAAW,YAAa,CAAEmF,YAAY,IAClEpF,OAAOmF,eAAegI,MAAMlN,UAAW,SAAU,CAAEmF,YAAY,IAC/DpF,OAAOmF,eAAegI,MAAMlN,UAAW,QAAS,CAAEmF,YAAY,IAC9DpF,OAAOmF,eAAegI,MAAMlN,UAAW,YAAa,CAAEmF,YAAY,IAClEpF,OAAOmF,eAAegI,MAAMlN,UAAW,YAAa,CAAEmF,YAAY,IAClEpF,OAAOmF,eAAegI,MAAMlN,UAAW,QAAS,CAAEmF,YAAY,IAC9DpF,OAAOmF,eAAegI,MAAMlN,UAAW,OAAQ,CAAEmF,YAAY,IAC7DpF,OAAOmF,eAAegI,MAAMlN,UAAW,QAAS,CAAEmF,YAAY,IAC9D+H,MAAMI,GAAKgH,GAAOA,aAAepH,MACjCA,MAAMC,SAAW,CAAC4X,EAAOC,EAAYplB,IAAKA,MACzC,IAAIe,EAAS,GACb,GAAIga,SAASrN,GAAG0X,GAAY,IAAK,IAAIplB,EAAI,EAAGA,EAAImlB,EAAOnlB,IAAMe,EAAOP,KAAK4kB,EAAUplB,SAC9E,IAAK,IAAIA,EAAI,EAAGA,EAAImlB,EAAOnlB,IAAMe,EAAOP,KAAK4kB,GAClD,OAAOrkB,GAERuM,MAAMuJ,OAAS,CAACsO,EAAOC,EAAYplB,IAAKA,MACvC,IAAIqlB,EAAS,GAAItkB,EAAS,GAC1B,IAAK,IAAIf,EAAI,EAAGA,EAAImlB,EAAOnlB,IAAMqlB,EAAO7kB,KAAKR,GAC7C,IAAK,IAAIA,EAAI,EAAGA,EAAImlB,EAAOnlB,IAAM,CAChC,IAAIkB,EAAI6V,KAAKC,MAAMD,KAAKF,SAAWwO,EAAOnlB,QAC1Ca,EAAOP,KAAK4kB,EAAUC,EAAOnkB,KAC7BmkB,EAAOjkB,OAAOF,EAAG,GAElB,OAAOH,GAGRukB,WAAWllB,UAAUwP,UAAUkF,KAAO,WACrC,OAAO,IAAIwQ,WAAW1a,OAEvB0a,WAAWllB,UAAUwP,UAAUoF,UAAYsQ,WAAWllB,UAAUwP,UAAUkF,KAC1E3U,OAAOmF,eAAeggB,WAAWllB,UAAUwP,UAAW,OAAQ,CAAErK,YAAY,IAC5EpF,OAAOmF,eAAeggB,WAAWllB,UAAUwP,UAAW,YAAa,CAAErK,YAAY,IAC7D,SAAhByE,EAAO6J,OACVyR,WAAWllB,UAAUwP,UAAU2V,SAAW,WACzC,IAAIC,EAASpO,EAAOqO,MAAM7a,KAAK1K,OAAQ0K,MACvC,OAAO4a,GAERF,WAAWllB,UAAUwP,UAAU8V,SAAW,WACzC,IAAIF,EAASpO,EAAOqO,MAAM7a,KAAK1K,OAAQ0K,MACvC,OAAO4a,EAAO7V,SAAS,WAExBxP,OAAOmF,eAAeggB,WAAWllB,UAAUwP,UAAW,WAAY,CAAErK,YAAY,IAChFpF,OAAOmF,eAAeggB,WAAWllB,UAAUwP,UAAW,WAAY,CAAErK,YAAY,IAEhF+f,WAAWK,WAAa,CAACte,EAAKrE,EAAK,SAAWsiB,WAAWM,WAAWxO,EAAOC,KAAKhQ,EAAKrE,IACrFsiB,WAAWO,WAAaC,IACvB,IAAI3O,EAAMC,EAAOC,KAAKyO,EAAQ,UAC9B,OAAOR,WAAWM,WAAWzO,IAE9BmO,WAAWM,WAAaJ,GAAU,IAAIF,WAAWE,GACjDO,YAAYH,WAAaJ,GAAU,IAAIO,YAAYP,GACnDQ,YAAYJ,WAAaJ,GAAU,IAAIQ,YAAYR,GACnDS,UAAUL,WAAaJ,GAAU,IAAIS,UAAUT,GAC/CU,WAAWN,WAAaJ,GAAU,IAAIU,WAAWV,GACjDW,WAAWP,WAAaJ,GAAU,IAAIW,WAAWX,GACjDY,aAAaR,WAAaJ,GAAU,IAAIY,aAAaZ,GACrDa,aAAaT,WAAaJ,GAAU,IAAIa,aAAab,GACrDc,cAAcV,WAAaJ,GAAU,IAAIc,cAAcd,GACvDe,eAAeX,WAAaJ,GAAU,IAAIe,eAAef,IAG1DF,WAAWllB,UAAUomB,IAAM,SAAUnP,EAAMnX,GAC1C,OAAIgH,MAAMmQ,GAAczM,KAAKkK,QACzB5N,MAAMhH,KACTA,EAASmX,EACTA,EAAO,GAED,IAAIiO,WAAWlO,EAAOC,KAAKzM,MAAM6b,SAASpP,EAAMA,EAAOnX,MAE/DolB,WAAWllB,UAAUsmB,OAAS,SAAUC,GACvC,KAAMA,aAAiBrB,YAAa,OAAO1a,KAAKkK,OAChD,IAAI/T,EAASqW,EAAOsP,OAAO,CAAC9b,KAAM+b,IAClC,OAAOvP,EAAOC,KAAKtW,IAEpBukB,WAAWllB,UAAUwmB,OAAS,SAAUtf,EAAKuf,EAAM,GAClD,GAAIvf,GAAOsD,KAAK1K,OAAQ,OAAO0K,KAAKkK,SAC/BF,OAAOlH,GAAGmZ,IAAQA,EAAM,GAAKA,EAAM,OAAKA,EAAM,GACnD,IAAI9lB,EAAS,IAAIukB,WAAWhe,GAC5B,IAAK,IAAItH,EAAI,EAAGA,EAAI4K,KAAK1K,OAAQF,IAAMe,EAAOf,GAAK4K,KAAK5K,GACxD,IAAK,IAAIA,EAAI4K,KAAK1K,OAAQF,EAAIsH,EAAKtH,IAAMe,EAAOf,GAAK6mB,EACrD,OAAO9lB,GAERukB,WAAWllB,UAAUoH,SAAW,SAAUF,EAAKuf,EAAM,GACpD,GAAIvf,GAAOsD,KAAK1K,OAAQ,OAAO0K,KAAKkK,SAC/BF,OAAOlH,GAAGmZ,IAAQA,EAAM,GAAKA,EAAM,OAAKA,EAAM,GACnD,IAAI9lB,EAAS,IAAIukB,WAAWhe,GAC5BA,GAAYsD,KAAK1K,OACjB,IAAK,IAAIF,EAAI,EAAGA,EAAIsH,EAAKtH,IAAMe,EAAOf,GAAK6mB,EAC3C,IAAK,IAAI7mB,EAAI,EAAGA,EAAI4K,KAAK1K,OAAQF,IAAMe,EAAOf,EAAIsH,GAAOsD,KAAK5K,GAC9D,OAAOe,GAERukB,WAAWllB,UAAU8kB,MAAQ,SAAUxlB,GACtC,KAAMA,aAAgB4lB,YAAa,OAAO,EAC1C,IAAIhe,EAAMsD,KAAK0M,WACf,GAAIhQ,GAAO5H,EAAK4X,WAAY,OAAO,EACnC,IAAK,IAAItX,EAAI,EAAGA,EAAIsH,EAAKtH,IACxB,GAAI4K,KAAK5K,KAAON,EAAKM,GAAI,OAAO,EAEjC,OAAO,GAERG,OAAOmF,eAAeggB,WAAWllB,UAAW,MAAO,CAAEmF,YAAY,IACjEpF,OAAOmF,eAAeggB,WAAWllB,UAAW,SAAU,CAAEmF,YAAY,IACpEpF,OAAOmF,eAAeggB,WAAWllB,UAAW,SAAU,CAAEmF,YAAY,IACpEpF,OAAOmF,eAAeggB,WAAWllB,UAAW,WAAY,CAAEmF,YAAY,IACtEpF,OAAOmF,eAAeggB,WAAWllB,UAAW,QAAS,CAAEmF,YAAY,M,sFC9LnE,MAAMwK,EAAU,IAAI3E,iBAAiB,uBACrCpB,EAAO8c,eAAiB,KACvB,IAAIC,EAAK,IAAI3b,iBAAiB,uBAC9B2b,EAAGja,YAAY,CAAC+U,OAAQ,UAEzB,IAAImF,EAAS,KAEE,QACdniB,KAAM,UACN,OACC,MAAO,CACN2L,MAAO,QACPgN,MAAM,EACNxa,KAAM,QACNikB,WAAW,IAGb,UACClX,EAAQjB,iBAAiB,UAAWC,IACnC,IAAIrP,EAAOqP,EAAIrP,KACK,SAAhBA,EAAKmiB,QACRniB,EAAK8Q,MAAQ9Q,EAAK8Q,OAAS,QAC3B5F,KAAKqc,WAAY,EACXD,IACLxiB,aAAawiB,GACbA,EAAS,MAEVA,EAASjiB,WAAW,KACnB6F,KAAKqc,WAAY,GACf,KACHrc,KAAK4S,MAAO,GAEY,SAAhB9d,EAAKmiB,SACbniB,EAAK8Q,MAAQ9Q,EAAK8Q,OAAS,QAC3B5F,KAAKqc,WAAY,EACXD,IACLxiB,aAAawiB,GACbA,EAAS,MAEVpc,KAAK4S,MAAO,GAET/P,OAAOC,GAAGhO,EAAK8Q,SAAQ5F,KAAK4F,MAAQ9Q,EAAK8Q,OACzC,CAAC,OAAQ,SAASnC,QAAQ3O,EAAKsD,OAAS,IAAG4H,KAAK5H,KAAOtD,EAAKsD,SAGlE6H,QAAS,CACR,YACOmc,IACLxiB,aAAawiB,GACbA,EAAS,MAEVpc,KAAK4S,MAAO,O,iFCpET7L,MAAM,Y,EACV,eAEM,OAFDA,MAAM,QAAO,qDAElB,G,EACA,eAEM,OAFDA,MAAM,SAAO,C,eAAC,kBACL,eAA+F,KAA5FtO,OAAO,SAASjB,KAAK,gDAA+C,0B,mDALtF,eAOM,MAPN,EAOM,CANL,EAGA,IAOa,OACdyC,KAAM,WCVP,EAAOiN,OAASA,EAED,U,2DFHRH,MAAM,Q,SACLA,MAAM,gB,EAAoC,eAA4C,KAAzCA,MAAM,kCAAgC,S,SACnFA,MAAM,iB,2KAONA,MAAM,S,gDAVb,eAaM,OAbDA,MAAK,CAAC,UAAkB,EAAA6L,KAAK,OAAO,S,CACxC,eAUM,MAVN,EAUM,CATkC,SAAP,EAAAxa,M,iBAAhC,eAAiG,MAAjG,EAAiG,CAAlD,K,sBACP,UAAP,EAAAA,M,iBAAjC,eAMM,MANN,EAMM,CALL,K,sBAMD,eAAkC,MAAlC,EAAkC,eAAb,EAAAwN,OAAK,KAEE,EAAS,W,iBAAtC,eAAqE,O,MAAhEmB,MAAM,YAA8B,QAAK,oBAAE,EAAAuV,WAAA,EAAAA,aAAA,KAAW,S,0CGV7D,OAAOpV,OAASA,EAED,e,0DCHb,eAAiB,uB,+cADlB,eAwBU,WAxBDH,MAAM,mBAAoB,QAAK,oBAAE,EAAAC,SAAA,EAAAA,WAAA,K,CACzC,EACe,EAAQ,U,iBAAvB,eAUU,aATT,K,sBAUiB,EAAQ,U,mBAA1B,eAUE,8BAV4C,EAAA+B,KAAXmH,I,iBAAnC,eAUE,GATAtK,MAAOsK,EAAQtK,MACf2W,OAAQrM,EAAQqM,OAChBC,YAAatM,EAAQsM,YACrBpkB,KAAM8X,EAAQ9X,KACdqkB,SAAUvM,EAAQuM,SAClB9a,UAAWuO,EAAQvO,UACnB+a,aAAcxM,EAAQ/Q,SACtBwd,aAAczM,EAAQnN,KACtB6Z,SAAU1M,EAAQ0M,U,yJCpBd7V,MAAM,S,GAKNA,MAAM,U,GACNA,MAAM,a,gDARb,eAUU,WAVDA,MAAM,cAAe6V,SAAU,EAAAD,aAAa,IAAI,EAAAC,SAAWjb,UAAW,EAAAA,W,CAC9E,eAGS,eAFR,eAAkC,MAAlC,EAAkC,eAAb,EAAAiE,OAAK,GAC1B,eAAiE,OAA5DmB,MAAM,WAAYzH,KAAM,EAAAqd,c,eAAgB,EAAAD,cAAY,cAE1D,eAAkC,8BAAvB,EAAAF,aAAW,GACtB,eAGS,eAFR,eAAoC,MAApC,EAAoC,eAAd,EAAAD,QAAM,GAC5B,eAAyC,MAAzC,EAAyC,eAAhB,EAAAE,UAAQ,M,4BAMrB,OACdxiB,KAAM,aACN2V,MAAO,CACNhK,MAAO/C,OACP0Z,OAAQ1Z,OACR2Z,YAAa3Z,OACbzK,KAAMyK,OACN4Z,SAAU5Z,OACVlB,UAAWqI,OACX0S,aAAc7Z,OACd8Z,aAAc9Z,OACd+Z,SAAU/Z,SCvBZ,EAAOqE,OAAS,EAED,QF0Bf,MAAM/J,EAAgByB,EAAE,SAASzB,cACjC,IAAI0f,EAAa,KACjB,MAAMC,EAAgB,IAAItc,iBAAiB,gBAC3Csc,EAAc5Y,iBAAiB,UAAWC,IACpC0Y,GACLA,EAAW/a,WAEZ,MAAM2U,EAAsB,IAAIjW,iBAAiB,uBAE3Cuc,EAAU,IAAIC,IACdC,EAAU3d,IACf,IAAIrF,EAAO8iB,EAAQniB,IAAI0E,GACvB,GAAMrF,EAAM,OAAOA,EACnB,IAAII,EAAImF,QASR,OARAvF,EAAO,KACPqF,EAAOA,EAAKsF,MAAM,UAAUrB,OAAOzM,GAAKA,EAAExB,OAAS,GACnDgK,EAAKI,KAAK,CAAC5I,EAAG1B,KACb,IAAIuK,EAAQtF,EAAEvD,GACd,IAAK6I,EAAO,OAAO,EACnBtF,EAAIsF,EAAMT,KACN9J,IAAMkK,EAAKhK,OAAS,IAAG2E,EAAO0F,EAAM1F,QAEnCA,GACL8iB,EAAQ/a,IAAI1C,EAAMrF,GACXA,GAEDqF,EAAK4d,MAGE,OACdjjB,KAAM,SACNkjB,WAAY,CAACC,WAAA,GACb,OACC,MAAO,CACNC,YAAa,GACbtU,KAAM,GACNuU,UAAU,IAGZrd,QAAS,CACR,oBAAqBd,GACpB,IAAIuE,QAAarB,QAAQkb,gBAAgBpe,GACrCyE,EAAU,GACRF,IACLE,EAAUsC,OAAOG,MAAM3C,EAAM,CAC5ByR,KAAK,EACLC,UAAU,EACVC,WAAW,EACXC,WAAW,EACXC,YAAY,EACZC,UAAW,oBAGbxV,KAAKgQ,IAAI5P,cAAc,UAAU+M,UAAYvJ,EACvCF,SACC1D,KAAKmU,eAGb,qBAAsBhV,GACrB,IAAIqD,QAAiBH,QAAQmb,YAAYre,GACzCa,KAAK+I,KAAKvS,OAAO,EAAGwJ,KAAK+I,KAAKzT,QAC9BkN,EAASxD,QAASwE,IACjBA,EAAIrE,SAAW8d,EAAQzZ,EAAIT,MAC3BS,EAAIia,aAAc,EAClBja,EAAI7B,UAAY,IAAKhE,KAAK6F,EAAIN,SAAUoH,UACxC9G,EAAIiZ,SAAWtf,EAAc,IAAIQ,KAAK6F,EAAIN,SAAU,cACpDM,EAAIgZ,YAAchZ,EAAIgZ,aAAe,KACrCxc,KAAK+I,KAAKnT,KAAK4N,MAGjB,eACCiT,EAAoBvU,YAAY,CAC/BjI,KAAM,QACNgd,OAAQ,SAGT,IAAI/I,EAAQ4H,aAAaE,QAAQ,gBAAkB,QACnDhW,KAAKgQ,IAAItW,aAAa,cAAewU,GAErClO,KAAK+I,KAAKvS,OAAO,EAAGwJ,KAAK+I,KAAKzT,QAC9B0K,KAAKiQ,OAAS,GAEd,IAAI9Q,EAAW,KACf,GAAyB,MAArBa,KAAK8S,OAAOxT,KACfH,EAAW,QAEP,IAAyB,cAArBa,KAAK8S,OAAOxT,KAWpB,YADAmX,EAAoBvU,YAAY,CAAC+U,OAAQ,SATzC,IAAMjX,KAAK8S,OAAOlT,QAAWI,KAAK8S,OAAOlT,MAAMtF,EAK9C,YADAmc,EAAoBvU,YAAY,CAAC+U,OAAQ,SAHzC9X,EAAW,IAAMa,KAAK8S,OAAOlT,MAAMtF,EAAEsK,MAAM,KAAKrB,OAAOjJ,GAAKA,EAAEhF,OAAS,GAAG4H,KAAK,KAWjFiC,EAAWA,EAAS0M,QAAQ,WAAY,IAExC,IAAI6R,EAAWve,EAASyF,MAAM,KAAKrB,OAAOjJ,GAAKA,EAAEhF,OAAS,GACtDqoB,EAAWne,QACXke,EAASpoB,OAAS,EACrBooB,EAAShe,KAAKke,IAEb,GADAA,EAAOD,EAASC,KACVA,EAAK1e,MAAQ0e,EAAK1e,KAAK5J,OAAS,GAKrC,OADAqoB,EAAWC,EAAKxlB,MACT,EAJPulB,EAAWC,EAAK1e,OASlBye,EAAW,SAGK,WAAbA,GACH3d,KAAKsd,UAAW,QACVtd,KAAK6d,cAAc1e,IAEJ,WAAbwe,GACR3d,KAAKsd,UAAW,QACVjmB,QAAQ+C,IAAI,CAAC4F,KAAK6d,cAAc1e,GAAWa,KAAK8d,eAAe3e,MAGrEa,KAAKsd,UAAW,EAGjB7G,EAAoBvU,YAAY,CAAC+U,OAAQ,UAE1C,QAAShR,GACR,IAAI6G,EAAM7G,EAAIxN,OACd,IAAIqU,EAAIzM,UAAU6H,SAAS,QAA3B,CAGK,GAAI4E,EAAIzM,UAAU6H,SAAS,aAAc,CAC7C,IAAIjO,EAAO6S,EAAI/U,aAAa,QAG5B,OAFAiI,KAAKgQ,IAAItW,aAAa,cAAeO,QACrC6b,aAAaC,QAAQ,cAAe9b,GAGhC,GAAmC,MAA/B6S,EAAIuG,SAASC,gBACjBH,wBAAwBnT,KAAMiG,GAD9B,CAGL,IAAI2W,OAAW1iB,EAAWiF,OAAWjF,EAAWyH,OAAYzH,EAC5D,GAAK4S,EAAL,CACA,OAAQ8P,IAAazd,EAKpB,GAJAyd,EAAW9P,EAAI/U,aAAa,YAC5BoH,EAAW2N,EAAI/U,aAAa,QAC5B4J,EAA4C,EAAhCmL,EAAI/U,aAAa,aAC7B+U,EAAMA,EAAIhU,YACLgU,GAAOA,IAAQnV,SAASkT,KAAM,MAEpC,GAAM1L,EAAU,CACf,IAAIG,EAAO,eAAiBH,EAASyF,MAAM,KAAK1H,KAAK,KACjD8C,KAAK8S,OAAOiL,WAAaze,GAC5BU,KAAK6S,QAAQjd,KAAK,CAAC0J,cAGVsd,GACV5c,KAAK6S,QAAQjd,KAAK,CAAC0J,KAAM,QAASM,MAAO,CAAC2R,EAAGqL,EAAU3hB,EAAG0G,UAI7D,UACCkb,EAAa7c,KACbA,KAAK8B,UAEN,YACC+a,EAAa,OGxMf,EAAO3V,OAASA,EAED,U,sBCLf,YAQA,MACC,MAAM8W,EAAYljB,OAAO,UACnBmjB,EAAY,CAAC,MAAO,SAAU,QAAS,SAAU,QAAS,cAAe,QAAS,SAAU,OAAQ,UAAW,WAAY,MAAO,MAAO,OAAQ,SAAU,SAAU,SAAU,SAAU,YAAa,aAAc,aACpNC,EAAoB,CAAC,MAAO,WAAY,YAAa,SAAU,SAAU,UACzEC,EAAgB,CAAC,UAAW,UAAW,MAAO,IAAK,SAAU,SAAU,QAAS,KAAM,KAAM,KAAM,aAAc,MAAO,SAAU,cAEjIC,EAAgB,CACrB,KAAM,QACN,IAAK,YACL,EAAK,YACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,WACL,IAAK,QACL,IAAK,YACL,IAAK,QACL,IAAK,QACL,EAAK,SACL,IAAK,UACL,IAAK,eACL,IAAK,gBACL,IAAK,sBACL,IAAK,uBACL,IAAK,qBACL,IAAK,sBACL,IAAK,iBAEAC,EAAuB,GAC7B9oB,OAAO6P,KAAKgZ,GAAepf,QAAQ1D,GAAO+iB,EAAqBD,EAAc9iB,GAAKgY,eAAiBhY,GACnG+iB,EAAqB,KAAO,QAC5BJ,EAAUjf,QAAQ,CAACsf,EAAGlpB,IAAM6oB,EAAU7oB,GAAKkpB,EAAEhL,eAE7C,MAAMpN,EAAS,GACTqY,EAAa,GACbC,EAAc,GACdC,EAAc,GAEdtY,EAAoB,CAACzJ,EAAI,KAC9B,IAAIvG,EAAS,GACb,IAAK,IAAIf,EAAI,EAAGA,EAAIsH,EAAKtH,IACxBe,GAAUgW,KAAKC,MAAsB,GAAhBD,KAAKF,UAAiB,GAE5C,OAAO9V,GAGR+P,EAAOE,aAAe,CAACsY,EAAKC,EAAS,EAAGC,EAAM,KAC7C,GAAiB,IAAbD,EAAgB,CACnB,IAAIE,EAAUN,EAAW,aACpBM,IACJA,EAAU,GACVN,EAAW,aAAeM,GAEtBA,EAAQxV,SAASuV,KACrBC,EAAQjpB,KAAKgpB,GACbC,EAAQ9b,KAAK,CAACC,EAAGC,IAAMD,EAAIC,IAE5B4b,EAAUN,EAAWK,GAChBC,IACJA,EAAU,GACVN,EAAWK,GAASC,GAErBA,EAAQjpB,KAAK8oB,QAET,GAAiB,IAAbC,EAAgB,CACxB,IAAIE,EAAUL,EAAY,aACrBK,IACJA,EAAU,GACVL,EAAY,aAAeK,GAEvBA,EAAQxV,SAASuV,KACrBC,EAAQjpB,KAAKgpB,GACbC,EAAQ9b,KAAK,CAACC,EAAGC,IAAMD,EAAIC,IAE5B4b,EAAUL,EAAYI,GACjBC,IACJA,EAAU,GACVL,EAAYI,GAASC,GAEtBA,EAAQjpB,KAAK8oB,QAET,GAAiB,IAAbC,EAAgB,CACxB,IAAIE,EAAUJ,EAAY,aACrBI,IACJA,EAAU,GACVJ,EAAY,aAAeI,GAEvBA,EAAQxV,SAASuV,KACrBC,EAAQjpB,KAAKgpB,GACbC,EAAQ9b,KAAK,CAACC,EAAGC,IAAMD,EAAIC,IAE5B4b,EAAUJ,EAAYG,GACjBC,IACJA,EAAU,GACVJ,EAAYG,GAASC,GAEtBA,EAAQjpB,KAAK8oB,KAKf,MAAMI,EAAUC,IACfA,EAAO,KAAOA,EAAO,KACrBA,EAAOA,EAAKlT,QAAQ,QAAS,MAAMA,QAAQ,aAAc,CAAC1P,EAAO6iB,KAChE,IAAItiB,EAAMsiB,EAAOnT,QAAQ,KAAM,MAAMvW,OACrC,OAAIoH,EAAM,EAAU,KACRP,IAEb4iB,EAAOA,EAAKlT,QAAQ,iDAAkD,CAAC1P,EAAO8iB,EAAKC,IAC3ED,EAAM,KAAOC,GAErBjB,EAAUjf,QAAQ1D,IACjB,IAAIwK,EAAM,IAAIqZ,OAAO,mBAAqB7jB,EAAM,mBAAoB,MACpEyjB,EAAOA,EAAKlT,QAAQ/F,EAAK,CAAC3J,EAAO8iB,EAAKC,IACzB,MAARD,GAAwB,MAATC,GAAyB,MAATA,EAAqB/iB,EACjD8iB,EAAM,IAAM3jB,EAAM,IAAM4jB,KAG1BH,GAIFK,EAAaL,IAClBA,EAAOA,EAAKlT,QAAQ,cAAe,IACnCkT,EAAOA,EAAKlT,QAAQ,WAAY,UACzBkT,GAIFM,EAAY,CAAC/Y,EAAMC,EAAK+Y,GAAWC,IAAUxb,KAClD,IAAI8a,EAAUN,EAAW,aACzB,IAAKM,EAAS,MAAO,GAErB,IAAIW,GAAWzb,EAiCf,OAhCAA,EAASA,GAAU,GACnB8a,EAAQnf,KAAKkf,IACZ,GAAIU,EAAYV,EAAO,OAAO,EAC9B,GAAIA,GAAS,EAAG,OAAO,EACvB,IAAIa,EAAOlB,EAAWK,GAAQc,GAAU,EACxC,MAAOA,EACNA,GAAU,EACVD,EAAKzgB,QAAQ0f,IACZ,IAAIpkB,GACHgM,EAAMhM,GAAKokB,EAAIrY,MAAMC,EAAMC,EAAKxC,GAC7BzJ,IAAGolB,GAAU,OAKpBpZ,EAAOqZ,EAAiBrZ,GAExBuY,EAAQ7f,QAAQ4f,IACf,KAAIU,EAAYV,MACZA,EAAQ,GAAZ,CACA,IAAIa,EAAOlB,EAAWK,GAAQc,GAAU,EACxC,MAAOA,EACNA,GAAU,EACVD,EAAKzgB,QAAQ0f,IACZ,IAAIpkB,GACHgM,EAAMhM,GAAKokB,EAAIrY,MAAMC,EAAMC,EAAKxC,GAC7BzJ,IAAGolB,GAAU,QAKhBF,IAASlZ,EAAOsZ,EAAiBtZ,EAAMvC,IACpCuC,GAGFuZ,EAAe,CAACjc,EAAS2C,EAAK+Y,EAAU,EAAGvb,KAChDwC,EAAIuZ,aAEJ,IAAIC,EAAW,GAEXP,GAAU,EACTzb,IACJyb,GAAU,EACVzb,EAAS,IAIV,IAAIic,EAAS,GACbD,EAAWnc,EAAQgB,MAAM,MACzBmb,EAAS/gB,QAAQ,CAACsH,EAAM1D,KAEvB,IAAI5J,EAAOsN,EAAKnK,MAAM,aACtB,GAAoB,IAAhBmK,EAAKhR,OAKT,GAAIgR,EAAKnK,MAAM,wBACRmK,EAAKnK,MAAM,cAAe6jB,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC3D0D,EAAKnK,MAAM,QAAS6jB,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAChEod,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,SAK5C,GADA5J,EAAOsN,EAAKnK,MAAM,gDACZnD,EACCA,EAAK,GAAIgnB,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAChDod,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,QAF5C,CAOA,GADA5J,EAAOsN,EAAKnK,MAAM,kBACZnD,EAGL,OAFMA,EAAK,QAAIgnB,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAMtD,GADA5J,EAAOsN,EAAKnK,MAAM,6BACZnD,EAEL,OADAA,EAAOsN,EAAKnK,MAAM,wEACZnD,OACCA,EAAK,GAAIgnB,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAChDod,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,MAG5C5J,EAAOsN,EAAKnK,MAAM,4CACZnD,GACCA,EAAK,QAAIgnB,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,UAItDod,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAKvC,GADA5J,EAAOsN,EAAKnK,MAAM,WACZnD,EAEL,OADAA,EAAOsN,EAAKnK,MAAM,6DACZnD,OACCA,EAAK,GAAIgnB,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAChDod,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,MAG5C5J,EAAOsN,EAAKnK,MAAM,iCACZnD,GACCA,EAAK,QAAIgnB,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,UAItDod,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAKvC,GADA5J,EAAOsN,EAAKnK,MAAM,cACZnD,EAEL,OADAA,EAAOsN,EAAKnK,MAAM,+CACZnD,OACCA,EAAK,GAAIgnB,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAChDod,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,MAG5C5J,EAAOsN,EAAKnK,MAAM,yCACZnD,GACCA,EAAK,QAAIgnB,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,UAItDod,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAKvC,GADA5J,EAAOsN,EAAKnK,MAAM,OACZnD,EAAM,CACX,IAAIinB,EAAM3Z,EAAKnK,MAAM,SACrB,IAAK8jB,GAAUA,GAAOA,EAAI3qB,SAAW0D,EAAK1D,OAAS,CAClD,IAAI+kB,GAAM,EACV4F,EAAM3Z,EACN,MAAO+T,EAAK,CACXA,GAAM,EACN,IAAI6F,EAAID,EAAIpU,QAAQ,yBAA0B,IAC9CqU,EAAIA,EAAErU,QAAQ,yBAA0B,IACxCqU,EAAIA,EAAErU,QAAQ,yBAA0B,IACxCwO,EAAO6F,IAAMD,EACbA,EAAMC,EAEP,GAAID,EAAIxc,QAAQ,MAAQ,EAEvB,YADAuc,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,WA9FxCod,EAAOpqB,KAAK,CAACgN,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,MAoGxC,IAAIud,EAAW,GACfH,EAAOhhB,QAAQsH,IACd6Z,EAAS7Z,EAAK,IAAMA,IAGrB,IAAIoZ,GAAU,EAGd,GAFAA,GAAU,EAENM,EAAO1qB,OAAS,EAAG,CAWtB,GATAoqB,EAAUU,EAAWJ,EAAQG,EAAUJ,EAAUxZ,EAAKxC,IAAW2b,EAG7DM,EAAO1qB,OAAS,IAAGoqB,EAAUW,EAAeL,EAAQG,EAAUJ,EAAUxZ,EAAKxC,IAAW2b,GAGxFM,EAAO1qB,OAAS,IAAGoqB,EAAUY,EAAWN,EAAQG,EAAUJ,EAAUxZ,EAAKxC,IAAW2b,GAGpFF,GAAyB,IAAdF,GAAqB/Y,EAAIC,MAAM+Z,WAAY,CACzD,IAAIC,EAAS,EACbT,EAAS/gB,QAAQ,CAACsH,EAAMM,KACvB,GAAKN,IACCA,EAAKnK,MAAM,eAAjB,CACA,IAAIuH,EAAOyc,EAASvZ,GACpB,KAAMlD,KAASA,EAAK,GAAK,GAAKA,EAAK,GAAK,MAClC4C,EAAKnK,MAAM,kCACXmK,EAAKnK,MAAM,mGACXmK,EAAKnK,MAAM,iGAAjB,CACA,IAAIskB,EAAOna,EAAKnK,MAAM,eAChBskB,GACLA,EAAOA,EAAK,GACZna,EAAOA,EAAK2G,OAAO,EAAG3G,EAAKhR,OAASmrB,EAAKnrB,QAAU,oBAAsBkrB,EAAS,YAAcC,GAGhGna,EAAOA,EAAO,oBAAsBka,EAAS,YAE9CA,IACAT,EAASnZ,GAAMN,MAEhBC,EAAIC,MAAMka,eAAiBF,GAI3BT,EAAUI,GAAYQ,EAAgBX,EAAQG,EAAUJ,GAGrDC,EAAO1qB,OAAS,IACnBoqB,EAAUkB,EAAuBZ,EAAQG,EAAUJ,EAAUxZ,EAAKxC,IAAW2b,GAC5EK,EAAUI,GAAYQ,EAAgBX,EAAQG,EAAUJ,IAItDC,EAAO1qB,OAAS,IACnBoqB,EAAUmB,EAAcb,EAAQG,EAAUJ,EAAUxZ,EAAKxC,IAAW2b,GACnEK,EAAUI,GAAYQ,EAAgBX,EAAQG,EAAUJ,IAmC3D,OA9BAL,EAAUoB,EAAed,EAAQG,EAAUJ,EAAUxZ,EAAKxC,IAAW2b,GACpEK,EAAUI,GAAYQ,EAAgBX,EAAQG,EAAUJ,GAGzDL,EAAUqB,EAAef,EAAQG,EAAUJ,EAAUxZ,EAAKxC,IAAW2b,EAErEK,EAAWA,EAAShhB,IAAIuH,IACvB,GAAa,OAATA,EAAe,MAAO,GAC1B,QAAapM,IAAToM,EAAoB,MAAO,GAC/B,GAAoB,IAAhBA,EAAKhR,OAAc,MAAO,GAC9B,IAAI0rB,EAAU,GACd,GAAIxB,EAAS,CACZ,IAAIxmB,EAAOsN,EAAKnK,MAAM,+CAChBnD,EACLgoB,EAAUpB,EAAiBtZ,EAAMvC,GAAQ,IAEzCid,EAAUC,EAAoB3a,EAAMC,GACpCya,EAAUpB,EAAiBoB,EAASjd,GAAQ,QAGzC,CACJid,EAAUC,EAAoB3a,EAAMC,GACpC,IAAIjL,EAAM,SAAW6K,IACrBpC,EAAOzI,GAAO0lB,EACdA,EAAU,IAAM1lB,EAAM,IAEvB,OAAO0lB,IAERza,EAAIuZ,aACAvZ,EAAIuZ,WAAa,IAAGC,EAAWA,EAAS7iB,KAAK,KAC1C6iB,GAGFY,EAAkB,CAACX,EAAQG,EAAUe,KAC1CA,EAAWA,EAASniB,IAAI,CAACuH,EAAMlR,IAAM,CAACA,EAAGkR,IACzC4a,EAAWA,EAAS3d,OAAO+C,MACrBA,EAAK,IAAkB,KAAZA,EAAK,KAGtB4a,EAASliB,QAAQ,CAACsH,EAAMlR,KACvB,IAAIkB,EAAIgQ,EAAK,GACTrD,EAAIkd,EAAS7pB,GACZ2M,IACLA,EAAE,GAAK7N,KAER+qB,EAAW,GACXH,EAAOhhB,QAAQsH,IACd6Z,EAAS7Z,EAAK,IAAMA,IAErB4a,EAAWA,EAASniB,IAAIuH,GAAQA,EAAK,IAC9B,CAAC4a,EAAUf,IAEbc,EAAsB,CAAC3a,EAAMC,KAClC,IAAI4a,EAAS,KAAMC,EAAU,OAAQC,EAAU,GAG3CC,EAAQhb,EAAKnK,MAAM,2BACjBmlB,IACLA,EAAQA,EAAM,GACA,QAAVA,EACHD,EAAQzrB,KAAK,cAEK,QAAV0rB,EACRD,EAAQzrB,KAAK,gBAEK,QAAV0rB,GACRD,EAAQzrB,KAAK,eAEd0Q,EAAOA,EAAKuF,QAAQ,2BAA4B,KAIjD,IAAI0V,EAASjb,EAAKnK,MAAM,SAexB,OAdMolB,IAAWjb,EAAKnK,MAAM,qBAC3BolB,EAASA,EAAO,GAChBF,EAAQzrB,KAAK,SAAU,UAAY2rB,EAAOjsB,QAC1CgR,EAAOA,EAAKuF,QAAQ,MAAO,KAIxBwV,EAAQ/rB,OAAS,IACpB6rB,EAASA,EAAS,WAAaE,EAAQnkB,KAAK,KAAO,KAEpDikB,GAAkB,IAIE,IAAhB7a,EAAKhR,OAAqB,GACvB6rB,EAAS7a,EAAO8a,GAElBhB,EAAa,CAACJ,EAAQG,EAAUe,EAAU3a,EAAKxC,KAEpD,IAAIyd,EAAa,GAMjB,GALAxB,EAAOhhB,QAAQsH,IACTA,EAAK,IACVkb,EAAW5rB,KAAK0Q,KAGS,IAAtBkb,EAAWlsB,OAAc,OAAO,EACpC,GAA0B,IAAtBksB,EAAWlsB,OAEd,OADAksB,EAAW,GAAG,GAAK,GACZ,EAIR,IAAIjH,EAAQiH,EAAWlsB,OAAQmsB,EAAOD,EAAW,GACjDC,EAAK,GAAK,EACV,IAAK,IAAIrsB,EAAI,EAAGA,EAAImlB,EAAOnlB,IAAM,CAChC,IAAIssB,EAAOF,EAAWpsB,GACN,IAAZqsB,EAAK,IACRC,EAAK,GAAKD,EAAK,GACfC,EAAK,GAAKD,EAAK,GACfC,EAAK,GAAK,GAEU,IAAZD,EAAK,KAAUC,EAAK,GAAK,GAClCD,EAAOC,EAEqC,IAAzCF,EAAWA,EAAWlsB,OAAS,GAAG,KAAUksB,EAAWA,EAAWlsB,OAAS,GAAG,GAAK,GAGvFksB,EAAWxiB,QAAQsH,IACF,IAAZA,EAAK,KAAUA,EAAK,GAAK,KAE9B,IAAIqb,EAAW,GACfH,EAAaA,EAAWje,OAAO+C,KAC1BA,EAAK,GAAK,KACE,IAAZA,EAAK,IAAUqb,EAAS/rB,KAAK0Q,EAAK,KAC/B,IAGRiU,EAAQiH,EAAWlsB,OACnB,IAAK,IAAIF,EAAImlB,EAAQ,EAAGnlB,EAAI,EAAGA,GAAK,EAAG,CACtC,IAAIkB,EAAIkrB,EAAWpsB,EAAI,GAAG,GACrBusB,EAAStY,SAAS/S,IACtBkrB,EAAWhrB,OAAOpB,EAAI,EAAG,GAK3B,IAAIwsB,EAAc,GAClBrH,EAAQiH,EAAWlsB,OACnB,IAAK,IAAIF,EAAI,EAAGA,EAAImlB,EAAOnlB,GAAK,EAC/BwsB,EAAYhsB,KAAK,CAAC4rB,EAAWpsB,GAAG,GAAIosB,EAAWpsB,EAAI,GAAG,KA0BvD,OAxBAwsB,EAAY5iB,QAAQsN,IACnB,IAAI2T,EAAM,CAAC,6BACX,IAAK,IAAI7qB,EAAIkX,EAAM,GAAK,EAAGlX,EAAIkX,EAAM,GAAIlX,IACxC6qB,EAAIrqB,KAAKsrB,EAAS9rB,IAEnB6qB,EAAIrqB,KAAK,UACTqqB,EAAMA,EAAI/iB,KAAK,QAEf,IAAI5B,EAAM,SAAW6K,IACrBI,EAAIsb,OAAOvmB,GAAO2kB,EAClBiB,EAAS5U,EAAM,IAAM,IAAMhR,EAAM,IACjC,IAAK,IAAIlG,EAAIkX,EAAM,GAAK,EAAGlX,GAAKkX,EAAM,GAAIlX,IACzC8rB,EAAS9rB,GAAK,KAEf,IAAK,IAAIA,EAAIkX,EAAM,GAAIlX,GAAKkX,EAAM,GAAIlX,IAAM,CAC3C,IAAIkR,EAAO6Z,EAAS/qB,GACpB,IAAKkR,EAAM,SACX,IAAIhQ,EAAI0pB,EAAOvc,QAAQ6C,GACnBhQ,GAAK,GAAG0pB,EAAOxpB,OAAOF,EAAG,UACtB6pB,EAAS/qB,GAChBkR,EAAK,IAAM,KAINsb,EAAYtsB,OAAS,GAEvB+qB,EAAiB,CAACL,EAAQG,EAAUe,EAAU3a,EAAKxC,KAExD,IAAI+d,EAAa,GAMjB,GALA9B,EAAOhhB,QAAQsH,IACTA,EAAK,IACVwb,EAAWlsB,KAAK0Q,KAGS,IAAtBwb,EAAWxsB,OAAc,OAAO,EACpC,GAA0B,IAAtBwsB,EAAWxsB,OAEd,OADAwsB,EAAW,GAAG,GAAK,GACZ,EAIR,IAAIvH,EAAQuH,EAAWxsB,OAAQmsB,EAAOK,EAAW,GACjDL,EAAK,GAAK,EACV,IAAK,IAAIrsB,EAAI,EAAGA,EAAImlB,EAAOnlB,IAAM,CAChC,IAAIssB,EAAOI,EAAW1sB,GACN,IAAZssB,EAAK,KACJtsB,IAAMmlB,EAAQ,IAAGmH,EAAK,GAAK,GACf,IAAZD,EAAK,KAKM,IAAZA,EAAK,IACRC,EAAK,GAAKD,EAAK,GACfC,EAAK,GAAKD,EAAK,GACfC,EAAK,GAAK,GAEU,IAAZD,EAAK,KAAUC,EAAK,GAAK,GAClCD,EAAOC,GAVLD,EAAK,GAAK,EAYgC,IAAzCK,EAAWA,EAAWxsB,OAAS,GAAG,KAAUwsB,EAAWA,EAAWxsB,OAAS,GAAG,GAAK,GAGvFwsB,EAAW9iB,QAAQsH,IACF,IAAZA,EAAK,KAAUA,EAAK,GAAK,KAE9B,IAAIqb,EAAW,GACfG,EAAaA,EAAWve,OAAO+C,KAC1BA,EAAK,GAAK,KACE,IAAZA,EAAK,IAAUqb,EAAS/rB,KAAK0Q,EAAK,KAC/B,IAGRiU,EAAQuH,EAAWxsB,OACnB,IAAK,IAAIF,EAAImlB,EAAQ,EAAGnlB,EAAI,EAAGA,GAAK,EAAG,CACtC,IAAIkB,EAAIwrB,EAAW1sB,EAAI,GAAG,GACrBusB,EAAStY,SAAS/S,IACtBwrB,EAAWtrB,OAAOpB,EAAI,EAAG,GAK3B,IAAI2sB,EAAc,GAClBxH,EAAQuH,EAAWxsB,OACnB,IAAK,IAAIF,EAAI,EAAGA,EAAImlB,EAAOnlB,GAAK,EAC/B2sB,EAAYnsB,KAAK,CAACksB,EAAW1sB,GAAG,GAAI0sB,EAAW1sB,EAAI,GAAG,KAqCvD,OAnCA2sB,EAAY/iB,QAAQsN,IACnB,IAAI0V,EAAQd,EAAS5U,EAAM,IACvB2V,EAAOD,EAAM7lB,MAAM,wBAAwB,GAC3CyG,EAAQof,EAAMve,QAAQwe,GAC1BA,EAAOD,EAAM/U,OAAOrK,EAAQqf,EAAK3sB,OAAQ0sB,EAAM1sB,QAC/C2sB,EAAOA,EAAKpW,QAAQ,qBAAsB,IAC1C,IAAIsV,EAAS,OAAQC,EAAU,gBACX,IAAhBa,EAAK3sB,OACR6rB,EAASA,EAAS,UAAYc,EAAO,WAEjCd,GAAkB,UACvBc,EAAOd,EACP,IAAIlB,EAAM,GACV,IAAK,IAAI7qB,EAAIkX,EAAM,GAAK,EAAGlX,EAAIkX,EAAM,GAAIlX,IACxC6qB,EAAIrqB,KAAKsrB,EAAS9rB,IAEnB6qB,EAAMA,EAAI/iB,KAAK,MACf+iB,EAAMkB,EAASlB,EAAMmB,EAErB,IAAI9lB,EAAM,aAAe6K,IACzBI,EAAIsb,OAAOvmB,GAAO2kB,EAClBiB,EAAS5U,EAAM,IAAM,IAAMhR,EAAM,IACjC,IAAK,IAAIlG,EAAIkX,EAAM,GAAK,EAAGlX,GAAKkX,EAAM,GAAIlX,IACzC8rB,EAAS9rB,GAAK,KAEf,IAAK,IAAIA,EAAIkX,EAAM,GAAIlX,GAAKkX,EAAM,GAAIlX,IAAM,CAC3C,IAAIkR,EAAO6Z,EAAS/qB,GACpB,IAAKkR,EAAM,SACX,IAAIhQ,EAAI0pB,EAAOvc,QAAQ6C,GACnBhQ,GAAK,GAAG0pB,EAAOxpB,OAAOF,EAAG,UACtB6pB,EAAS/qB,GAChBkR,EAAK,IAAM,KAINyb,EAAYzsB,OAAS,GAEvBgrB,EAAa,CAACN,EAAQG,EAAUe,EAAU3a,EAAKxC,KAEpD,IAAIme,EAAc,GAMlB,GALAlC,EAAOhhB,QAAQsH,IACTA,EAAK,IACV4b,EAAYtsB,KAAK0Q,KAGS,IAAvB4b,EAAY5sB,OAAhB,CAGA,IAAI6sB,EAAS,GAAIvf,EAAQ,EAAGsa,EAAOgF,EAAY,GAAG,GAClDC,EAAOvsB,KAAK,CAACssB,EAAY,KACzB,IAAI3H,EAAQ2H,EAAY5sB,OACxB,IAAK,IAAIF,EAAI,EAAGA,EAAImlB,EAAOnlB,IAAM,CAChC,IAAI6B,EAAIirB,EAAY9sB,GAChB6B,EAAE,KAAOimB,EAAO,EACnBiF,EAAOvf,GAAOhN,KAAKqB,IAEnB2L,IACAuf,EAAOvf,GAAS,CAAC3L,IAElBimB,EAAOjmB,EAAE,GAYV,OAVAkrB,EAASA,EAAO5e,OAAOwF,KAClBA,EAAKzT,OAAS,IAKnB6sB,EAAOnjB,QAAQojB,IACdC,EAAcD,EAAOpC,EAAQG,EAAUe,EAAU3a,EAAKxC,MAGhD,IAEF6c,EAAyB,CAACZ,EAAQG,EAAUe,EAAU3a,EAAKxC,KAChE,IAAIue,EAAM,EAAGC,EAAQrB,EAAS5rB,OAO9B,GANA0qB,EAAOhhB,QAAQ,CAACsH,EAAMlR,KACrB,GAAIkR,EAAK,GAAKA,EAAK,KAAO,EAA1B,CACA,IAAIM,EAAKN,EAAK,GACVM,EAAK2b,IAAOA,EAAQ3b,GACpBA,EAAK0b,IAAKA,EAAM1b,MAEjB2b,EAAQD,EAAK,OAAO,EAGxB,IAAK,IAAIltB,EAAIktB,EAAM,EAAGltB,EAAI8rB,EAAS5rB,OAAS,EAAGF,IAAM,CACpD,IAAI4N,EAAImd,EAAS/qB,GAAI6N,EAAIkd,EAAS/qB,EAAI,GACtC,GAAM4N,GAAKA,EAAE,GAAK,GAAOC,GAAKA,EAAE,GAAK,EAAG,MACxCqf,EAAMltB,EAEP,GAAIktB,IAAQpB,EAAS5rB,OAAS,EAAG,CAChC,IAAIF,EAAI8rB,EAAS5rB,OAAS,EACtB0N,EAAImd,EAAS/qB,GACZ4N,GAAc,IAATA,EAAE,KAAUsf,EAAMltB,GAI7B,IAAIotB,EAAQ,EAAGC,EAAY,CAAC,CAAC,CAACF,EAAOpC,EAASoC,MAA4BG,GAAS,EAC/EvC,EAASoC,GAAO,GACpB,IAAK,IAAIntB,EAAImtB,EAAQ,EAAGntB,GAAKktB,EAAKltB,IAAM,CACvC,IAAIsO,EAAOyc,EAAS/qB,GAIpB,GAAKsO,EAML,GAAIA,EAAK,GAAT,CACC,IAAKgf,EAAQ,SAEb,IAAIC,EAAOxC,EAAS/qB,EAAI,GACxB,IAAKutB,GAAQA,EAAK,GAAK,EAAG,CACzBD,GAAS,EACT,SAEDD,EAAUD,GAAO5sB,KAAK,CAACR,EAAGsO,SAIvBA,EAAK,GAAKA,EAAK,KAAO,GAMtBgf,IAMJF,IACAC,EAAUD,GAAS,GACfrC,EAAS/qB,GAAG,GAAK,EAErBstB,GAAS,GATRD,EAAUD,GAAO5sB,KAAK,CAACR,EAAGsO,KANtBgf,GAAQD,EAAUD,GAAO5sB,KAAK,CAACR,EAAGsO,SAlBlCgf,GAAQD,EAAUD,GAAO5sB,KAAK,CAACR,EAAG,OAsCxC,IAAIsqB,GAAU,EAoBd,OAnBA+C,EAAUzjB,QAAQ4jB,IACjBA,EAAQ5jB,QAAQsH,IACf,IAAIM,EAAKN,EAAK,GACTA,EAAK,KAAI4a,EAASta,GAAM,OAASsa,EAASta,MAGhD,IAAIxO,EAAO,EACPwO,EAAKgc,EAAQ,GAAG,GAChB3C,EAAMiB,EAASta,GACfxO,GAAQ,EACN6nB,EAAI9jB,MAAM,YAAa/D,EAAO,EACzB6nB,EAAI9jB,MAAM,uBAAwB/D,EAAO,EACzC6nB,EAAI9jB,MAAM,kBAAiB/D,EAAO,GACzCA,EAAO,IACXyqB,QAAS,EACI,IAATzqB,EAAY0qB,EAAeF,EAAS5C,EAAQG,EAAUe,EAAU3a,EAAKxC,GACvD,IAAT3L,EAAY2qB,GAAa,EAAOH,EAAS5C,EAAQG,EAAUe,EAAU3a,EAAKxC,GACjE,IAAT3L,GAAY2qB,GAAa,EAAMH,EAAS5C,EAAQG,EAAUe,EAAU3a,EAAKxC,MAE5E2b,GAEFmB,EAAgB,CAACb,EAAQG,EAAUe,EAAU3a,EAAKxC,KACvD,IAAIif,EAAY,GAAIC,EAAU,GAC9BjD,EAAOhhB,QAAQsH,IACd,GAAgB,IAAZA,EAAK,GAAT,CACA,IAAIM,EAAKN,EAAK,GACV5C,EAAOyc,EAASvZ,EAAK,GACzB,GAAKlD,EAmBAA,EAAK,GAAK,GAAGsf,EAAUptB,KAAK,CAACgR,EAAIsa,EAASta,GAAIiF,QAAQ,oBAAqB,IAAI,SAnBzE,CACV,IAAIoU,EAAMiB,EAASta,EAAK,GACxB,GAAW,IAAPA,GAAcqZ,EAAI9jB,MAAM,eAC3B6mB,EAAUptB,KAAK,CAACgR,EAAIsa,EAASta,GAAIiF,QAAQ,oBAAqB,IAAI,SAE9D,CACJ,IAAIvR,EAAI4mB,EAASta,GAAIqG,OAAO,EAAG,GACrB,MAAN3S,EAAW2oB,EAAQrtB,KAAK,CAACgR,EAAK,EAAG,IACtB,MAANtM,EAAW2oB,EAAQrtB,KAAK,CAACgR,EAAK,EAAG,IAC3B,MAANtM,GACM,MAANA,GACM,MAANA,EAFW2oB,EAAQrtB,KAAK,CAACgR,EAAK,EAAG,IAG3B,MAANtM,EAAW2oB,EAAQrtB,KAAK,CAACgR,EAAK,EAAG,IAC3B,MAANtM,EAAW2oB,EAAQrtB,KAAK,CAACgR,EAAK,EAAG,IAC3B,MAANtM,GAAW2oB,EAAQrtB,KAAK,CAACgR,EAAK,EAAG,IAC1Csa,EAASta,GAAM,UAOlB,IAAK,IAAIxR,EAAI,EAAGA,EAAI8rB,EAAS5rB,OAAQF,IAAM,CAC1C,IAAI6qB,EAAMiB,EAAS9rB,GACnB,IAAK6qB,EAAK,SACV,IAAIhQ,EAASgQ,EAAI9jB,MAAM,gBACvB,GAAM8T,EAAQ,CACb,IAAIhZ,EAAIgZ,EAAO,GAAIiT,EAAKjT,EAAO,GAC3BhZ,IAAMgpB,GACoB,IAAzBA,EAAIxc,QAAQxM,EAAI,OACnBgsB,EAAQrtB,KAAK,CAACR,EAAG8tB,EAAG5tB,SACpB4rB,EAAS9rB,GAAK6qB,EAAIpU,QAAQ,yBAA0B,MAKxD,OAAImX,EAAU1tB,OAAS2tB,EAAQ3tB,SAAW,IAE1C2tB,EAAQlgB,KAAK,CAACogB,EAAIC,IAAOD,EAAG,GAAKC,EAAG,IAEpCJ,EAAUhkB,QAAQC,IACjB,IAAK2H,EAAIxO,GAAQ6G,EACb3D,EAAM,YAAc6K,IACpBkH,EAAO,MACOA,GAAL,MAATjV,EAA4B,kBACd,MAATA,EAA4B,kBACnB,MAATA,EAA4B,iBACnB,MAATA,EAA4B,iBACnB,MAATA,EAA4B,mBACnB,MAATA,EAA4B,mBACnB,MAATA,EAA4B,mBACnB,MAATA,EAA4B,wBAClB,IACnB2L,EAAOzI,GAAO+R,EACd6T,EAASta,GAAM,IAAMtL,EAAM,MAE5B2nB,EAAQjkB,QAAQC,IACf,IAAK2H,EAAIgY,GAAS3f,EACd3D,EAAM,UAAY6K,IAClBtO,EAAM,KAAO+mB,GAAS,GACtBvR,EAAO6T,EAASta,GACpByG,EAAOgS,EAAUhS,EAAM9G,GACvB8G,EAAOA,EAAKxB,QAAQ,wBAAyB,IAC7CwB,EAAO,IAAMxV,EAAM,IAAMwV,EAAO,KAAOxV,EAAM,IAC7CkM,EAAOzI,GAAO+R,EACd6T,EAASta,GAAM,IAAMtL,EAAM,OAGrB,IAEFwlB,EAAiB,CAACd,EAAQG,EAAUe,EAAU3a,EAAKxC,KACxD,IAAIsf,EAAQ,GAAI3D,GAAU,EAC1B,MAAOA,EACNA,GAAU,EACVwB,EAASliB,QAAQsH,IAChB,GAAoB,IAAhBA,EAAKhR,OAAc,OAAO+tB,EAAMztB,KAAK0Q,GAGzCA,EAAOA,EAAKuF,QAAQ,iCAAkC,CAAC1P,EAAOglB,EAAQ/mB,EAAKH,KAC1E,IAA0Byd,EAAtBnB,EAAMhQ,EAAI+c,KAAKrpB,GACnB,IAAKsc,GAAQA,EAAI9S,QAAQ,OAAS,GAAK8S,EAAI9S,QAAQ,KAAO,IAAM8S,EAAIpa,MAAM,mBAAsBoa,EAAI9S,QAAQ,OAAS,EAAG,CAEvH,GADAiU,EAAOnR,EAAIC,MAAMvM,EAAKqZ,gBACjBoE,GAASA,EAAKjU,QAAQ,OAAS,GAAKiU,EAAKjU,QAAQ,KAAO,IAAMiU,EAAKvb,MAAM,mBAAsBub,EAAKjU,QAAQ,OAAS,EAAG,OAAOtH,EACpIoa,EAAMmB,EAEP,OAAOyJ,EAAS,IAAM5K,EAAM,MAI7B,IAAIlB,EAAY,GAAIkO,EAAU,GAAIC,GAAgB,EAClD,MAAOA,EACNA,GAAgB,EAChBld,EAAOA,EAAKuF,QAAQ,+FAAgG,CAAC1P,EAAOsnB,EAASxmB,KACpIumB,GAAgB,EACVvmB,EAAKd,MAAM,4BAChBonB,EAAQ3tB,KAAKuG,GAGbkZ,EAAUzf,KAAKuG,GAET,KAGTmK,EAAOA,EAAKuF,QAAQ,qBAAsB,IAC1C0X,EAAQvkB,QAAQsH,GAAQ+c,EAAMztB,KAAK0Q,IAC/BA,EAAKhR,OAAS,IACb+f,EAAU/f,OAAS,IAAGoqB,GAAU,GACpC2D,EAAMztB,KAAK0Q,IAEZ+O,EAAUrW,QAAQsH,GAAQ+c,EAAMztB,KAAK0Q,MAGtC4a,EAAS1qB,OAAO,EAAG0qB,EAAS5rB,QAC5B+tB,EAAMrkB,QAAQsH,GAAQ4a,EAAStrB,KAAK0Q,IACpC+c,EAAQ,GAET,OAAO,GAEFtC,EAAiB,CAACf,EAAQG,EAAUe,EAAU3a,EAAKxC,KAExD,IAAI2f,EAAa,GAAIC,EAAa,GAAItO,EAAY,GAAI6H,GAAQ,EAC9DgE,EAASliB,QAAQ,CAACsH,EAAMM,KACvB,GAAKN,GAAwB,IAAhBA,EAAKhR,OAAlB,CAIA,IAAI0D,EAAOsN,EAAKnK,MAAM,+CACtB,GAAMnD,EACLkkB,GAAQ,MADT,CAKA,GADAlkB,EAAOsN,EAAKnK,MAAM,8FACZnD,EAGL,OAFAqc,EAAUzf,KAAK,CAACgR,EAAIN,SACpB4W,GAAQ,GAGTlkB,EAAOsN,EAAKnK,MAAM,2FAClB,IAAI/D,EAASY,EAAO,EAAI,EACpBZ,IAAS8kB,EACC,IAAT9kB,EACHsrB,EAAWA,EAAWpuB,OAAS,GAAGM,KAAK,CAACgR,EAAIN,IAE3B,IAATlO,GACRurB,EAAWA,EAAWruB,OAAS,GAAGM,KAAK,CAACgR,EAAIN,KAIhC,IAATlO,EACHsrB,EAAWA,EAAWpuB,QAAU,CAAC,CAACsR,EAAIN,IAErB,IAATlO,IACRurB,EAAWA,EAAWruB,QAAU,CAAC,CAACsR,EAAIN,KAEvC4W,EAAO9kB,SA/BP8kB,GAAQ,IAkCVyG,EAAaA,EAAWpgB,OAAOkW,IAC9B,IAAImK,EAASnK,EAAKnkB,OAAS,EAE3B,OADoB,IAAhBmkB,EAAKnkB,QAAc+f,EAAUzf,KAAK6jB,EAAK,IACpCmK,IAIRF,EAAW1kB,QAAQ6kB,IAClB,IAAIjgB,EAAU,GACVkgB,EAAQD,EAAM,GAAG,GACrBA,EAAM7kB,QAAQ0E,IACb,IAAIkD,EAAKlD,EAAK,GACV4C,EAAO5C,EAAK,GACI,IAAhB4C,EAAKhR,SACTsO,EAAQhO,KAAKypB,EAAU/Y,EAAMC,IAC7B2a,EAASta,GAAM,QAEhBhD,EAAUA,EAAQ1G,KAAK,QACvBgkB,EAAS4C,GAASlgB,IAInB+f,EAAW3kB,QAAQya,IAClB,IAAI7V,EAAU,GACVkgB,EAAQrK,EAAK,GAAG,GACpBA,EAAKza,QAAQ0E,IACZE,EAAQhO,KAAKypB,EAAU3b,EAAK,GAAI6C,IAChC2a,EAASxd,EAAK,IAAM,OAErBE,EAAUA,EAAQ1G,KAAK,IACvB0G,EAAU,2BAA6BA,EAAU,SACjD,IAAItI,EAAM,aAAe6K,IACzBpC,EAAOzI,GAAOsI,EACdsd,EAAS4C,GAAS,IAAMxoB,EAAM,MAI/B+Z,EAAUrW,QAAQuC,IACjB,IAAKqF,EAAIhD,GAAWrC,EACpBqC,EAAUyb,EAAUzb,EAAS2C,GAC7B,IAAIjL,EAAM,YAAc6K,IACxBpC,EAAOzI,GAAOsI,EACdsd,EAASta,GAAM,IAAMtL,EAAM,OAIvB+mB,EAAgB,CAACD,EAAOpC,EAAQG,EAAUe,EAAU3a,EAAKxC,KAC9D,IAAIggB,GAAU,EACVC,EAAU,KAAMC,GAAS,EAG7B7B,EAAM1iB,KAAK,CAACgE,EAAMd,KACjB,IAAI0D,EAAO4a,EAASxd,EAAK,IACzB4C,EAAOA,EAAKuF,QAAQ,qBAAsB,IAC1C,IAAIoU,EAAM3Z,EAAKnK,MAAM,YACrB,GAAK8jB,EAEL,OADAA,EAAMA,EAAI,GACN3Z,IAAS2Z,GACZ+D,EAAU/D,EACVgE,EAAQvgB,EAAK,GACC,IAAVd,IAAamhB,GAAU,IACpB,QAJR,IAOIC,GAKJA,EAAUA,EAAQnY,QAAQ,WAAY,IACtCmY,EAAUA,EAAQpf,MAAM,KACxBof,EAAUA,EAAQjlB,IAAImlB,GACfA,EAAI/nB,MAAM,UAAkB,EAC5B+nB,EAAI/nB,MAAM,SAAiB,EAC3B+nB,EAAI/nB,MAAM,SAAiB,EAC1B,KAVR4nB,GAAU,EACVC,EAAU,IAcX,IAcI/T,EAdAkU,EAAO,GAAIC,EAAO,EACtBhC,EAAMpjB,QAAQsH,IACb,IAAI+d,EAAM/d,EAAK,GACf,GAAI+d,IAAQJ,EAAZ,CACA,IAAIK,EAAMC,EAAcrD,EAASmD,IACjCF,EAAKvuB,KAAK0uB,GACNA,EAAIhvB,OAAS8uB,IAAMA,EAAOE,EAAIhvB,WAEnC,IAAK,IAAIgB,EAAI0tB,EAAQ1uB,OAAQgB,EAAI8tB,EAAM9tB,IAAM0tB,EAAQpuB,KAAK,IAC1D,IAAK,IAAIR,EAAI,EAAGA,EAAI+uB,EAAK7uB,OAAS,EAAGF,IAAM,CAC1C,IAAIkvB,EAAMH,EAAK/uB,GACFkvB,GAAMA,EAAIhvB,OACvB,IAAK,IAAIgB,EAAIguB,EAAIhvB,OAAQgB,EAAI8tB,EAAM9tB,IAAMguB,EAAI1uB,KAAK,IAG/CmuB,IACH9T,EAASkU,EAAK,GACdA,EAAKpuB,SAIN,IAAK,IAAIX,EAAI,EAAGA,EAAIgvB,EAAMhvB,IAAM,CAC/B,GAAmB,IAAf4uB,EAAQ5uB,GAAU,SACtB,IAAIovB,GAAW,EACfL,EAAKzkB,KAAK4kB,IACT,IAAIrlB,EAAOqlB,EAAIlvB,GACf,GAAK6J,EACL,OAAW,EAAPA,IAAaA,GAChBulB,GAAW,GACJ,QAFR,IAKaR,EAAQ5uB,GAAlBovB,EAAuB,EACT,EAInB,IAAInX,EAAO,UACP0W,IACH1W,GAAQ,cACR4C,EAAOjR,QAAQ,CAACylB,EAAKrvB,KACpBqvB,EAAMpF,EAAUoF,EAAKle,GACrB,IAAIme,EAAK,cACLpqB,EAAI0pB,EAAQ5uB,GACHsvB,GAAH,IAANpqB,EAAe,SACJ,IAANA,EAAe,QACb,OACXoqB,GAAM,KAAOD,EAAM,QACnBpX,GAAQqX,IAETrX,GAAQ,iBAETA,GAAQ,UACR8W,EAAKnlB,QAAQslB,IACZjX,GAAQ,OACRiX,EAAItlB,QAAQ,CAACylB,EAAKrvB,KACjBqvB,EAAMpF,EAAUoF,EAAKle,GACrB,IAAIme,EAAK,cACLpqB,EAAI0pB,EAAQ5uB,GACHsvB,GAAH,IAANpqB,EAAe,SACJ,IAANA,EAAe,QACb,OACXoqB,GAAM,KAAOD,EAAM,QACnBpX,GAAQqX,IAETrX,GAAQ,UAETA,GAAQ,mBAER,IAAI/R,EAAM,SAAW6K,IACrBpC,EAAOzI,GAAO+R,EAEd4C,EAASmS,EAAM,GAAG,GAClB7H,MAAQ6H,EAAM9sB,OACd,IAAK,IAAIF,EAAI,EAAGA,EAAImlB,MAAOnlB,IAAM,CAChC,IAAIkR,EAAO8b,EAAMhtB,GACbwR,EAAKN,EAAK,GACd4a,EAASta,GAAM,YACRuZ,EAASvZ,GAChB,IAAItQ,EAAI0pB,EAAOvc,QAAQ6C,GACnBhQ,GAAK,GAAG0pB,EAAOxpB,OAAOF,EAAG,GAC7BgQ,EAAK,IAAM,EAEZ4a,EAASjR,GAAU,IAAM3U,EAAM,KAE1BipB,EAAgBje,IACK,MAAtBA,EAAK2G,OAAO,EAAG,KAAY3G,EAAO,IAAMA,GACJ,MAApCA,EAAK2G,OAAO3G,EAAKhR,OAAS,EAAG,KAAYgR,GAAc,KAC3D,IAAIiU,EAAQjU,EAAKhR,OAAQspB,EAAQ,EAAG+F,EAAQ,GAAIzH,EAAO,EACvD,IAAK,IAAI9nB,EAAI,EAAGA,EAAImlB,EAAOnlB,IAAM,CAChC,IAAIkF,EAAIgM,EAAK2G,OAAO7X,EAAG,GACb,MAANkF,GAAuB,IAAVskB,EAKb,OAASnb,QAAQnJ,IAAM,EAAGskB,IACrB,OAASnb,QAAQnJ,IAAM,GAAGskB,KALlC+F,EAAM/uB,KAAK0Q,EAAK2G,OAAOiQ,EAAO,EAAG9nB,EAAI8nB,EAAO,IAC5CA,EAAO9nB,GAMT,OAAOuvB,GAEF7B,EAAiB,CAAC8B,EAAQ5E,EAAQG,EAAUe,EAAU3a,EAAKxC,KAEhE,IAAI3L,EAAO,QACP2Q,EAAOmY,EAAS0D,EAAO,GAAG,IAE9B,GADA7b,EAAOA,EAAK5M,MAAM,2BACZ4M,EAAM,CACX,IAAI9N,EAAI8N,EAAK,GACb9N,EAAIA,EAAE4Q,QAAQ,qBAAsB,IAChC5Q,EAAE3F,OAAS,IACTiR,EAAIC,MAAMvL,IAAOsL,EAAIyZ,OAAO/kB,KAChC7C,EAAO6C,IAOV8N,EAAO6b,EAAO7lB,IAAI2E,IACjB,IAAIkD,EAAKlD,EAAK,GACVuc,EAAMiB,EAASta,GAGf5N,EAAOinB,EAAI9jB,MAAM,YACrB,GAAMnD,EAAM,CACXA,EAAOA,EAAK,GACZ,IAAI0D,EAAM,EACNU,EAAIpE,EAAKmD,MAAM,MACbiB,IAAGV,GAAOU,EAAE9H,QAClB8H,EAAIpE,EAAKmD,MAAM,MACTiB,IAAGV,GAAkB,EAAXU,EAAE9H,QAClB8H,EAAIpE,EAAKmD,MAAM,OACTiB,IAAGV,GAAkB,EAAXU,EAAE9H,QAClB8H,EAAgC,GAA3B+O,KAAKC,MAAM1P,EAAM,GAAK,GAC3B,IAAIsiB,EAAS,GACb,IAAK,IAAI5pB,EAAI,EAAGA,EAAIgI,EAAI,EAAGhI,IAAM4pB,GAAU,IAC3CiB,EAAMA,EAAIpU,QAAQ7S,EAAMgmB,GAChB5hB,EAAI,OAGZpE,EAAOinB,EAAI9jB,MAAM,aACXnD,IACLA,EAAOA,EAAK,GACZinB,EAAMA,EAAIpU,QAAQ7S,EAAM,MACdinB,EAAI9jB,MAAM,cAGtB,OAAO8jB,IAERlX,EAAK,GAAKA,EAAK,GAAG8C,QAAQ,IAAIsT,OAAO,eAAiB/mB,EAAKyT,QAAQ,MAAO,QAAU,eAAgB,IACpG9C,EAAOA,EAAK7L,KAAK,MACjB6L,EAAOA,EAAK8C,QAAQ,aAAc,IAElC,IAAIwB,EAAO,sBAAwBjV,EAAO,KAC1C2Q,EAAO8W,EAAa9W,EAAMxC,EAAK,EAAGxC,GAClCsJ,GAAQtE,EACRsE,GAAQ,gBACR,IAAI/R,EAAM,cAAgB6K,IAC1BpC,EAAOzI,GAAO+R,EACduX,EAAO5lB,QAAQ0E,IACd,IAAIkD,EAAKlD,EAAK,GACdwd,EAASta,GAAM,YACRuZ,EAASvZ,GAChB,IAAItQ,EAAI0pB,EAAOvc,QAAQC,EAAK,IACxBpN,GAAK,GAAG0pB,EAAOxpB,OAAOF,EAAG,KAE9B4qB,EAAS0D,EAAO,GAAG,IAAM,IAAMtpB,EAAM,KAEhCynB,EAAe,CAAC8B,EAASD,EAAQ5E,EAAQG,EAAUe,EAAU3a,EAAKxC,KAEvE,IAAIgF,EAAO,GAAI+b,GAAO,EACtBF,EAAO5lB,QAAQ0E,IACd,IAAIkD,EAAKlD,EAAK,GACVuc,EAAMiB,EAASta,GAInB,GADA5N,KAAOinB,EAAI9jB,MAAM,8BACXnD,KAIL,OAHAinB,EAAMA,EAAIpU,QAAQ7S,KAAK,GAAI,IAC3B8rB,SACA/b,EAAK+b,GAAO,CAAC7E,IAMd,GADAjnB,KAAOinB,EAAI9jB,MAAM,YACXnD,KAAM,CACXA,KAAOA,KAAK,GACZ,IAAI0D,EAAM,EACNU,EAAIpE,KAAKmD,MAAM,MACbiB,IAAGV,GAAOU,EAAE9H,QAClB8H,EAAIpE,KAAKmD,MAAM,MACTiB,IAAGV,GAAkB,EAAXU,EAAE9H,QAClB8H,EAAIpE,KAAKmD,MAAM,OACTiB,IAAGV,GAAkB,EAAXU,EAAE9H,QAClB8H,EAAgC,GAA3B+O,KAAKC,MAAM1P,EAAM,GAAK,GAC3B,IAAIsiB,EAAS,GACb,IAAK,IAAI5pB,EAAI,EAAGA,EAAIgI,EAAI,EAAGhI,IAAM4pB,GAAU,IAC3CiB,EAAMA,EAAIpU,QAAQ7S,KAAMgmB,GAEzBjW,EAAK+b,GAAKlvB,KAAKqqB,KAEhBlX,EAAOA,EAAKhK,IAAIE,IACfA,EAAOA,EAAK/B,KAAK,MACjB+B,EAAOA,EAAK4M,QAAQ,aAAc,IAC3B5M,IAGR,IAAIoO,EAAO,GACEA,EAATwX,EAAgB,OACR,OACZ9b,EAAK/J,QAAQC,IACZoO,GAAQ,OACRA,GAAQwS,EAAa5gB,EAAMsH,EAAK,EAAGxC,GACnCsJ,GAAQ,UAEIA,GAATwX,EAAiB,QACR,QAEb,IAAIvpB,EAAM,QAAU6K,IACpBpC,EAAOzI,GAAO+R,EACduX,EAAO5lB,QAAQ0E,IACd,IAAIkD,EAAKlD,EAAK,GACdwd,EAASta,GAAM,YACRuZ,EAASvZ,GAChB,IAAItQ,EAAI0pB,EAAOvc,QAAQC,EAAK,IACxBpN,GAAK,GAAG0pB,EAAOxpB,OAAOF,EAAG,KAE9B4qB,EAAS0D,EAAO,GAAG,IAAM,IAAMtpB,EAAM,KAGhCypB,EAAkB,CAAC7D,EAAU3a,KAClC,IAAIwZ,EAAW,CAAC,IAAKiF,EAAM,EAAGC,EAAQ,CAAC,GACnCC,EAAW,GA4Df,GA3DAhE,EAASliB,QAAQsH,IAEhBA,EAAOA,EAAKuF,QAAQ,aAAc,CAAC1P,EAAOyiB,MAC/B,EACVA,GAAgB,EACF,IAAVA,IACHoG,IACAjF,EAASiF,GAAO,IAEjBC,EAAMrG,EAAQ,IAAMqG,EAAMrG,EAAQ,IAAM,GAAK,EAC7C,IAAK,IAAIxpB,EAAIwpB,EAAOxpB,EAAI6vB,EAAM3vB,OAAQF,IAAM6vB,EAAM7vB,GAAK,EACvD,IAAI+vB,EAAW,OACf,IAAK,IAAI/vB,EAAI,EAAGA,EAAIwpB,EAAOxpB,IAAM+vB,GAAY,KAAOF,EAAM7vB,IAAM,GAGhE,OAFA+G,EAAQA,EAAQ,YAAcgpB,EAAW,KACzCD,EAAStvB,KAAK,CAACgpB,EAAOuG,EAAU7e,EAAKuF,QAAQ,eAAgB,MACtD1P,IAEP0P,QAAQ,eAAgB1P,GAAS,OAASA,GAC1C0P,QAAQ,oBAAqB,CAAC1P,EAAOlC,KACrC,IAAI2L,EAAQW,EAAI6e,SAASnrB,GACzB,OAAK2L,GACDlD,MAAM2iB,QAAQzf,KAAQA,EAAQA,EAAM,IACjC,gCAAkC3L,EAAO,gBAAkBA,EAAO,aAAe2L,EAAQ,iBAF7EzJ,IAIpB4jB,EAASiF,GAAKpvB,KAAK0Q,KAEpByZ,EAAWA,EAASxc,OAAOsgB,GAASA,EAAMvuB,OAAS,GACnDiR,EAAI2e,SAAWA,EAGfnF,EAAWA,EAAShhB,IAAIumB,IACvB,IAAIC,EAAY,GACZpE,EAAS,YAAaC,EAAU,aAYpC,OAXAkE,EAAKtmB,QAAQ,CAACsH,EAAMwe,KACnB,IAAIpF,GAAU,EACdpZ,EAAOA,EAAKuF,QAAQ,6DAA8D,CAAC1P,EAAOoU,KACzFmP,GAAU,EACV6F,EAAU3vB,KAAK2a,GACf,IAAI3M,EAAUzH,EAAM8Q,OAAO,EAAG9Q,EAAM7G,OAAS,GAAK,oBAAsBib,EAAK,KAC7E,OAAO3M,IAEJ8b,IAAS4F,EAAKR,GAAOxe,KAE1Bgf,EAAOA,EAAKpoB,KAAK,IACQ,IAArBqoB,EAAUjwB,SACdiwB,EAAYA,EAAUxmB,IAAI,CAAC9E,EAAM7E,KAChC,IAAIwO,EAAU2C,EAAI+c,KAAKrpB,GACnB2M,EAAKL,EAAIgf,UAAU9hB,QAAQxJ,GAG/B,OAFA7E,IACAkwB,EAAOA,EAAKzZ,QAAQ,IAAIsT,OAAO,QAAUvY,EAAK,KAAM,KAAMxR,GACnD,+DAAiE6E,EAAO,KAAO7E,EAAI,QAAUwO,EAAU,SAE/G0hB,GAAQ,sEACRA,GAAQC,EAAUroB,KAAK,IACvBooB,GAAQ,2CAV2BnE,EAASmE,EAAOlE,IAe9C7a,EAAIif,UAAYjf,EAAIif,SAASlwB,OAAS,EAAG,CAC9C,IAAI+X,EAAO,4BACXA,GAAQ,2FACR9G,EAAIif,SAASxmB,QAAQ,CAACymB,EAAIrwB,KACzBiY,GAAQ,6DAA+DoY,EAAK,MAAQrwB,EAAI,GAAK,QAAUmR,EAAI+c,KAAKmC,GAAM,SAEvHpY,GAAQ,aACR0S,EAASnqB,KAAKyX,GAIf,GAAI9G,EAAIC,MAAM4O,UAAc7O,EAAI6e,UAAY7e,EAAI6e,SAAS9vB,OAAS,EAAG,CACpE,IAAI+X,EAAO,4BACXA,GAAQ,6FACRA,GAAQqY,EAAiBnf,GACzB8G,GAAQ,aACR0S,EAASnqB,KAAKyX,GAOf,GAHA9G,EAAI2S,MAAQ3S,EAAI2S,OAAS,GACzB3S,EAAIof,MAAQpf,EAAIof,OAAS,GACzBpf,EAAIqf,MAAQrf,EAAIqf,OAAS,GACrBrf,EAAIC,MAAM6O,WAAa9O,EAAI2S,MAAM5jB,OAASiR,EAAIof,MAAMrwB,OAASiR,EAAIqf,MAAMtwB,OAAS,EAAG,CACtF,IAAI+X,EAAO,4BACXA,GAAQ,iGACJ9G,EAAI2S,MAAM5jB,OAAS,IACtB+X,GAAQ,8CACRA,GAAQwY,EAAqBtf,EAAK,UAE/BA,EAAIof,MAAMrwB,OAAS,IACtB+X,GAAQ,8CACRA,GAAQwY,EAAqBtf,EAAK,UAE/BA,EAAIqf,MAAMtwB,OAAS,IACtB+X,GAAQ,8CACRA,GAAQwY,EAAqBtf,EAAK,UAEnC8G,GAAQ,aACR0S,EAASnqB,KAAKyX,GAIf,GAAI9G,EAAIC,MAAM8O,UAAW,CACxB,IAAIoP,EAAK,iCAET,GADAA,GAAM,MAAQne,EAAIC,MAAMZ,MAAQ,OAC5BW,EAAIC,MAAM+O,aACPhP,EAAIC,MAAM+V,SACfmI,GAAM,qBACAne,EAAIC,MAAMsf,QAAOpB,GAAM,mBAAqBne,EAAIC,MAAMsf,MAAQ,MACpEpB,GAAMne,EAAIC,MAAM+V,OACVhW,EAAIC,MAAMsf,QAAOpB,GAAM,QAC7BA,GAAM,QAEDne,EAAIC,MAAMiR,MAAM,CACrBiN,GAAM,0BACN,IAAIjN,EAAwB,EAAjBlR,EAAIC,MAAMiR,KACrB,GAAInb,MAAMmb,GAAOA,EAAOlR,EAAIC,MAAMiR,SAC7B,CACJA,EAAO,IAAI9Z,KAAK8Z,GAChB,IAAIsO,EAAItO,EAAKtZ,UAAY,KACrB9D,EAAIod,EAAKrZ,WAAa,EACtB/D,EAAI,KAAIA,EAAI,IAAMA,GACtB,IAAIE,EAAIkd,EAAKpZ,UACT9D,EAAI,KAAIA,EAAI,IAAMA,GACtB,IAAI6C,EAAIqa,EAAKnZ,WACTlB,EAAI,KAAIA,EAAI,IAAMA,GACtB,IAAI5B,EAAIic,EAAKlZ,aACT/C,EAAI,KAAIA,EAAI,IAAMA,GACtB,IAAI9E,EAAI+gB,EAAKjZ,aACT9H,EAAI,KAAIA,EAAI,IAAMA,GACtB+gB,EAAOsO,EAAI,IAAM1rB,EAAI,IAAME,EAAI,IAAM6C,EAAI,IAAM5B,EAAI,IAAM9E,EAE1DguB,GAAMjN,EACNiN,GAAM,OAGRA,GAAM,YACN3E,EAASlgB,QAAQ6kB,GAGlB,OAAO3E,GAEFiG,EAAsB,CAACjH,EAAMxY,KAClC,IAAImZ,GAAU,EAAMuG,EAAO,EAC3B,MAAOvG,EAcN,GAbAA,GAAU,EACVX,EAAOA,EAAKhgB,IAAIuH,IACfA,EAAOA,EAAKuF,QAAQ,qBAAsB,CAAC1P,EAAOlC,EAAMisB,KACvD,IAAIC,EAAW7f,EAAK8f,YAAY,QAASF,GAAMG,EAAS/f,EAAK8f,YAAY,SAAUF,GACnF,GAAIC,EAAWE,EAAQ,OAAOlqB,EAC9B,IAAIyH,EAAU2C,EAAIyZ,OAAO/lB,GACzB,OAAK2J,GACL8b,GAAU,EACH9b,GAFczH,IAIfmK,IAER2f,IACa,KAATA,EAAa,MAElB,OAAOlH,GAEFuH,EAAuB,CAACvG,EAAUxZ,KACvC,IAAIggB,GAAQhgB,EAAIC,MAAMggB,MAAQ,MAAMlT,cAiEpC,GAhEAyM,EAAWA,EAAShhB,IAAI0nB,IAEvBA,EAAUA,EAAQ5a,QAAQ,eAAiB1P,GACnCupB,EAAiBnf,IAGzBkgB,EAAUA,EAAQ5a,QAAQ,gBAAkB1P,GACpC0pB,EAAqBtf,EAAK,SAC9Bsf,EAAqBtf,EAAK,SAC1Bsf,EAAqBtf,EAAK,UAE9BkgB,EAAUA,EAAQ5a,QAAQ,aAAe1P,GACjC0pB,EAAqBtf,EAAK,UAElCkgB,EAAUA,EAAQ5a,QAAQ,aAAe1P,GACjC0pB,EAAqBtf,EAAK,UAElCkgB,EAAUA,EAAQ5a,QAAQ,aAAe1P,GACjC0pB,EAAqBtf,EAAK,UAGlCkgB,EAAUA,EAAQ5a,QAAQ,yBAA2B1P,IACpD,IAAI+nB,EAAM/nB,EAAMA,MAAM,iBAClByJ,EAAQ,KAAMgZ,EAAQ,EAU1B,OATMsF,GACLA,EAAIllB,QAAQ1E,IACXA,EAAIA,EAAE2S,OAAO,EAAG3S,EAAEhF,OAAS,GAC3B,IAAIkG,EAAQ,EAAJlB,EACJgC,MAAMd,GAAIoK,EAAQtL,EACjBskB,EAAQpjB,IAGf+K,EAAImgB,OAAQ,EACLC,EAAuBpgB,EAAKX,EAAOgZ,KAI3CrpB,OAAO6P,KAAKmB,EAAIC,OAAOxH,QAAQ1D,IAC9B,IAAIsI,EAAUtI,EAAIgY,cACd4K,EAAkB7U,SAAS/N,KAC/BsI,EAAU2C,EAAIC,MAAMlL,IACJ,IAAZsI,IAAgC,IAAZA,EACJA,EAAN,OAAT2iB,EAAyB3iB,EAAU,IAAM,IAC9BA,EAAU,KAAO,MAExBlB,MAAM2iB,QAAQzhB,KACHA,EAAN,OAAT2iB,EAAyB3iB,EAAQ1G,KAAK,KAC3B0G,EAAQ1G,KAAK,OAE7BupB,EAAUA,EAAQ5a,QAAQ,IAAIsT,OAAO,IAAM7jB,EAAM,IAAK,MAAOa,GACrDyH,MAKT6iB,EAAUA,EAAQ5a,QAAQ,kBAAmB,CAAC1P,EAAOb,KACpD,IAAIsI,EAAU2C,EAAIsb,OAAOvmB,GACzB,OAAKsI,GAAgBzH,IAIfsqB,IAGJlgB,EAAIC,MAAM2O,MAAQ5O,EAAImgB,MAAO,CAChC,IAAIvR,EAAMwR,EAAuBpgB,EAAK,KAAM,GACxC4O,EAAI1R,QAAQ,uBAAyB,IACxC0R,EAAM,YAAcA,EAAM,aACtB5O,EAAIC,MAAM8O,UACbyK,EAASvpB,OAAO,EAAG,EAAG2e,GAGtB4K,EAASlgB,QAAQsV,IAIpB,OAAO4K,GAEF4G,EAAyB,CAACpgB,EAAKX,EAAOgZ,KAC3C,IAAIvR,EAAO,2BAA6BzH,EAAQ,qCA8BhD,OA7BAW,EAAI2e,SAASlmB,QAAQ0E,IACpB,KAAIA,EAAK,GAAKkb,GAAd,CACA,IAAI8F,EAAK,gCAAkChhB,EAAK,GAAK,KACrD,IAAK,IAAItO,EAAI,EAAGA,EAAIsO,EAAK,GAAItO,IAC5BsvB,GAAM,uCAEPA,GAAM,kCAAoChhB,EAAK,GAAK,KAAOA,EAAK,GAAK,OACrEghB,GAAM,OACNrX,GAAQqX,KAEHne,EAAIif,UAAYjf,EAAIif,SAASlwB,OAAS,IAC3C+X,GAAQ,0HAEL9G,EAAIC,MAAM4O,UAAc7O,EAAI6e,UAAY7e,EAAI6e,SAAS9vB,OAAS,IACjE+X,GAAQ,4HAEL9G,EAAIC,MAAM6O,WAAa9O,EAAI2S,MAAM5jB,OAASiR,EAAIof,MAAMrwB,OAASiR,EAAIqf,MAAMtwB,OAAS,IACnF+X,GAAQ,+HACJ9G,EAAI2S,MAAM5jB,OAAS,IACtB+X,GAAQ,wKAEL9G,EAAIof,MAAMrwB,OAAS,IACtB+X,GAAQ,wKAEL9G,EAAIqf,MAAMtwB,OAAS,IACtB+X,GAAQ,yKAGVA,GAAQ,WACDA,GAEFqY,EAAoBnf,IACzB,IAAI8G,EAAO,GACX,OAAqB,IAAjB9G,EAAI6e,SAAuB,IAC/B7e,EAAI6e,SAASpmB,QAAQC,IACpB,IAAK3D,EAAKsK,GAAS3G,EACf2E,EAAU2C,EAAIqgB,MAAMtrB,GACpBopB,EAAK,4BACTA,GAAM,wCAA0CppB,EAAM,KAAOsK,EAAQ,OACrE8e,GAAM9gB,EACN8gB,GAAM,OACNrX,GAAQqX,IAEFrX,IAEFwY,EAAuB,CAACtf,EAAKnO,KAClC,IAAIid,EAAY9O,EAAInO,GACpB,IAAKid,IAAc3S,MAAM2iB,QAAQhQ,IAAmC,IAArBA,EAAU/f,OAAc,MAAO,GAC9E,IAAIyT,EAAO,GACP2b,EAAK,OAQT,OAPArP,EAAUrW,QAAQC,IACjB,IAAIsC,EAAMtC,EAAK,GACX8J,EAAKM,SAAS9H,KAClBwH,EAAKnT,KAAK2L,GACVmjB,GAAM,gBAAkBnjB,EAAM,qBAAuBA,EAAM,eAE5DmjB,GAAM,QACCA,GAIF/E,EAAmB/b,IACxBA,EAAUA,EAAQiI,QAAQ,YAAa,CAAC1P,EAAO0qB,EAAOC,KACrD,IAAIC,EAAQ5a,KAAKC,MAAMya,EAAMvxB,OAAS,GAClC0xB,EAAuB,EAARD,IAAcF,EAAMvxB,OACnCa,EAAS,GACTuhB,EAAO,IAAM0G,EAAc,MAAQ,IACvC,IAAK,IAAIhpB,EAAI,EAAGA,EAAI2xB,EAAO3xB,IAAMe,GAAUuhB,EAC3C,GAAIsP,EAAa,CAChB,IAAIC,EAAO7I,EAAc0I,GACpBG,EACA9wB,EAASA,EAAS,IAAM8wB,EAAO,IADzB9wB,GAAkB2wB,OAI7B3wB,GAAkB2wB,EAEnB,OAAO3wB,IAEDyN,GAEFgc,EAAmB,CAAChc,EAASG,EAAQmjB,GAAO,KACjD,IAAIxH,GAAU,EACd,MAAOA,EACNA,GAAU,EACV9b,EAAUA,EAAQiI,QAAQ,mBAAoB,CAAC1P,EAAO2qB,KACrD,IAAIG,EAAOljB,EAAO+iB,GAClB,OAAMG,GACLvH,GAAU,EACHuH,GAED9qB,IAIT,IAAK+qB,EAAQ,OAAOtjB,EAEpB8b,GAAU,EACV,MAAOA,EACNA,GAAU,EACV9b,EAAUA,EAAQiI,QAAQ,mBAAoB,CAAC1P,EAAO2qB,KACrD,IAAIG,EAAOljB,EAAOia,GAAW8I,EAAKxT,eAClC,OAAM2T,GACLvH,GAAU,EACHuH,GAED9qB,IAaT,OARAyH,EAAUA,EAAQiI,QAAQ,OAAQ,QAClCjI,EAAUA,EAAQiI,QAAQ,SAAU,CAAC1P,EAAO+pB,KAC3C,GAAY,IAARA,EAAW,MAAO,OACtB,IAAIzE,EAAO7d,EAAQqJ,OAAOiZ,EAAM,EAAG,GACnC,MAAa,MAATzE,EAAqBtlB,EAClB,SAERyH,EAAUA,EAAQiI,QAAQ,4BAA6B,QAChDjI,GAEFujB,EAAcC,IACnB,IAAKA,EAAO,MAAO,GACnBA,EAAQA,EAAMxiB,MAAM,cAAcrB,OAAO+a,GAAKA,EAAEhpB,OAAS,GACzD,IAAIyT,EAAO,GAKX,OAJAqe,EAAMpoB,QAAQsf,IACTvV,EAAKM,SAASiV,IAClBvV,EAAKnT,KAAK0oB,KAEJvV,GAIFse,EAAW,CAAC9gB,EAAKwY,KACtB,IAAIvY,EAAQ,GACR8gB,GAAU,EAGd,MAAOA,EACNA,GAAU,EACVvI,EAAOA,EAAKlT,QAAQ,+CAAgD,CAAC1P,EAAOb,EAAKN,IAC3D,IAAjBA,EAAM1F,OAAqB6G,GACbb,EAAN,OAARA,EAAoB,QACP,OAARA,EAAoB,SACZ,OAARA,EAAoB,cACZ,QAARA,EAAqB,UACb,OAARA,EAAoB,OAClBA,EAAIgY,cACV2K,EAAU5U,SAAS/N,IACxBgsB,GAAU,EACV9gB,EAAMlL,GAAON,EACN,MAH8BmB,IAsBvC,GAhBMqK,EAAM8O,WAAa,CAAC,KAAM,MAAO,QAAQjM,SAAS7C,EAAM8O,UAAUhC,eAAgB9M,EAAM8O,WAAY,EACrG9O,EAAM8O,WAAY,EACjB9O,EAAM4O,UAAY,CAAC,KAAM,MAAO,QAAQ/L,SAAS7C,EAAM4O,SAAS9B,eAAgB9M,EAAM4O,UAAW,EAClG5O,EAAM4O,UAAW,EAChB5O,EAAM+gB,OAAS,CAAC,KAAM,MAAO,QAAQle,SAAS7C,EAAM+gB,MAAMjU,eAAgB9M,EAAM+gB,OAAQ,EACzF/gB,EAAM+gB,OAAQ,EACb/gB,EAAM8c,MAAQ,CAAC,KAAM,MAAO,QAAQja,SAAS7C,EAAM8c,KAAKhQ,eAAgB9M,EAAM8c,MAAO,EACtF9c,EAAM8c,MAAO,EACZ9c,EAAMogB,OAAS,CAAC,KAAM,MAAO,QAAQvd,SAAS7C,EAAMogB,MAAMtT,eAAgB9M,EAAMogB,OAAQ,EACzFpgB,EAAMogB,OAAQ,EACbpgB,EAAM6O,WAAa,CAAC,KAAM,MAAO,QAAQhM,SAAS7C,EAAM6O,UAAU/B,eAAgB9M,EAAM6O,WAAY,EACrG7O,EAAM6O,WAAY,EACjB7O,EAAM2O,KAAO,CAAC,KAAM,MAAO,QAAQ9L,SAAS7C,EAAM2O,IAAI7B,eAAgB9M,EAAM2O,KAAM,EACnF3O,EAAM2O,KAAM,EACjB5O,EAAIC,MAAQA,EACZD,EAAIC,MAAMghB,QAAUL,EAAY5gB,EAAIC,MAAMghB,SACpCjhB,EAAIC,MAAMiR,KACf,IACClR,EAAIC,MAAMiR,KAAO,IAAK9Z,KAAK4I,EAAIC,MAAMiR,MAAOnN,UAC3C,aACM/D,EAAIC,MAAMiR,KAGnBlR,EAAIC,MAAMihB,IAAMlhB,EAAIC,MAAMkhB,OAAS,yDAC/BnhB,EAAIC,MAAMlN,OACbiN,EAAIC,MAAMlN,OAASiN,EAAIC,MAAMlN,OAAOsL,MAAM,aAEtC2B,EAAIC,MAAMlN,OAAS,GACpBiN,EAAIC,MAAM0H,MACb3H,EAAIC,MAAM0H,MAAQ3H,EAAIC,MAAM0H,MAAMtJ,MAAM,aAAa7F,IAAImP,GACjDA,EAAMrC,QAAQ,cAAe,KAGjCtF,EAAIC,MAAM0H,MAAQ,GACvB3H,EAAI6e,SAAW7e,EAAI6e,UAAY,GAC/B7e,EAAIohB,YAAa,EAGjBphB,EAAI+c,KAAO,GACXgE,GAAU,EACV,MAAOA,EACNA,GAAU,EACVvI,EAAOA,EAAKlT,QAAQ,0DAA2D,CAAC1P,EAAOb,EAAKN,EAAO4S,EAAMsY,KACxG5qB,EAAMA,EAAIoQ,OACV1Q,EAAQA,EAAM0Q,OACK,IAAfpQ,EAAIhG,QAAiC,IAAjB0F,EAAM1F,OAAqB6G,GACnDoK,EAAI+c,KAAKhoB,GAAON,EAChBssB,GAAU,EACH,KAAO1Z,KAKhBrH,EAAIyZ,OAAS,GACbsH,GAAU,EACV,MAAOA,EACNA,GAAU,EACVvI,EAAOA,EAAKlT,QAAQ,oDAAqD,CAAC1P,EAAOlC,EAAM2J,KAEtF,GADA3J,EAAOA,EAAKyR,OACQ,IAAhBzR,EAAK3E,QAAmC,IAAnBsO,EAAQtO,OAGjC,OAFAiR,EAAIyZ,OAAO/lB,GAAQ2J,EACnB0jB,GAAU,EACH,KA8CT,OA1CA/xB,OAAO6P,KAAKmB,EAAI+c,MAAMtkB,QAAQ1D,IAC7B,IAAIgL,EAAOC,EAAI+c,KAAKhoB,GACpBgL,EAAO+Y,EAAU/Y,EAAMC,GAEvBD,EAAOA,EAAKuF,QAAQ,mBAAoB,CAAC1P,EAAO2qB,KAC/C,IAAIG,EAAO5I,EAAqByI,EAAKxT,eACrC,OAAM2T,GACC9qB,IAEMkjB,EAAU/Y,EAAMC,GAC9BA,EAAI+c,KAAKhoB,GAAOgL,IAEjB/Q,OAAO6P,KAAKmB,EAAIyZ,QAAQhhB,QAAQ1D,IAC/B,IAGIsI,EAHA0C,EAAOC,EAAIyZ,OAAO1kB,GAClB2U,EAAS3J,EAAKnK,MAAM,QACxBmK,EAAOA,EAAKoF,OAEZnF,EAAIuZ,WAAa,EAEZlc,EADAqM,EACU4P,EAAavZ,EAAMC,EAAK,GADhB,CAAC8Y,EAAU/Y,EAAMC,IAExCA,EAAIyZ,OAAO1kB,GAAOsI,EAAQ1G,KAAK,MAGhCqJ,EAAIqhB,QAAU,GACdrhB,EAAIqgB,MAAQ,GACZrgB,EAAIshB,MAAQ,GACZ9I,EAAKlT,QAAQ,0CAA2C,CAAC1P,EAAO2rB,EAAOC,EAAMC,KAC5E,IAAI1sB,EAAMysB,GAAQC,EACbzhB,EAAI+c,KAAKhoB,GAGkB,MAAvBwsB,EAAM7a,OAAO,EAAG,GACxB1G,EAAIqgB,MAAMtrB,GAAOiL,EAAI+c,KAAKhoB,GAG1BiL,EAAIshB,MAAMvsB,GAAOiL,EAAI+c,KAAKhoB,GANC,MAAvBwsB,EAAM7a,OAAO,EAAG,IAAe1G,EAAIqhB,QAAQve,SAAS/N,IAAMiL,EAAIqhB,QAAQhyB,KAAK0F,KAWjFyjB,EAAOK,EAAWL,GAEXA,GAGR7Y,EAAOsR,UAAY,CAACuH,EAAM7T,KACzB,IAAI+c,EAAU,CACbpG,OAAQ,GACR6E,OAAO,GAGR3H,EAAOD,EAAQC,GACfA,EAAOsI,EAASY,EAASlJ,GACnB7T,GAAQ3V,OAAO6P,KAAK8F,GAAQlM,QAAQ1D,IACzC,IAAIN,EAAQkQ,EAAO5P,GACnBA,EAAMA,EAAIgY,cACN,CAAC,QAAS,SAAU,QAAS,QAAQ7P,QAAQnI,IAAQ,QAC3CpB,IAAVc,GAAiC,OAAVA,IAAgBitB,EAAQzhB,MAAMlL,GAAON,KAEjEitB,EAAQnI,WAAa,EACrBmI,EAAQN,YAAa,EACrBM,EAAQzhB,MAAMZ,MAAQqiB,EAAQzhB,MAAMZ,OAAS,MACvCsF,EAAOgd,WACZD,EAAQzhB,MAAMZ,MAAUsF,EAAOtF,MAAQsF,EAAOtF,MAAQqiB,EAAQzhB,MAAMZ,MACpEqiB,EAAQzhB,MAAM+V,OAAWrR,EAAOqR,OAASrR,EAAOqR,OAAS0L,EAAQzhB,MAAM+V,OACvE0L,EAAQzhB,MAAMsf,MAAU5a,EAAO4a,MAAQ5a,EAAO4a,MAAQmC,EAAQzhB,MAAMsf,MACpEmC,EAAQzhB,MAAMiR,KAASvM,EAAOuM,KAAOvM,EAAOuM,KAAOwQ,EAAQzhB,MAAMiR,OAGjEwQ,EAAQzhB,MAAMZ,MAAUqiB,EAAQzhB,MAAMZ,MAAQqiB,EAAQzhB,MAAMZ,MAAQsF,EAAOtF,MAC3EqiB,EAAQzhB,MAAM+V,OAAW0L,EAAQzhB,MAAM+V,OAAS0L,EAAQzhB,MAAM+V,OAASrR,EAAOqR,OAC9E0L,EAAQzhB,MAAMsf,MAAUmC,EAAQzhB,MAAMsf,MAAQmC,EAAQzhB,MAAMsf,MAAQ5a,EAAO4a,MAC3EmC,EAAQzhB,MAAMiR,KAASwQ,EAAQzhB,MAAMiR,KAAOwQ,EAAQzhB,MAAMiR,KAAOvM,EAAOuM,MAIzEsH,EAAOc,EAAad,EAAMkJ,GAG1BlJ,EAAOA,EAAKhgB,IAAI6E,GACRA,EAAQiI,QAAQ,mBAAoB,CAAC1P,EAAO2qB,KAClD,IAAIG,EAAO5I,EAAqByI,EAAKxT,eACrC,OAAM2T,GACC9qB,KAKT4iB,EAAOiH,EAAoBjH,EAAMkJ,GAGjClJ,EAAOgG,EAAgBhG,EAAMkJ,GAG7BlJ,EAAOuH,EAAqBvH,EAAMkJ,GAELlJ,EAAzBkJ,EAAQzhB,MAAMgP,UAAkB,mBAAqByS,EAAQzhB,MAAMgP,UAAY,KAAOuJ,EAAK7hB,KAAK,IAAM,aAC9F,YAAc6hB,EAAK7hB,KAAK,IAAM,aAEtC+qB,EAAQzhB,MAAM2hB,aACjBF,EAAQzhB,MAAM0H,MAAMlP,QAAQsH,IAC3ByY,GAAQ,gDAAkDzY,EAAO,OAElE2hB,EAAQzhB,MAAMlN,OAAO0F,QAAQsH,IAC5ByY,GAAQ,uCAAyCzY,EAAO,kBAI1D,IAAIuY,EAAUJ,EAAY,cAAgB,GAC1CI,EAAQ7f,QAAQ4D,IACf,IAAIwlB,EAAa3J,EAAY7b,GACxBwlB,GACLA,EAAWppB,QAAQkI,IAClB6X,EAAO7X,EAAOb,MAAM0Y,OAItB,IAAI5oB,EAAS,GA4Bb,OA3BAA,EAAOyN,QAAUmb,EACjB5oB,EAAOyP,MAAQqiB,EAAQzhB,MAAMZ,MAC7BzP,EAAOkyB,UAAYJ,EAAQzhB,MAAMka,eAEjCvqB,EAAOuhB,KAAO,GACdvhB,EAAOuhB,KAAK6E,OAAS0L,EAAQzhB,MAAM+V,OACnCpmB,EAAOuhB,KAAKoO,MAAQmC,EAAQzhB,MAAMsf,MAClC3vB,EAAOuhB,KAAK8E,YAAcyL,EAAQzhB,MAAMgW,YACxCrmB,EAAOuhB,KAAK5V,OAASmmB,EAAQzhB,MAAMiR,KACnCthB,EAAOuhB,KAAK4Q,SAAWL,EAAQzhB,MAAMghB,QAAQzoB,IAAIwpB,GAAMA,GACjDN,EAAQzhB,MAAMC,SAAQtQ,EAAOuhB,KAAKjR,OAASwhB,EAAQzhB,MAAMC,QAE/DtQ,EAAOqyB,YAAc,GACrBP,EAAQ7C,SAASpmB,QAAQC,IACxB9I,EAAOqyB,YAAYvpB,EAAK,IAAMA,EAAK,KAGpC9I,EAAO0xB,MAAQ,GACftyB,OAAO6P,KAAK6iB,EAAQ3E,MAAMtkB,QAAQ/E,IACjC9D,EAAO0xB,MAAM5tB,GAAQguB,EAAQ3E,KAAKrpB,KAGnC9D,EAAO6pB,OAAS,GAChBzqB,OAAO6P,KAAK6iB,EAAQ3E,MAAMtkB,QAAQ/E,IACjC9D,EAAO6pB,OAAO/lB,GAAQguB,EAAQjI,OAAO/lB,KAG/B9D,GAER+P,EAAOG,MAAQ,CAAC0Y,EAAM7T,KACrB,IAAI/U,EAEJ,OADAA,EAAS+P,EAAOsR,UAAUuH,EAAO,KAAM7T,GAClC/U,EACEA,EAAOyN,QADM,IAIrB,MAAM6kB,EAAiB,CAAChC,EAASvb,KAChCA,EAAOwd,UACP,IAAIxH,EAAW,GAAI5a,EAAO,GAyE1B,OAxEAmgB,EAAQkC,WAAW3pB,QAAQxD,IAC1B,IAUIotB,EAVA/wB,EAAM2D,EAAE+d,QACZ,IAAK1hB,EAAK,CACT,GAAmB,aAAf2D,EAAE6X,SAAyB,OAC/B,IAAIuV,EAAQptB,EAAEqtB,aAAe,GAG7B,OAFAD,EAAQA,EAAMld,YACVkd,EAAMtzB,OAAS,IAAGgR,GAAQsiB,IAM/B,GAFA/wB,EAAMA,EAAI6T,OAAO4H,cAEb6K,EAAc9U,SAASxR,GAAM,CAOhC,IANa,EACTyO,EAAKhR,OAAS,IACjB4rB,EAAStrB,KAAKsV,EAAO4d,SAAWxiB,GAChCA,EAAO,IAGI,eAARzO,EAAsB,CACzB,IAAIkxB,EAAa7d,EAAO4d,SACxB5d,EAAO4d,SAAW5d,EAAO4d,SAAW,MACpCF,EAAQH,EAAejtB,EAAG0P,GAC1B0d,EAAQA,EAAMI,KAAKzJ,KACnBqJ,EAAMhzB,KAAK,MACXsV,EAAO4d,SAAWC,OAEd,GAAY,OAARlxB,EAAc,CACtB,IAAIkxB,EAAa7d,EAAO4d,SACpB5d,EAAO4d,SAASrlB,QAAQ,QAAU,GAAKyH,EAAO4d,SAASrlB,QAAQ,SAAW,EAAGyH,EAAO4d,SAAW,KAAO5d,EAAO4d,SAC5G5d,EAAO4d,SAAW5d,EAAO4d,SAAW,OACzCF,EAAQH,EAAejtB,EAAG0P,GAC1B0d,EAAQA,EAAMI,KAAKzJ,KACnBqJ,EAAMhzB,KAAK,IACXsV,EAAO4d,SAAWC,OAEd,GAAY,OAARlxB,EAAc,CACtB,IAAIkxB,EAAa7d,EAAO4d,SACpB5d,EAAO4d,SAASrlB,QAAQ,QAAU,GAAKyH,EAAO4d,SAASrlB,QAAQ,SAAW,EAAGyH,EAAO4d,SAAW,KAAO5d,EAAO4d,SAC5G5d,EAAO4d,SAAW5d,EAAO4d,SAAW,MACzCF,EAAQH,EAAejtB,EAAG0P,GAC1B0d,EAAQA,EAAMI,KAAKzJ,KACnBqJ,EAAMhzB,KAAK,IACXsV,EAAO4d,SAAWC,OAGlBH,EAAQH,EAAejtB,EAAG0P,GAC1B0d,EAAQA,EAAMI,KAAKzJ,KACnBqJ,EAAMhzB,KAAK,IAENgzB,GAASA,EAAMtzB,OAAS,GAAG4rB,EAAStrB,QAAQgzB,OAE9C,CACJ,IAAKA,EAAOjK,GAAYsK,EAAWztB,EAAG3D,EAAKqT,GACvCyT,EACCiK,EAAMtzB,OAAS,IAClBgR,GAAQsiB,EAAM1rB,KAAK,MAIhBoJ,EAAKhR,OAAS,IACjB4rB,EAAStrB,KAAKsV,EAAO4d,SAAWxiB,GAChCA,EAAO,IAERsiB,EAAM5pB,QAAQ/H,IACbiqB,EAAStrB,KAAKsV,EAAO4d,SAAW7xB,SAKhCqP,EAAKhR,OAAS,GAAG4rB,EAAStrB,KAAKsV,EAAO4d,SAAWxiB,GACrD4E,EAAOwd,UACAxH,GAEFgI,EAAc,CAACC,EAAMje,KAC1B,IAAI5E,EAAO,GA0DX,OAzDA6iB,EAAKR,WAAW3pB,QAAQxD,IACvB,IAAI3D,EAAM2D,EAAE+d,QACZ,IAAK1hB,EAAK,CACT,GAAmB,aAAf2D,EAAE6X,SAAyB,OAC/B,IAAIuV,EAAQptB,EAAEqtB,aAAe,GAG7B,OAFAD,EAAQA,EAAMld,YACVkd,EAAMtzB,OAAS,IAAGgR,GAAQsiB,IAK/B,GADA/wB,EAAMA,EAAI6T,OAAO4H,cACL,MAARzb,EAcJ,GAAY,SAARA,GAA0B,SAARA,EAKtB,GAAY,WAARA,GAA4B,MAARA,EAKxB,GAAY,OAARA,GAAwB,MAARA,EAKpB,GAAY,QAARA,EAKJ,GAAY,QAARA,EAKJ,GAAY,QAARA,EAKJyO,GAAQ9K,EAAE8R,cALV,CACC,IAAIsb,EAAQM,EAAY1tB,EAAG0P,GAC3B5E,GAAQsiB,MAPT,CACC,IAAIA,EAAQM,EAAY1tB,EAAG0P,GAC3B5E,GAAQsiB,MAPT,CACC,IAAIA,EAAQM,EAAY1tB,EAAG0P,GAC3B5E,GAAQsiB,MAPT,CACC,IAAIA,EAAQM,EAAY1tB,EAAG0P,GAC3B5E,GAAQsiB,MAPT,CACC,IAAIA,EAAQM,EAAY1tB,EAAG0P,GAC3B5E,GAAQsiB,MAPT,CACC,IAAIA,EAAQM,EAAY1tB,EAAG0P,GAC3B5E,GAAQsiB,MAhBT,CACC,IAAInnB,EAAMjG,EAAEhE,KACuB,IAA/BiK,EAAIgC,QAAQ,iBAAsBhC,EAAM,IAC5C,IAAImnB,EAAQM,EAAY1tB,EAAG0P,GACtBzJ,GAA4B,MAArBA,EAAIwL,OAAO,EAAG,IAIpBxL,EAAItF,MAAM,yBAAwBsF,EAAMyJ,EAAO5G,KAAO7C,GAC3DmnB,EAAQ,IAAMA,EAAQ,KAAOnnB,EAAM,IACnC6E,GAAQsiB,GALRtiB,GAAQsiB,KAyCJtiB,GAEF2iB,EAAa,CAACE,EAAMtxB,EAAKqT,KAC9B,GAAY,WAARrT,EAAkB,MAAO,CAAC,CAAC,KAAK,GACpC,GAAY,UAARA,EAAiB,MAAO,CAAC,CAAC,KAAK,GACnC,GAAY,SAARA,EAAgB,MAAO,CAAC,CAAC,KAAK,GAClC,GAAY,OAARA,EAAc,MAAO,CAAC,CAAC,YAAY,GACvC,GAAY,OAARA,EAAc,MAAO,CAAC,CAAC,OAAO,GAClC,GAAIA,EAAIsE,MAAM,UAAW,CACxB,IAAIitB,EAAMvxB,EAAI8E,UAAU,EAAG9E,EAAIvC,QAC/B8zB,GAAO,EACP,IAAIjI,EAAS,KACb,IAAK,IAAI/rB,EAAI,EAAGA,EAAIg0B,EAAKh0B,IAAM+rB,GAAU,IACzC,IAAI7a,EAAO4iB,EAAYC,EAAMje,GAE7B,OADA5E,EAAO6a,EAAS7a,EAAO,KAChB,CAAC,CAACA,IAAO,GAEjB,GAAY,MAARzO,EAAa,CAChB,IAAI4J,EAAM0nB,EAAK3xB,KACoB,IAA/BiK,EAAIgC,QAAQ,iBAAsBhC,EAAM,IAC5C,IAAImnB,EAAQM,EAAYC,EAAMje,GAC9B,OAAKzJ,GAA4B,MAArBA,EAAIwL,OAAO,EAAG,IACrBxL,EAAItF,MAAM,yBAAwBsF,EAAMyJ,EAAO5G,KAAO7C,GAC3DmnB,EAAQ,IAAMA,EAAQ,KAAOnnB,EAAM,IAC5B,CAAC,CAACmnB,IAAQ,IAH4B,CAAC,CAACA,IAAQ,GAKxD,GAAY,QAAR/wB,EAAe,CAClB,GAAwB,IAApBsxB,EAAKzwB,IAAIpD,OAAc,MAAO,CAAC,CAAC,KAAK,GACzC,IAAIszB,EAAQ,SAAWO,EAAKzwB,IAAM,MAClC,MAAO,CAAC,CAACkwB,IAAQ,GAElB,GAAY,UAAR/wB,EAAiB,CACpB,GAAwB,IAApBsxB,EAAKzwB,IAAIpD,OAAc,MAAO,CAAC,CAAC,KAAK,GACzC,IAAIszB,EAAQ,SAAWO,EAAKzwB,IAAM,MAClC,MAAO,CAAC,CAACkwB,IAAQ,GAElB,GAAY,UAAR/wB,EAAiB,CACpB,GAAwB,IAApBsxB,EAAKzwB,IAAIpD,OAAc,MAAO,CAAC,CAAC,KAAK,GACzC,IAAIszB,EAAQ,SAAWO,EAAKzwB,IAAM,MAClC,MAAO,CAAC,CAACkwB,IAAQ,GAElB,GAAY,SAAR/wB,GAA0B,SAARA,EAAgB,CACrC,IAAI+wB,EAAQM,EAAYC,EAAMje,GAC9B,MAAO,CAAC,CAAC0d,IAAQ,GAElB,GAAY,WAAR/wB,GAA4B,MAARA,EAAa,CACpC,IAAI+wB,EAAQM,EAAYC,EAAMje,GAC9B,MAAO,CAAC,CAAC,KAAO0d,EAAQ,OAAO,GAEhC,GAAY,OAAR/wB,GAAwB,MAARA,EAAa,CAChC,IAAI+wB,EAAQM,EAAYC,EAAMje,GAC9B,MAAO,CAAC,CAAC,IAAM0d,EAAQ,MAAM,GAE9B,GAAY,MAAR/wB,EAAa,CAChB,IAAI+wB,EAAQM,EAAYC,EAAMje,GAC9B,MAAO,CAAC,CAAC,KAAO0d,EAAQ,OAAO,GAEhC,GAAY,QAAR/wB,EAAe,CAClB,IAAI+wB,EAAQM,EAAYC,EAAMje,GAC9B,MAAO,CAAC,CAAC,IAAM0d,EAAQ,MAAM,GAE9B,GAAY,QAAR/wB,EAAe,CAClB,IAAI+wB,EAAQM,EAAYC,EAAMje,GAC9B,MAAO,CAAC,CAAC,IAAM0d,EAAQ,MAAM,GAE9B,GAAY,QAAR/wB,EAAe,CAClB,IAAI+wB,EAAQM,EAAYC,EAAMje,GAC9B,MAAO,CAAC,CAAC,KAAO0d,EAAQ,OAAO,GAEhC,IAAIhlB,EAAUslB,EAAYC,EAAMje,GAChC,MAAO,CAAC,CAACtH,IAAU,IAGpBsC,EAAOuE,QAAU,CAACqC,EAAK5B,EAAQsU,GAAQ,KACtC,IAAK1S,EAAK,MAAO,GACjB5B,EAASA,GAAU,GACnBA,EAAOwd,QAAU,EACjBxd,EAAO4d,SAAW,GAClB5d,EAAO5G,KAAO4G,EAAO5G,MAAQ,GAC7B,IAAIV,EAAU6kB,EAAe3b,EAAK5B,GAIlC,OAHAtH,EAAUA,EAAQolB,KAAKzJ,KACvB3b,EAAUA,EAAQ1G,KAAK,MACvB0G,EAAUA,EAAQiI,QAAQ,UAAW,QAC9BjI,GAGRsC,EAAOmZ,UAAYA,EACnBnZ,EAAO2Z,aAAeA,EAEtB3Z,EAAOC,kBAAoBA,EAE3BD,EAAO8X,UAAYA,EACnB9X,EAAOkY,cAAgBA,EAEvB,IACCtiB,OAAOoK,OAASA,EAEjB,MACC,IACC9G,EAAO8G,OAASA,EAEjB,MAAOvN,GACNiD,QAAQjC,MAAMhB,MA9hEjB,K,iFCPMoO,MAAM,iB,SACkCA,MAAM,qB,SAC/CA,MAAM,2B,qFAFV,eAIM,MAJN,EAIM,CAHL,eAA0F,KAAtF,QAAK,eAAE,EAAAsiB,MAAM,EAAAjxB,KAAM,EAAA6e,U,+BAAW,EAAArR,OAAK,GAAuC,EAAA1G,M,iBAArC,eAA6C,IAA7C,I,wBACE,EAAAA,M,iBAA3C,eAAmD,IAAnD,I,sBACoB,EAAAA,M,iBAApB,eAA0D,G,MAA/BJ,KAAM,EAAAI,KAAO+a,OAAQ,EAAAhD,Q,mDAKlD,MAAM9R,EAAU,IAAI3E,iBAAiB,gBACtB,OACdvG,KAAM,cACN2V,MAAO,CACNhK,MAAO/C,OACPzK,KAAMyK,OACNoU,OAAQpU,OACR3D,KAAMwD,OAEPzC,QAAS,CACR,MAAO7H,EAAM6e,GAEZ,GADAA,EAASA,EAAOrS,MAAM,KAAKrB,OAAOgO,GAAKA,EAAEjc,OAAS,GAC5B,IAAlB2hB,EAAO3hB,OAAX,CAEA,IAAImD,EAAS,GACb,GAAa,SAATL,EACHK,EAAO6G,KAAO,IAAM2X,EAAO/Z,KAAK,SAE5B,IAAa,WAAT9E,GAA8B,WAATA,EAIzB,MAAa,WAATA,OACU,UAAd6e,EAAO,IACVrB,iBAAiBqB,EAAO,UAKzB,EAVAxe,EAAO6G,KAAO,YACd7G,EAAOmH,MAAQ,CAACtF,EAAG2c,EAAO/Z,KAAK,MAWhC,IAAIosB,GAAS,EAAMC,GAAY,EAC/B,GAAIvpB,KAAK8S,OAAOxT,OAAS7G,EAAO6G,KAAM,CACrCiqB,GAAY,EACZ,IAAIC,EAAOxpB,KAAK8S,OAAOlT,OAASI,KAAK8S,OAAOlT,MAAMtF,GAAW,GACzDmvB,EAAOhxB,EAAOmH,OAASnH,EAAOmH,MAAMtF,GAAW,GAC/CkvB,IAAOC,IAAIH,GAAS,GAErBA,IACHtpB,KAAK6S,QAAQjd,KAAK6C,GACd8wB,GAAWpkB,EAAQjD,YAAYzJ,QC9CvC,EAAOyO,OAASA,EAED,U,mBCGf,MACC,MAAMwiB,EAAa5uB,OAAO,UACpB6uB,EAAc,IAEdnF,EAAWH,IACZ/nB,MAAM+nB,IACU,kBAAV,EAIX,MAAM7b,EACL,YAAajG,EAAM,KAClBvC,KAAK6B,MAAQ,IAAImb,IACjBhd,KAAK4pB,UAAY,IAAI5M,IACrBhd,KAAKuC,MAAQiiB,EAASjiB,GAASA,EAAQonB,EACvC3pB,KAAK1K,OAAS,EAEf,IAAKu0B,EAAGnY,GACP,MAAM2I,EAAMra,KAAK6B,MAAMwY,IAAIwP,GACtBxP,EACAra,KAAK6B,MAAMG,IAAI6nB,EAAGnY,GADb1R,KAAK0pB,GAAYG,EAAGnY,GAG/B,IAAKmY,GACJ,IAAInY,EAAI1R,KAAK6B,MAAMjH,IAAIivB,GACvB,YAAU3vB,IAANwX,IACJA,EAAI1R,KAAK4pB,UAAUhvB,IAAIivB,QACb3vB,IAANwX,GAAiB1R,KAAK0pB,GAAYG,EAAGnY,IAFbA,EAK7B,IAAKmY,GACJ,MAAMxP,EAAMra,KAAK6B,MAAMwY,IAAIwP,GACvBxP,GAAKra,KAAK1K,SACd0K,KAAK6B,MAAMmC,OAAO6lB,GAClB7pB,KAAK4pB,UAAU5lB,OAAO6lB,GAEvB,IAAKA,GACJ,OAAO7pB,KAAK6B,MAAMwY,IAAIwP,IAAM7pB,KAAK4pB,UAAUvP,IAAIwP,GAEhD,QACC7pB,KAAK6B,MAAMO,QACXpC,KAAK4pB,UAAUxnB,QACfpC,KAAK1K,OAAS,EAEf,CAACo0B,GAAaG,EAAGnY,GAChB1R,KAAK1K,SACD0K,KAAK1K,QAAU0K,KAAKuC,QACvBvC,KAAK4pB,UAAY5pB,KAAK6B,MACtB7B,KAAK6B,MAAQ,IAAImb,IACjBhd,KAAK1K,OAAS,GAEf0K,KAAK6B,MAAMG,IAAI6nB,EAAGnY,IAIpB5V,OAAO0M,SAAWA,GAtDnB,I,sBCRA,cAQMpJ,EAAOjF,aACZiF,EAAO0qB,aAAe1qB,EAAO0qB,cAAgB,SAAUC,GAAY5vB,WAAW4vB,EAAU,IACxF3qB,EAAO4qB,SAAa7gB,GAAUA,EAAQ6gB,UAAkC5qB,EAAO0qB,aAC/E1qB,EAAOiP,KAAOiC,UAAU,CAAC2Z,EAAO/R,KAC/B,IAAIqK,GAAQ,IAAI5kB,MAAO2M,UACnB6F,SAASrN,GAAGmnB,KACf/R,EAAO+R,EACPA,EAAQ,GAET9vB,WAAW,IAAM+d,GAAK,IAAIva,MAAO2M,UAAYiY,GAAQ0H,KAEtD7qB,EAAO6S,SAAW3B,UAAU4H,IAC3B,IAAIqK,GAAQ,IAAI5kB,MAAO2M,UACvBwf,aAAa,IAAM5R,GAAK,IAAIva,MAAO2M,UAAYiY,MAEhDnjB,EAAO8qB,SAAW5Z,UAAU4H,IAC3B,IAAIqK,GAAQ,IAAI5kB,MAAO2M,UACvB0f,SAAS,IAAM9R,GAAK,IAAIva,MAAO2M,UAAYiY,MAEtCnjB,EAAO+qB,iBAAgB/qB,EAAOgrB,UAAY9Z,UAAU4H,IACzD,IAAIqK,GAAQ,IAAI5kB,MAAO2M,UACvB6f,eAAe,IAAMjS,GAAK,IAAIva,MAAO2M,UAAYiY,QAI/B,SAAhBnjB,EAAO6J,KACV7J,EAAO6C,IAAM,KACZ,IAAIhH,EAAIkO,EAAQkhB,SAChB,OAAc,IAAPpvB,EAAE,GAAYA,EAAE,GAAK,KAG7BmE,EAAO6C,IAAM,IAAMtE,KAAKsE,MAGzB7C,EAAOkrB,MAAQ,MACd,YAAaC,EAAM,cAAeC,GAAS,GAC1CxqB,KAAKyqB,OAAS,GACdzqB,KAAK0qB,SAAWtrB,EAAO+J,QACnBnJ,KAAK0qB,SAAWF,EACnBxqB,KAAK2qB,MAAQ,KACZ,IAAIrwB,EAAI6O,EAAQkhB,SAChB,OAAO/vB,EAAE,GAAKA,EAAE,GAAK,KAItB0F,KAAK2qB,MAAQ,KAAM,IAAIhtB,MAAO2M,UAAY,IAE3CtK,KAAK4qB,MAAML,GAEZ,MAAOA,EAAM,IACZ,IAAIK,EAAQ5qB,KAAK2qB,QAEjB,OADA3qB,KAAKyqB,OAAO70B,KAAK,CAACg1B,EAAOL,IAClBK,EAER,KAAMC,GAAQ,GACb,IAAwD9hB,EAApDmU,EAAOld,KAAKyqB,OAAO,GAAG,GAAoCK,GAA1B9qB,KAAKyqB,OAAOn1B,OAAoB,GAQpE,OAPAyT,EAAO/I,KAAKyqB,OAAO1rB,IAAIrI,IACtB,IAAImE,EAAI,CAACnE,EAAE,GAAKwmB,EAAMxmB,EAAE,IACxBwmB,EAAOxmB,EAAE,GACT,IAAIO,EAAIP,EAAE,GAAGpB,OAEb,OADI2B,EAAI6zB,IAAKA,EAAM7zB,GACZ4D,IAEHgwB,GACL9hB,EAAOA,EAAKhK,IAAI9H,IACf,IAAI8zB,EAAM9zB,EAAE,GAAI+zB,EAAM/zB,EAAE,GAExB,OADA8zB,EAAMA,EAAInuB,SAASkuB,EAAK,KACjBC,EAAM,KAAOC,IAEdjiB,EAAK7L,KAAK,OANI6L,EAQtB,SAAUwhB,GACT,IAAKA,EAAO,OAAQ,EACpB,IAAIp0B,GAAU,EAQd,OAPA6J,KAAKyqB,OAAO/qB,KAAKhJ,GACZA,EAAE,KAAO6zB,IACZp0B,EAASO,EAAE,IACJ,IAIFP,EAER,MAAOosB,EAAOD,GAYb,OAXKA,GAMJC,EAAQviB,KAAKirB,SAAS1I,GAClBA,EAAQ,IAAGA,EAAQviB,KAAKyqB,OAAO,GAAG,IACtCnI,EAAMtiB,KAAKirB,SAAS3I,GAChBA,EAAM,IAAGA,EAAMtiB,KAAKyqB,OAAOzqB,KAAKyqB,OAAOn1B,OAAS,GAAG,MARvDgtB,EAAMtiB,KAAKirB,SAAS1I,GAChBD,EAAM,IAAGA,EAAMtiB,KAAKyqB,OAAOzqB,KAAKyqB,OAAOn1B,OAAS,GAAG,IACvDitB,EAAQviB,KAAKyqB,OAAO,GAAG,IAQjBnI,EAAMC,M,mDC/Ff,MAAMpc,EAAoBD,OAAOC,kBAGjCD,OAAOE,aAAa,CACnBnM,KAAM,QACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClBA,EAAOmC,OAAO8X,WAAaja,EAAOmC,OAAO8X,YAAc,GACvD,IAAI0B,GAAU,EAsBd,OArBApZ,EAAOA,EAAKuF,QAAQ,WAAY,CAAC1P,EAAO0qB,KACvC,IAAInqB,EAAMyP,KAAKC,MAAMya,EAAMvxB,OAAS,GAChCa,EAAS,GACTuhB,EAAO,IAAMxR,OAAOkY,cAAc,MAAQ,IAC9C,IAAK,IAAIhpB,EAAI,EAAGA,EAAIsH,EAAKtH,IAAMe,GAAUuhB,EACzC,GAAU,EAANhb,IAAYmqB,EAAMvxB,OAAQ,CAC7B,IAAI2xB,EAAO/gB,OAAOkY,cAAc,KAChCjoB,GAAU,IAAM8wB,EAAO,SAEvB9wB,GAAU,IAGX,OADAupB,GAAU,EACHvpB,IAERmQ,EAAOA,EAAKuF,QAAQ,kBAAmB,CAAC1P,EAAOyH,KAC9C,GAAIzH,EAAMsH,QAAQ,OAAS,EAAG,OAAOtH,EACrC,IAAIb,EAAM,SAAW6K,IAGrB,OAFApC,EAAOmC,OAAO8X,WAAW1iB,GAAO,+BAAiCsI,EAAU,WAC3E8b,GAAU,EACH,IAAMpkB,EAAM,MAEb,CAACgL,EAAMoZ,KAEb,GAAI,GAGPxZ,OAAOE,aAAa,CACnBnM,KAAM,cACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClB,IAAI2b,GAAU,EAOd,OALApZ,EAAOA,EAAKuF,QAAQ,kBAAmB,CAAC1P,EAAOlC,EAAMisB,KACpDjsB,EAAOA,EAAKyR,OACZgU,GAAU,EACH,wBAA0BzlB,EAAO,WAElC,CAACqM,EAAMoZ,KAEb,EAAG,GAENxZ,OAAOE,aAAa,CACnBnM,KAAM,aACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClBwC,EAAIghB,MAAQhhB,EAAIghB,OAAS,GACzB,IAAI7H,GAAU,EAgCd,OA/BApZ,EAAOA,EAAKuF,QAAQ,uFAAwF,CAAC1P,EAAOslB,EAAM7b,EAAO3I,EAAMipB,KAEtI,GADAjpB,EAAOA,EAAKyO,OACQ,IAAhBzO,EAAK3H,OAAc,OAAO6G,EAC9B,GAAM4H,EAAO6B,GAAQ,OAAOzJ,EAE5B,GAAa,KAATslB,EAAa,CAChBlb,EAAIghB,MAAM3xB,KAAK,CAACgQ,EAAO3I,IACvB,IAAI6mB,EAAQ7mB,EAAKgQ,OAAO,EAAG,GACvBie,EAAoB,MAAVpH,EACVlgB,EAAUsC,OAAOmZ,UAAUzZ,EAAOW,EAAK,EAAGxC,GAC1CzI,EAAM,QAAU6K,IAChBue,EAAK,YAgBT,OAdCA,EADGwG,EACExG,EAAK,IAAMznB,EAAKgQ,OAAO,EAAGhQ,EAAK3H,QAAU,KAEtC2H,EAAKwG,QAAQ,KAAO,EACvBihB,EAAK,UAAYznB,EAAO,KAEX,MAAV6mB,GAA2B,OAAVA,GAA4B,MAAVA,GAA2B,MAAVA,EACvDY,EAAKznB,EAAO,KAGZynB,EAAKznB,EAAO,qBAElBynB,EAAKA,EAAK9gB,EAAU,OACpBG,EAAOzI,GAAOopB,EACdhF,GAAU,EACH,IAAMpkB,EAAM,IAEpB,OAAOa,IAED,CAACmK,EAAMoZ,KAEb,EAAG,GAENxZ,OAAOE,aAAa,CACnBnM,KAAM,gBACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClB,IAAI2b,GAAU,EA6Bd,OA3BApZ,EAAOA,EAAKuF,QAAQ,sEAAuE,CAAC1P,EAAOyJ,EAAO3L,EAAMisB,KAG/G,GAFAjsB,EAAOA,EAAKyR,OACZ9F,EAAQA,EAAM8F,OACM,IAAhBzR,EAAK3E,OAAc,OAAO6G,EAC9B,GAAqB,IAAjByJ,EAAMtQ,OAAc,OAAO6G,EAC/B,GAAM4H,EAAO6B,GAAQ,OAAOzJ,EAE5B,IAAuDb,EAAzC4K,OAAOmZ,UAAUzZ,EAAOW,EAAK,EAAGxC,GAE9C,GAAMwC,EAAI+c,KAAKrpB,GAAO,CAErBqB,EAAM,QAAU6K,IAChBI,EAAI6e,SAAW7e,EAAI6e,UAAY,GAC/B7e,EAAI6e,SAASxvB,KAAK,CAACqE,EAAM2L,IACzBW,EAAI6e,SAASnrB,GAAQ2L,EACrB,IAAI8e,EAAK,gCAAkCzqB,EAAO,gBAAkBA,EAAO,aAAe2L,EAAQ,gBAClG7B,EAAOzI,GAAOopB,MAEV,CAEJppB,EAAM,UAAY6K,IAClB,IAAIue,EAAK,YAAczqB,EAAO,KAAO2L,EAAQ,OAC7C7B,EAAOzI,GAAOopB,EAGf,OADAhF,GAAU,EACH,IAAMpkB,EAAM,MAEb,CAACgL,EAAMoZ,KAEb,EAAG,GAGNxZ,OAAOE,aAAa,CACnBnM,KAAM,OACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClBA,EAAOmC,OAAO8X,WAAaja,EAAOmC,OAAO8X,YAAc,GACvD,IAAI0B,GAAU,EAQd,OAPApZ,EAAOA,EAAKuF,QAAQ,gBAAiB,CAAC1P,EAAOyH,KAC5C,GAAIzH,EAAMsH,QAAQ,OAAS,EAAG,OAAOtH,EACrC,IAAIb,EAAM,QAAU6K,IAGpB,OAFApC,EAAOmC,OAAO8X,WAAW1iB,GAAO,SAAWsI,EAAU,UACrD8b,GAAU,EACH,IAAMpkB,EAAM,MAEb,CAACgL,EAAMoZ,MAIhBxZ,OAAOE,aAAa,CACnBnM,KAAM,gBACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClB,IAAIonB,EAAO,GAIX,GAHA7kB,EAAKuF,QAAQ,OAAQ,CAAC1P,EAAO+pB,KAC5BiF,EAAKv1B,KAAK,CAACswB,EAAK/pB,EAAM7G,WAEnB61B,EAAK71B,OAAS,EAAG,MAAO,CAACgR,GAAM,GAEnC,IAAI3D,EAAW,CAAC4f,EAAOD,EAAK8I,KAC3B,IACIxC,EADA3G,EAAO3b,EAAK3J,UAAU4lB,EAAOD,GAAO8I,EAAS,EAAI,IAEzCxC,EAARwC,EAAgBnJ,EAAKtlB,UAAU,EAAGslB,EAAK3sB,OAAS,GACvC2sB,EAAKtlB,UAAU,EAAGslB,EAAK3sB,OAAS,GAC7C,IAAIgG,GAAO8vB,EAAS,SAAW,MAAQ,IAAMjlB,IAC7CyiB,EAAQ1iB,OAAOmZ,UAAUuJ,EAAOriB,EAAK,EAAGxC,GAEvCA,EAAOzI,GADJ8vB,EACW,WAAaxC,EAAQ,YAGrB,OAASA,EAAQ,QAEhCttB,EAAM,IAAMA,EAAM,IAClBgL,EAAOA,EAAKuF,QAAQoW,EAAM3mB,IAGvBwoB,EAAQqH,EAAK,GAAG,GAAIE,EAASF,EAAK,GAAG,GACzC,GAAIrH,EAAQ,EAAG,CAEd,GAAIA,IAAUuH,EAEb,OADA1oB,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAc,IAAVrH,GAC1B,CAACxd,GAAM,GAEV,GAAI+kB,EAAS,EAAG,CACpB,IAAIC,EAAQH,EAAK,GACjB,OAAKG,GAUJA,EAAQA,EAAM,GACVA,EAAQ,EACPD,IAAWC,GACd3oB,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAe,IAAXE,GAC1B,CAAC/kB,GAAM,IAENwd,IAAUwH,GAClB3oB,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAc,IAAVrH,GAC1B,CAACxd,GAAM,IAGP,CAACA,GAAM,IAIf3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAe,IAAXE,GAC1B,CAAC/kB,GAAM,KAzBXwd,EAAQuH,GACX1oB,EAASwoB,EAAK,GAAG,GAAK,EAAGA,EAAK,GAAG,IAAI,GAC9B,CAAC7kB,GAAM,KAGd3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,IAAI,GAC1B,CAAC7kB,GAAM,IAyBhB,OADA3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAc,IAAVrH,GAC1B,CAACxd,GAAM,GAIf,OAAI+kB,EAAS,EACG,IAAXA,GACH1oB,EAASwoB,EAAK,GAAG,GAAKrH,EAAQ,EAAGqH,EAAK,GAAG,IAAI,GACtC,CAAC7kB,GAAM,KAEd3D,EAASwoB,EAAK,GAAG,GAAKrH,EAAQ,EAAGqH,EAAK,GAAG,IAAI,GACtC,CAAC7kB,GAAM,KAIf3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAKE,EAAS,GAAG,GACvC,CAAC/kB,GAAM,OAOlBJ,OAAOE,aAAa,CACnBnM,KAAM,kBACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClB,IAAIonB,EAAO,GAIX,GAHA7kB,EAAKuF,QAAQ,MAAO,CAAC1P,EAAO+pB,KAC3BiF,EAAKv1B,KAAK,CAACswB,EAAK/pB,EAAM7G,WAEnB61B,EAAK71B,OAAS,EAAG,MAAO,CAACgR,GAAM,GAEnC,IAAI3D,EAAW,CAAC4f,EAAOD,EAAKiJ,KAC3B,IACI3C,EADA3G,EAAO3b,EAAK3J,UAAU4lB,EAAOD,GAAOiJ,EAAU,EAAI,IAEzC3C,EAAT2C,EAAiBtJ,EAAKtlB,UAAU,EAAGslB,EAAK3sB,OAAS,GACxC2sB,EAAKtlB,UAAU,EAAGslB,EAAK3sB,OAAS,GAC7C,IAAIgG,GAAOiwB,EAAU,YAAc,OAAS,IAAMplB,IAClDyiB,EAAQ1iB,OAAOmZ,UAAUuJ,EAAOriB,EAAK,EAAGxC,GAEvCA,EAAOzI,GADJiwB,EACW,MAAQ3C,EAAQ,OAGhB,QAAUA,EAAQ,SAEjCttB,EAAM,IAAMA,EAAM,IAClBgL,EAAOA,EAAKuF,QAAQoW,EAAM3mB,IAGvBwoB,EAAQqH,EAAK,GAAG,GAAIE,EAASF,EAAK,GAAG,GACzC,GAAIrH,EAAQ,EAAG,CAEd,GAAIA,IAAUuH,EAEb,OADA1oB,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAc,IAAVrH,GAC1B,CAACxd,GAAM,GAEV,GAAI+kB,EAAS,EAAG,CACpB,IAAIC,EAAQH,EAAK,GACjB,OAAKG,GAUJA,EAAQA,EAAM,GACVA,EAAQ,EACPD,IAAWC,GACd3oB,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAe,IAAXE,GAC1B,CAAC/kB,GAAM,IAENwd,IAAUwH,GAClB3oB,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAc,IAAVrH,GAC1B,CAACxd,GAAM,IAGP,CAACA,GAAM,IAIf3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAe,IAAXE,GAC1B,CAAC/kB,GAAM,KAzBXwd,EAAQuH,GACX1oB,EAASwoB,EAAK,GAAG,GAAK,EAAGA,EAAK,GAAG,IAAI,GAC9B,CAAC7kB,GAAM,KAGd3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,IAAI,GAC1B,CAAC7kB,GAAM,IAyBhB,OADA3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAc,IAAVrH,GAC1B,CAACxd,GAAM,GAIf,OAAI+kB,EAAS,EACG,IAAXA,GACH1oB,EAASwoB,EAAK,GAAG,GAAKrH,EAAQ,EAAGqH,EAAK,GAAG,IAAI,GACtC,CAAC7kB,GAAM,KAEd3D,EAASwoB,EAAK,GAAG,GAAKrH,EAAQ,EAAGqH,EAAK,GAAG,IAAI,GACtC,CAAC7kB,GAAM,KAIf3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAKE,EAAS,GAAG,GACvC,CAAC/kB,GAAM,OAOlBJ,OAAOE,aAAa,CACnBnM,KAAM,gBACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClB,IAAIonB,EAAO,GAIX,GAHA7kB,EAAKuF,QAAQ,MAAO,CAAC1P,EAAO+pB,KAC3BiF,EAAKv1B,KAAK,CAACswB,EAAK/pB,EAAM7G,WAEnB61B,EAAK71B,OAAS,EAAG,MAAO,CAACgR,GAAM,GAEnC,IAAI3D,EAAW,CAAC4f,EAAOD,EAAKkJ,KAC3B,IACI5C,EADA3G,EAAO3b,EAAK3J,UAAU4lB,EAAOD,GAAOkJ,EAAW,EAAI,IAEzC5C,EAAV4C,EAAkBvJ,EAAKtlB,UAAU,EAAGslB,EAAK3sB,OAAS,GACzC2sB,EAAKtlB,UAAU,EAAGslB,EAAK3sB,OAAS,GAC7C,IAAIgG,GAAOkwB,EAAW,SAAW,QAAU,IAAMrlB,IACjDyiB,EAAQ1iB,OAAOmZ,UAAUuJ,EAAOriB,EAAK,EAAGxC,GAEvCA,EAAOzI,GADJkwB,EACW,QAAU5C,EAAQ,SAGlB,2BAA6BA,EAAQ,UAEpDttB,EAAM,IAAMA,EAAM,IAClBgL,EAAOA,EAAKuF,QAAQoW,EAAM3mB,IAGvBwoB,EAAQqH,EAAK,GAAG,GAAIE,EAASF,EAAK,GAAG,GACzC,GAAIrH,EAAQ,EAAG,CAEd,GAAIA,IAAUuH,EAEb,OADA1oB,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAc,IAAVrH,GAC1B,CAACxd,GAAM,GAEV,GAAI+kB,EAAS,EAAG,CACpB,IAAIC,EAAQH,EAAK,GACjB,OAAKG,GAUJA,EAAQA,EAAM,GACVA,EAAQ,EACPD,IAAWC,GACd3oB,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAe,IAAXE,GAC1B,CAAC/kB,GAAM,IAENwd,IAAUwH,GAClB3oB,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAc,IAAVrH,GAC1B,CAACxd,GAAM,IAGP,CAACA,GAAM,IAIf3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAe,IAAXE,GAC1B,CAAC/kB,GAAM,KAzBXwd,EAAQuH,GACX1oB,EAASwoB,EAAK,GAAG,GAAK,EAAGA,EAAK,GAAG,IAAI,GAC9B,CAAC7kB,GAAM,KAGd3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,IAAI,GAC1B,CAAC7kB,GAAM,IAyBhB,OADA3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAc,IAAVrH,GAC1B,CAACxd,GAAM,GAIf,OAAI+kB,EAAS,EACG,IAAXA,GACH1oB,EAASwoB,EAAK,GAAG,GAAKrH,EAAQ,EAAGqH,EAAK,GAAG,IAAI,GACtC,CAAC7kB,GAAM,KAEd3D,EAASwoB,EAAK,GAAG,GAAKrH,EAAQ,EAAGqH,EAAK,GAAG,IAAI,GACtC,CAAC7kB,GAAM,KAIf3D,EAASwoB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAKE,EAAS,GAAG,GACvC,CAAC/kB,GAAM,OAOlBJ,OAAOE,aAAa,CACnBnM,KAAM,eACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClB,IAAIpB,EAAW,CAAC4f,EAAOD,EAAK1D,KAC3B,IAAIqD,EAAO3b,EAAK3J,UAAU4lB,EAAOD,EAAM1D,GACnCgK,EAAQ3G,EAAKtlB,UAAUiiB,EAAOqD,EAAK3sB,OAASspB,GAC5CtjB,EAAM,UAAYsjB,EAAQ,IAAMzY,IACpCyiB,EAAQ1iB,OAAOmZ,UAAUuJ,EAAOriB,EAAK,EAAGxC,GAEvCA,EAAOzI,GADJsjB,GAAS,EACE,QAAUgK,EAAQ,SAGlB,mCAAqChK,EAAQ,GAAK,KAAOgK,EAAQ,UAEhFttB,EAAM,IAAMA,EAAM,IAClBgL,EAAOA,EAAKuF,QAAQoW,EAAM3mB,IAGvBokB,GAAU,EAkBd,OAjBApZ,EAAKuF,QAAQ,uBAAwB,CAAC1P,EAAO8iB,EAAKrb,EAASsb,EAAMgH,KAChE,IAAIuF,EAAU7nB,EAAQzH,MAAM,WAC5B,GAAMsvB,EAAS,CACd,IAAI/uB,EAAM+uB,EAAQ,GAAGn2B,OACrB,GAAIoH,GAAO,GAAK,IAAMA,EAAK,OAAOP,EAWnC,OATA8iB,EAAMA,EAAI3pB,OACV4pB,EAAOA,EAAK5pB,OACR2pB,EAAMC,EACTvc,EAASujB,EAAMjH,EAAMC,EAAMgH,EAAM/pB,EAAM7G,OAAS4pB,EAAMA,GAGtDvc,EAASujB,EAAKA,EAAM/pB,EAAM7G,OAAS4pB,EAAMD,GAE1CS,GAAU,EACHvjB,IAED,CAACmK,EAAMoZ,MAKhBxZ,OAAOE,aAAa,CACnBnM,KAAM,QACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClB,IAAI2b,GAAU,EAWd,OATApZ,EAAOA,EAAKuF,QAAQ,4BAA6B,CAAC1P,EAAO0Z,EAAOjS,EAASsiB,KACxE,GAAuB,IAAnBtiB,EAAQtO,OAAc,OAAO6G,EAEjCyH,EAAUsC,OAAOmZ,UAAUzb,EAAS2C,EAAK,EAAGxC,GAC5C,IAAIzI,EAAM,SAAW6K,IAGrB,OAFApC,EAAOzI,GAAO,sBAAwBua,EAAQ,KAAOjS,EAAU,UAC/D8b,GAAU,EACH,IAAMpkB,EAAM,MAEb,CAACgL,EAAMoZ,KAEb,EAAG,GAENxZ,OAAOE,aAAa,CACnBnM,KAAM,qBACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClB,IAAI2b,GAAU,EA2Cd,OAzCApZ,EAAOA,EAAKuF,QAAQ,8EAA+E,CAAC1P,EAAO/B,EAAKwL,EAAM,GAAIub,EAAQlnB,KAEjI,GADAA,EAAOA,EAAKyR,OACQ,IAAhBzR,EAAK3E,OAAc,OAAO6G,EAC9B,IAAKoK,EAAI+c,KAAKrpB,GAAO,OAAOkC,EAE5B,IAAIuoB,EAAK,6BAYT,GAVCA,GADc,MAAXvD,EACG,2BAA6BlnB,EAG7B,WAEPyqB,GAAM,WAAazqB,EAAO,KACtB2L,IACH8e,GAAUxe,OAAOmZ,UAAUzZ,EAAOW,EAAK,EAAGxC,IAE3C2gB,GAAM,QACS,MAAXvD,EAAgB,CACnB5a,EAAIif,SAAWjf,EAAIif,UAAY,GAC/B,IAAIpwB,EAAImR,EAAIif,SAAS/hB,QAAQxJ,GACzB7E,EAAI,IACPA,EAAImR,EAAIif,SAASlwB,OACjBiR,EAAIif,SAAS5vB,KAAKqE,IAEnB7E,IACAsvB,GAAM,IAAMtvB,EAAI,QAEZ,CACJmR,EAAIgf,UAAYhf,EAAIgf,WAAa,GACjC,IAAInwB,EAAImR,EAAIgf,UAAU9hB,QAAQxJ,GAC1B7E,EAAI,IACPA,EAAImR,EAAIgf,UAAUjwB,OAClBiR,EAAIgf,UAAU3vB,KAAKqE,IAEpByqB,GAAM,SAAWtvB,EAAI,MAEtBsvB,GAAM,aACN,IAAIppB,EAAM,YAAc6K,IAExB,OADApC,EAAOzI,GAAOopB,EACP,IAAMppB,EAAM,MAEb,CAACgL,EAAMoZ,KAEb,EAAG,GAGNxZ,OAAOE,aAAa,CACnBnM,KAAM,SACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClB,IAAI2b,GAAU,EA0Cd,OAxCApZ,EAAOA,EAAKuF,QAAQ,2CAA4C,CAAC1P,EAAOslB,EAAM7b,EAAO3I,EAAMipB,KAE1F,GADAjpB,EAAOA,EAAKyO,OACQ,IAAhBzO,EAAK3H,OAAc,OAAO6G,EAE9B,IAAIuvB,EAAQzuB,EAAKd,MAAM,yBACjBuvB,IACLzuB,EAAOA,EAAK4O,QAAQ6f,EAAM,GAAI,IAC9BA,EAAQA,EAAM,IAGf,IAAItzB,EAAO,QACE,MAATqpB,EAAcrpB,EAAO,QACP,MAATqpB,IAAcrpB,EAAO,SAC9BmO,EAAInO,GAAQmO,EAAInO,IAAS,GACzBmO,EAAInO,GAAMxC,KAAK,CAACgQ,EAAO3I,IAEvB,IAAI2G,EAAU,wBAA0BxL,EAClCszB,IACL9nB,GAAW,UAAY8nB,GAExB9nB,GAAW,KACXA,GAAW,WACE,MAAT6d,EACH7d,GAAW,aAAe3G,EAAO,KAEhB,MAATwkB,EACR7d,GAAW,eAAiB3G,EAAO,qDAElB,MAATwkB,IACR7d,GAAW,eAAiB3G,EAAO,sDAEpC2G,GAAW,YACXA,GAAW,eAAiBgC,EAAQ,gBACpChC,GAAW,SAEX,IAAItI,EAAMlD,EAAO,IAAM+N,IAGvB,OAFApC,EAAOzI,GAAOsI,EACd8b,GAAU,EACH,IAAMpkB,EAAM,MAEb,CAACgL,EAAMoZ,KAEb,EAAG,GAGNxZ,OAAOE,aAAa,CACnBnM,KAAM,cACNoM,MAAO,CAACC,EAAMC,EAAKxC,KAClB,IAAI2b,GAAU,EACd,OAAKnZ,EAAIohB,YAETrhB,EAAOA,EAAKuF,QAAQ,oCAAqC,CAAC1P,EAAO+pB,KAChE3f,EAAIghB,MAAM3xB,KAAK,CAACuG,EAAOA,IACvB,IAAIuoB,EAAK,YAAcvoB,EAAQ,qBAAuBA,EAAQ,OAC1Db,EAAM,QAAU6K,IAGpB,OAFApC,EAAOzI,GAAOopB,EACdhF,GAAU,EACH,IAAMpkB,EAAM,MAEb,CAACgL,EAAMoZ,IAVc,CAACpZ,EAAMoZ,KAYlC,EAAG,I,sBChlBN,YAEA,MACC,MAAMjJ,EAAsB,IAAIjW,iBAAiB,uBAG3CmrB,GAFc,IAAInrB,iBAAiB,cAExB,CAAC3I,EAAKyM,KACtBA,EAAOA,GAAQ3M,SACf,IAAIi0B,EAAOtnB,EAAKwK,iBAAiBjX,GACjC,MAAO,GAAGkH,IAAIrJ,KAAKk2B,EAAM10B,GAAKA,KAEzB20B,EAAY,CAACh0B,EAAKwe,KACvB,IAAIvJ,EAAMnV,SAASQ,cAAcN,GAGjC,OAFIgL,OAAOC,GAAGuT,GAAMvJ,EAAIzM,UAAUC,IAAI+V,GAC7B3T,MAAMI,GAAGuT,IAAMA,EAAIrX,QAAQ1E,GAAKwS,EAAIzM,UAAUC,IAAIhG,IACpDwS,GAEFgf,EAAa,CAAChf,EAAK1S,KACxBA,EAAI4E,QAAQ9H,IACPA,IAAM4V,GACV5V,EAAE60B,WAIJ3sB,EAAOyV,UAAY,CAClBmX,OAAQ,EAAI,EACZ,aACC,MAAMC,EAAYt0B,SAASyI,cAAc,oBAGzC,IAAI8rB,EAAM,IAAIP,EAAS,4BAA6BA,EAAS,0BAC7DO,EAAIltB,QAAQgE,IACXA,EAAEmpB,OAAS,IAAML,EAAW9oB,EAAGkpB,KAGhC,IAAIE,EAAa,EAAGC,EAAc,EAClCV,EAAS,+BAA+B3sB,QAAQsf,IAC/C,IAAIgO,EAAOX,EAAS,eAAgBrN,GAEpCA,EAAEiO,OAASD,EAAKh3B,OAChBgpB,EAAEkO,OAAS,EACXlO,EAAEmO,OAASnO,EAAEle,cAAc,mCACtBke,EAAEmO,SACNnO,EAAEmO,OAASZ,EAAU,MAAO,CAAC,kBAAmB,gBAChDvN,EAAErlB,YAAYqlB,EAAEmO,SAEjBnO,EAAEoO,OAASpO,EAAEle,cAAc,mCACtBke,EAAEoO,SACNpO,EAAEoO,OAASb,EAAU,MAAO,CAAC,kBAAmB,gBAChDvN,EAAErlB,YAAYqlB,EAAEoO,SAEjBpO,EAAEqO,MAAQrO,EAAEle,cAAc,yBACrBke,EAAEqO,QACNrO,EAAEqO,MAAQd,EAAU,MAAO,qBAC3BvN,EAAEqO,MAAMxf,UAAY,oCACpBmR,EAAErlB,YAAYqlB,EAAEqO,OAChBrO,EAAEqO,MAAMzoB,iBAAiB,QAAS+B,IAC7BqY,EAAEkO,QAAU,IAChBlO,EAAEkO,SACFlO,EAAEoO,OAAOxe,MAAM0e,UAAY,eAAkB,IAAMtO,EAAEiO,OAASjO,EAAEkO,OAAU,KACtElO,EAAEkO,OAASlO,EAAEiO,OAAS,GAAGjO,EAAEuO,OAAOxsB,UAAU4G,OAAO,YACnDqX,EAAEkO,QAAU,GAAGlO,EAAEqO,MAAMtsB,UAAUC,IAAI,gBAG3Cge,EAAEuO,OAASvO,EAAEle,cAAc,0BACtBke,EAAEuO,SACNvO,EAAEuO,OAAShB,EAAU,MAAO,sBAC5BvN,EAAEuO,OAAO1f,UAAY,qCACrBmR,EAAErlB,YAAYqlB,EAAEuO,QAChBvO,EAAEuO,OAAO3oB,iBAAiB,QAAS+B,IAC9BqY,EAAEkO,QAAUlO,EAAEiO,OAAS,IAC3BjO,EAAEkO,SACFlO,EAAEoO,OAAOxe,MAAM0e,UAAY,eAAkB,IAAMtO,EAAEiO,OAASjO,EAAEkO,OAAU,KACtElO,EAAEkO,OAAS,GAAGlO,EAAEqO,MAAMtsB,UAAU4G,OAAO,YACvCqX,EAAEkO,QAAUlO,EAAEiO,OAAS,GAAGjO,EAAEuO,OAAOxsB,UAAUC,IAAI,gBAIvDge,EAAEwO,UAAY,CAAC3T,EAAOrL,KACjBwe,EAAK5sB,KAAKnF,IAAMA,EAAEwyB,UACtBzO,EAAEje,UAAUC,IAAI,UAChBge,EAAEkO,OAAS,EACXlO,EAAEoO,OAAOxe,MAAM0e,UAAY,iBAC3BtO,EAAEqO,MAAMtsB,UAAUC,IAAI,YAEtBgsB,EAAKttB,QAAQ,CAACguB,EAAK53B,KAClB,IAAI63B,EAAQpB,EAAU,MAAO,eAC7BvN,EAAEmO,OAAOxzB,YAAYg0B,GACrBA,EAAMh0B,YAAY+zB,KAGnB1O,EAAEoO,OAAOvf,UAAYmR,EAAEmO,OAAOtf,UAC9BmR,EAAEoO,OAAOxe,MAAMiL,MAAoB,IAAXmF,EAAEiO,OAAgB,IAC1CZ,EAAS,kBAAmBrN,EAAEoO,QAAQ1tB,QAAQguB,IAC7CA,EAAI9e,MAAMiL,MAAS,IAAMmF,EAAEiO,OAAU,QAIvCD,EAAKttB,QAAQguB,IACZ1O,EAAEmO,OAAOxzB,YAAY+zB,GACrBA,EAAIE,MAAQ5O,EACZ0O,EAAI3sB,UAAUC,IAAI,oBAIdjJ,QAAQ+C,IAAIuxB,EAAS,sBAAsB5sB,IAAIiuB,GAAO,IAAI31B,QAAQkK,IACvE6qB,IACA,IAAI5S,EAAMwT,EAAI5sB,cAAc,OAAQ+sB,EAAMH,EAAI5sB,cAAc,UAC5D,IAAKoZ,EAGJ,OAFA6S,IACA5V,EAAoBvU,YAAY,CAAC0D,MAAO,SAAWymB,EAAc,MAAQD,IAClE7qB,IAER,IAAImhB,EAASsK,EAAI3sB,UAAU6H,SAAS,UAC/Bwa,GAAQsK,EAAI3sB,UAAUC,IAAI,WAE/BkZ,EAAInhB,OAAS,KACZ,IAAI+0B,EAAiBnB,EAAUxe,wBAAwB0L,MAChBtE,UAAUmX,OAEjDxS,EAAI6T,YAAa,EACjB7T,EAAI9f,aAAa,SAAU8f,EAAIK,cAC/BL,EAAI9f,aAAa,UAAW8f,EAAIM,eAChCqT,EAAI9sB,UAAUC,IAAI,UAClB6sB,EAAIjf,MAAMof,gBAAkB,OAAS9T,EAAI9gB,IAAM,IAC/Cs0B,EAAI9e,MAAMiL,MAAQK,EAAIK,aAAe,KAErC,IAAI0T,EAAY/T,EAAIK,aAChB2T,EAAahU,EAAIM,cACjBN,EAAIM,cAAgBN,EAAIK,aAAehF,UAAUmX,QACpDmB,EAAI9sB,UAAUC,IAAI,QAClB6sB,EAAIjf,MAAMiL,MAAS,IAAMK,EAAIK,aAAeL,EAAIM,cAAgBjF,UAAUmX,OAAU,IACpFmB,EAAIjf,MAAMuf,WAAc,IAAM5Y,UAAUmX,OAAU,IAClDwB,EAAahU,EAAIK,aAAehF,UAAUmX,OAC1CuB,EAAYC,EAAahU,EAAIK,aAAeL,EAAIM,gBAGhDqT,EAAI9sB,UAAU4G,OAAO,QACrBkmB,EAAIjf,MAAMiL,MAAQ,OAClBgU,EAAIjf,MAAMuf,WAAc,IAAMjU,EAAIM,cAAgBN,EAAIK,aAAgB,KAGjEmT,EAAIE,QACTF,EAAID,QAAS,EACbC,EAAIE,MAAMJ,UAAUS,EAAWC,IAGhCnB,IACA5V,EAAoBvU,YAAY,CAAC0D,MAAO,SAAWymB,EAAc,MAAQD,IACzE7qB,KAEDiY,EAAIlhB,QAAU,KACbkhB,EAAI6T,YAAa,EACjBL,EAAI3sB,UAAUC,IAAI,UAElB+rB,IACA5V,EAAoBvU,YAAY,CAAC0D,MAAO,SAAWymB,EAAc,MAAQD,IACzE7qB,YA3JL,K","file":"js/index.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"index\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-22ee1d28\":1,\"chunk-28e9239d\":1,\"chunk-2ca2da94\":1,\"chunk-3239a25c\":1,\"chunk-3ef04039\":1,\"chunk-4d2da142\":1,\"chunk-75ac00fa\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/**\n * Name:\tAuxillary Utils and Extends for DateTime\n * Desc:    日期时间相关拓展\n * Author:\tLostAbaddon\n * Version:\t0.0.2\n * Date:\t2018.11.02\n */\n\nconst getDTMatch = (format, match, lim, def) => {\n\tif (isNaN(def)) def = lim;\n\tvar temp = format.match(match);\n\tif (!temp) temp = def;\n\telse temp = temp.length;\n\tif (temp < lim) temp = lim;\n\treturn temp;\n};\nconst formatString = (str, len) => {\n\tif (len === 0) return '';\n\tvar l = str.length;\n\tif (l > len) str = str.substring(l - len, l);\n\telse if (l < len) str = str.padStart(len, '0');\n\treturn str;\n};\nconst getDateString = (Y, M, D, link) => {\n\tvar temp = [];\n\tif (Y.length > 0) temp.push(Y);\n\tif (M.length > 0) temp.push(M);\n\tif (D.length > 0) temp.push(D);\n\treturn temp.join(link);\n};\nconst getTimeString = (h, m, s, ms, link) => {\n\tvar temp = [];\n\tif (h.length > 0) temp.push(h);\n\tif (m.length > 0) temp.push(m);\n\tif (s.length > 0) temp.push(s);\n\tvar result = temp.join(link);\n\tif (ms.length > 0) result += '.' + ms;\n\treturn result;\n};\nconst timeNormalize = (time, format='YYYYMMDDhhmmss', datelink='/', timelink=':', combinelink=' ') => {\n\ttime = time || new Date();\n\t// format = format || 'YYYYMMDDhhmmssx';\n\n\tvar Ys = getDTMatch(format, /Y/g, 0, 0);\n\tvar Ms = getDTMatch(format, /M/g, 1, 0);\n\tvar Ds = getDTMatch(format, /D/g, 1, 0);\n\tvar hs = getDTMatch(format, /h/g, 0, 0);\n\tvar mms = getDTMatch(format, /m/g, 0, 0);\n\tvar ss = getDTMatch(format, /s/g, 0, 0);\n\tvar mss = getDTMatch(format, /x/g, 0);\n\n\tvar Y = formatString(time.getYear() + 1900 + '', Ys);\n\tvar M = formatString(time.getMonth() + 1 + '', Ms);\n\tvar D = formatString(time.getDate() + '', Ds);\n\tvar h = formatString(time.getHours() + '', hs);\n\tvar m = formatString(time.getMinutes() + '', mms);\n\tvar s = formatString(time.getSeconds() + '', ss);\n\tvar ms = formatString(time.getMilliseconds() + '', mss);\n\n\tvar sDate = getDateString(Y, M, D, datelink);\n\tvar sTime = getTimeString(h, m, s, ms, timelink);\n\tif (sTime.length === 0) return sDate;\n\treturn sDate + combinelink + sTime;\n};\n\n_('Utils').getTimeString = timeNormalize;","<template>\r\n\t<div class=\"nav-bar\">\r\n\t\t<div class=\"nav-hint\" @click=\"onClick\"><i class=\"fas fa-angle-right\" /></div>\r\n\t\t<div class=\"nav-docker\">\r\n\t\t\t<router-link to=\"/\">首页</router-link>\r\n\t\t\t<i class=\"fas fa-caret-right\" />\r\n\t\t\t<div class=\"nav-container\">\r\n\t\t\t\t<NavMenuBar :menu=\"menu\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"about-bar nav-container right\">\r\n\t\t\t\t<NavMenuBar :menu=\"aboutMenu\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst generateSiteMap = menu => {\r\n\tvar map = {};\r\n\tmenu.forEach(m => {\r\n\t\tvar item = { \"name\": m.name, \"type\": m.type };\r\n\t\tif (!!m.subs) item.subs = generateSiteMap(m.subs);\r\n\t\tmap[m.category] = item;\r\n\t});\r\n\treturn map;\r\n};\r\nglobal.getPathNameList = (path, needHome=true) => {\r\n\tif (!global.SiteMap) return null;\r\n\tvar map = global.SiteMap, reqs = [], result = [];\r\n\tpath.some((p, i) => {\r\n\t\tif (!map) return true;\r\n\t\tvar entry = map[p];\r\n\t\tif (!entry) return true;\r\n\t\tvar item = { name: entry.name };\r\n\t\treqs.push(p);\r\n\t\tif (entry.type === 'page') {\r\n\t\t\titem.path = '/' + reqs.join('/');\r\n\t\t}\r\n\t\telse if (entry.type === 'viewer' || entry.type === 'view' || entry.type === 'folder') {\r\n\t\t\titem.path = '/category';\r\n\t\t\titem.query = {c:reqs.join(',')};\r\n\t\t}\r\n\t\tmap = entry.subs;\r\n\t\tresult.push(item);\r\n\t});\r\n\tif (needHome) result.unshift({ name: \"首页\", path: '/' });\r\n\treturn result;\r\n};\r\n\r\nexport default {\r\n\tname: 'NavBar',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tmenu: [\n\t{\n\t\t\"name\": \"随笔\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"essay\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"头脑风暴\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"mindstorm\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"书评影评\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"reviews\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"闲扯\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"issue\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"格物致知\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"science\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"数学\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"math\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"组合数学\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"combination\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"数论\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"number\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"几何\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"geometry\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"物理\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"physics\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"广义相对论\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"gravity\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"规范场论\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"gauge\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"复杂网络\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"complexnetwork\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"量子计算\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"quantumcompute\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"虚构\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"virtual\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"算法信息论\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"AIT\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"IT相关\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"IT\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"虚拟世界\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"novel\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"科幻\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"scific\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"奇幻\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"magic\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"推理\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"detective\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"实用工具\",\n\t\t\"type\": \"folder\",\n\t\t\"category\": \"tools\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"解析 MarkUp\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"parseMarkup\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"写字板（迁移中）\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"writer\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"计算器（迁移中）\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"calculator\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"休闲娱乐\",\n\t\t\"type\": \"folder\",\n\t\t\"category\": \"entertain\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"诡异哥布林与不靠谱守卫\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"ballcrush\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"五子棋\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"rushgo\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"三消俄罗斯方块（迁移中）\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"tritetris\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"无尽2048（迁移中）\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"infinity2048\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"资料库\",\n\t\t\"type\": \"folder\",\n\t\t\"category\": \"library\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"颜色表\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"中国古代常用色\",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"chinesecolor\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"日本古代常用色\",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"japanesecolor\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"码库\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"MarkUp 语法表\",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"markup\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"LaTeX 数学公式\",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"latex\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t}\n],\r\n\t\t\taboutMe: \"aboutMe\"\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\taboutMenu () {\r\n\t\t\tvar menu = [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '配色',\r\n\t\t\t\t\ttype: 'action',\r\n\t\t\t\t\tcategory: 'color',\r\n\t\t\t\t\tsubs: [\n\t{\n\t\t\"name\": \"亮\",\n\t\t\"type\": \"action\",\n\t\t\"category\": \"light\"\n\t},\n\t{\n\t\t\"name\": \"淡\",\n\t\t\"type\": \"action\",\n\t\t\"category\": \"normal\"\n\t},\n\t{\n\t\t\"name\": \"黯\",\n\t\t\"type\": \"action\",\n\t\t\"category\": \"dark\"\n\t}\n]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '本站',\r\n\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\tcategory: 'about'\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t\tif (!!this.aboutMe) {\r\n\t\t\t\tmenu[1] = {\r\n\t\t\t\t\tname: '关于',\r\n\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\tcategory: '',\r\n\t\t\t\t\tsubs: [menu[1]]\r\n\t\t\t\t};\r\n\t\t\t\tmenu[1].subs.unshift({\r\n\t\t\t\t\tname: '本站',\r\n\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\tcategory: this.aboutMe\r\n\t\t\t\t});\r\n\t\t\t\tmenu[1].subs[1].name = '系统';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmenu[1].name = '关于';\r\n\t\t\t}\r\n\t\t\treturn menu;\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tglobal.SiteMap = generateSiteMap(this.menu);\r\n\t},\r\n\tmethods: {\r\n\t\tonClick () {\r\n\t\t\tif (!Devices.isMobile) return;\r\n\t\t\tdocument.querySelector('.masker').classList.add('show');\r\n\t\t}\r\n\t}\r\n}\r\n</script>","const chDataFetched = new BroadcastChannel('fetch-data');\r\n\r\nconst Barn = {\r\n\tserver: '',\r\n\tDB: null,\r\n\tready: false,\r\n\tAPI: '/api',\r\n\tDataGranary: '/api/granary',\r\n\tasync init () {\r\n\t\tBarn.DB = new CachedDB(\"APIData\", 1);\r\n\t\tBarn.DB.onUpdate(() => {\r\n\t\t\tBarn.DB.open('data', 'url', 10);\r\n\t\t\tconsole.log('Barn::CacheStorage::APIData Updated');\r\n\t\t});\r\n\t\tBarn.DB.onConnect(() => {\r\n\t\t\tconsole.log('Barn::CacheStorage::APIData Connected');\r\n\t\t});\r\n\t\tawait Barn.DB.connect();\r\n\t\tBarn.ready = true;\r\n\r\n\t\tvar cbs = [...Barn.waiters];\r\n\t\tBarn.waiters = [];\r\n\t\tcbs.forEach(res => res());\r\n\t},\r\n\twaiters: [],\r\n\twaitForReady: () => new Promise(res => {\r\n\t\tif (Barn.ready) return res();\r\n\t\tBarn.waiters.push(res);\r\n\t}),\r\n\tget (url, notStill=false, timestamp=0) {\r\n\t\treturn new Promise(async res => {\r\n\t\t\tif (!Barn.ready) {\r\n\t\t\t\tawait Barn.waitForReady();\r\n\t\t\t}\r\n\t\t\tvar cache = await Barn.DB.get('data', url);\r\n\t\t\tif (!!cache) {\r\n\t\t\t\tres(cache.data);\r\n\t\t\t\tif (!!notStill && timestamp <= cache.update) return;\r\n\t\t\t}\r\n\t\t\tvar data;\r\n\t\t\ttry {\r\n\t\t\t\tdata = await axios.get(Barn.server + url);\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\tdata = null;\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t}\r\n\t\t\tif (!!data) data = data.data;\r\n\t\t\tif (!!data) {\r\n\t\t\t\tawait Barn.DB.set('data', url, {data, update: timestamp || Date.now()});\r\n\t\t\t\tif (!!cache) {\r\n\t\t\t\t\tchDataFetched.postMessage({ url, data });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!cache) res(data);\r\n\t\t});\r\n\t},\r\n\tasync clearAllCache () {\r\n\t\tBarn.DB.clearCache('data');\r\n\t\tawait Barn.DB.clear('data');\r\n\t},\r\n};\r\n\r\n// 资源管理\r\nwindow.Granary = {\r\n\tasync getSource (source, limit) {\r\n\t\tvar result = { articles: [], comments: [] };\r\n\t\tawait Promise.all(Array.generate(limit + 1).map(async index => {\r\n\t\t\tvar url = Barn.API + '/' + source + '-' + index + '.json';\r\n\t\t\tvar d = await Barn.get(url, limit !== index);\r\n\t\t\tif (String.is(d)) return;\r\n\t\t\tresult.articles.push(...d.articles);\r\n\t\t\tresult.comments.push(...d.comments);\r\n\t\t}));\r\n\t\tresult.articles.sort((a, b) => b.publish - a.publish);\r\n\t\tresult.comments.sort((a, b) => b.publish - a.publish);\r\n\t\treturn result;\r\n\t},\r\n\tasync getCategory (category) {\r\n\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\tvar data = [];\r\n\t\tif (!sources || !sources.sources) return data;\r\n\t\tawait Promise.all(sources.sources.map(async source => {\r\n\t\t\tvar d = await Granary.getSource(source.owner, source.pages);\r\n\t\t\td = d.articles.filter(art => art.sort.indexOf(category) === 0);\r\n\t\t\tdata.push(...d);\r\n\t\t}));\r\n\t\tdata.sort((a, b) => b.publish - a.publish);\r\n\t\treturn data;\r\n\t},\r\n\tasync getColumnHeader (category) {\r\n\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\tsources = sources || {};\r\n\t\tsources.update = sources.update || 0;\r\n\r\n\t\tvar info = Barn.DataGranary + '/';\r\n\t\tif (!!category) info = info + category + '/';\r\n\t\tinfo = info + 'info.md';\r\n\r\n\t\tvar data;\r\n\t\ttry {\r\n\t\t\tdata = await Barn.get(info, true, sources.update);\r\n\t\t\tdata = !!data ? data : '';\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tdata = '';\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\tasync getArticle (filepath, timestamp=0) {\r\n\t\tif (timestamp <= 0) {\r\n\t\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\t\tsources = sources || {};\r\n\t\t\ttimestamp = sources.update || 0;\r\n\t\t}\r\n\r\n\t\tfilepath = Barn.DataGranary + '/' + filepath;\r\n\t\tvar content;\r\n\t\ttry {\r\n\t\t\tcontent = await Barn.get(filepath, true, timestamp);\r\n\t\t\tcontent = !!content ? content : '';\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tcontent = '你所寻找的文件不存在！';\r\n\t\t}\r\n\t\treturn content;\r\n\t},\r\n\tasync getContent (filepath, notStill=true) {\r\n\t\tif (notStill) {\r\n\t\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\t\tsources = sources || {};\r\n\t\t\ttimestamp = sources.update || 0;\r\n\t\t}\r\n\r\n\t\tvar content;\r\n\t\ttry {\r\n\t\t\tcontent = await Barn.get(filepath, notStill, timestamp);\r\n\t\t\tcontent = !!content ? content : '';\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tcontent = '你所寻找的文件不存在！';\r\n\t\t}\r\n\t\treturn content;\r\n\t},\r\n\tasync clearAllCache () {\r\n\t\tsessionStorage.clear();\r\n\t\tvar tasks = [\r\n\t\t\tcaches.delete('schwarzschild'),\r\n\t\t\tBarn.clearAllCache()\r\n\t\t];\r\n\t\tawait Promise.all(tasks);\r\n\t},\r\n};\r\n\r\nchDataFetched.addEventListener('message', msg => {\r\n\tconsole.log('DataUpdated: ' + msg.data.url);\r\n});\r\nBarn.init();","/**\n * Name:\tSymbol Utils\n * Desc:    Symbol 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.1\n * Date:\t2017.11.09\n */\n\nSymbol.set = Symbol.setSymbols = function (host, symbols) {\n\tif (String.is(host)) {\n\t\tsymbols = [].map.call(arguments, i => i);\n\t\thost = null;\n\t}\n\telse if (Array.is(host) && !symbols) {\n\t\tsymbols = host;\n\t\thost = null;\n\t}\n\thost = host || {};\n\tvar symb2name = {};\n\tvar str2name = {};\n\tsymbols.forEach(symbol => {\n\t\tsymbol = symbol.split('|');\n\t\tif (symbol.length === 0) return;\n\t\tif (symbol.length < 2) symbol[1] = symbol[0];\n\t\tvar name = symbol[1];\n\t\tsymbol = symbol[0];\n\t\tvar sym = Symbol(symbol);\n\t\tsymb2name[sym] = name;\n\t\tstr2name[symbol] = name;\n\t\tObject.defineProperty(host, symbol, {\n\t\t\tvalue: sym,\n\t\t\tconfigurable: false,\n\t\t\tenumerable: true\n\t\t});\n\t});\n\thost.toString = symbol => symb2name[symbol] || str2name[symbol] || 'No Such Symbol';\n\tObject.defineProperty(host, 'toString', { enumerable: false });\n\treturn host;\n};\nSymbol.is = symbol => (Symbol.__proto__ === Symbol.prototype) || (typeof symbol === 'symbol');","(async () => {\r\n\tif (!navigator.serviceWorker) return;\r\n\r\n\tconst channel = new BroadcastChannel('service-messages');\r\n\tchannel.addEventListener('message', msg => {\r\n\t\tconsole.log('CacheUpdated: ' + msg.data.url + ' (' + msg.data.timestamp + ')');\r\n\t});\r\n\r\n\tif (!!window.caches) {\r\n\t\tlet keys = await caches.keys();\r\n\t\tif (keys.length > 0) {\r\n\t\t\tkeys.forEach(async key => {\r\n\t\t\t\tvar cacheStorage = await caches.open(key);\r\n\t\t\t\tvar cacheKeys = await cacheStorage.keys();\r\n\t\t\t\tconsole.log('资源缓存库 ' + key + ': ' + cacheKeys.length);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\ttry {\r\n\t\tlet sws = await navigator.serviceWorker.getRegistrations();\r\n\t\tconsole.log('Service Worker: ' + sws.length);\r\n\t\tfor (let sw of sws) {\r\n\t\t\tif (!!sw.waiting) {\r\n\t\t\t\tconsole.log('有等待中的新版本 Service Worker');\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttitle: \"有新版网站中台等待更新\",\r\n\t\t\t\t\tmessage: \"新版 Service Worker 将在下次打开本页面后启用。\",\r\n\t\t\t\t\tduration: 5000,\r\n\t\t\t\t\ttype: \"warn\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcatch (err) {\r\n\t\tconsole.error('获取已安装 Service 出错：', err);\r\n\t}\r\n\r\n\ttry {\r\n\t\tlet reg = await navigator.serviceWorker.register('/priory.js');\r\n\t\treg.onupdatefound = (evt) => {\r\n\t\t\tevt.target.update();\r\n\t\t};\r\n\t\tconsole.log('安装 Service Worker ' + (!!reg ? '成功' : '失败'));\r\n\t}\r\n\tcatch (err) {\r\n\t\tconsole.error('安装本地 Service 出错：', err);\r\n\t}\r\n}) ();","const generateRandomKey = MarkUp.generateRandomKey;\r\n\r\n// CC 版权信息，LikeCoin 设置\r\nMarkUp.addExtension({\r\n\tname: 'CC&Like',\r\n\tparse: (line, doc, caches) => {\r\n\t\tvar match = line.match(/^ *copyright: *(.*?) *$/i);\r\n\t\tif (!!match) {\r\n\t\t\tdoc.metas.others = doc.metas.others || {};\r\n\t\t\tdoc.metas.others.CopyRight = match[1];\r\n\t\t\treturn [\"\", true];\r\n\t\t}\r\n\t\tmatch = line.match(/^ *likecoin: *(.*?) *$/i);\r\n\t\tif (!!match) {\r\n\t\t\tdoc.metas.others = doc.metas.others || {};\r\n\t\t\tdoc.metas.others.LikeCoin = match[1];\r\n\t\t\treturn [\"\", true];\r\n\t\t}\r\n\t\treturn [line, false];\r\n\t},\r\n}, 0, -1);\r\n","<template>\n\t<NavBar/>\n\t<loading />\n\t<Notification hAlign=\"right\" vAlign=\"top\" />\n\t<ImageShowcase />\n\t<div id=\"container\">\n\t\t<router-view/>\n\t</div>\n\t<div id=\"footnoteFrame\"></div>\n\t<TailBar />\n\t<div class=\"masker\" @click=\"onClick\"></div>\n</template>\n\n<script>\nexport default {\n\tname: 'App',\n\tmethods: {\n\t\tonClick () {\n\t\t\tdocument.querySelector('.masker').classList.remove('show');\n\t\t}\n\t}\n}\n</script>","import { render } from \"./App.vue?vue&type=template&id=bfd6ebec\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","// IndexDB Wrapper\r\n(() => {\r\n\tclass CachedDB {\r\n\t\tconstructor (name, version) {\r\n\t\t\tthis._name = name;\r\n\t\t\tthis._version = version;\r\n\t\t\tthis.conn = null;\r\n\t\t\tthis.db = null;\r\n\t\t\tthis.cbUpdates = [];\r\n\t\t\tthis.cbConnects = [];\r\n\t\t\tthis.caches = {};\r\n\t\t}\r\n\t\tconnect () {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tthis.conn = indexedDB.open(this.name, this.version);\r\n\t\t\t\tthis.conn.onupgradeneeded = evt => {\r\n\t\t\t\t\tthis.db = this.conn.result;\r\n\t\t\t\t\tthis.cbUpdates.forEach(cb => cb(this));\r\n\t\t\t\t};\r\n\t\t\t\tthis.conn.onsuccess = evt => {\r\n\t\t\t\t\tthis.db = this.conn.result;\r\n\t\t\t\t\tthis.cbConnects.forEach(cb => cb(this));\r\n\t\t\t\t\tres(this);\r\n\t\t\t\t};\r\n\t\t\t\tthis.conn.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tonConnect (cb) {\r\n\t\t\tthis.cbConnects.push(cb);\r\n\t\t}\r\n\t\tonUpdate (cb) {\r\n\t\t\tthis.cbUpdates.push(cb);\r\n\t\t}\r\n\t\topen (name, keyPath='id', cacheSize=100) {\r\n\t\t\tif (!this.db.objectStoreNames.contains(name)) {\r\n\t\t\t\tlet store = this.db.createObjectStore(name, { keyPath });\r\n\t\t\t\tstore.createIndex(keyPath, keyPath, { unique: true });\r\n\t\t\t}\r\n\t\t}\r\n\t\tcache (name, size) {\r\n\t\t\tif (!this.caches[name]) {\r\n\t\t\t\tthis.caches[name] = new LRUCache(size);\r\n\t\t\t}\r\n\t\t}\r\n\t\tset (store, key, value) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readwrite\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\r\n\t\t\t\tvar item = {};\r\n\t\t\t\titem[cache.keyPath] = key;\r\n\t\t\t\titem.data = value;\r\n\t\t\t\tvar result = cache.put(item);\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar ufc = this.caches[store];\r\n\t\t\t\t\tif (!!ufc) ufc.set(key, value);\r\n\t\t\t\t\tres(evt.result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tget (store, key) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readonly\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\t\t\t\tvar index = cache.index(cache.keyPath);\r\n\r\n\t\t\t\tvar ufc = this.caches[store], result;\r\n\t\t\t\tif (!!ufc) {\r\n\t\t\t\t\tresult = ufc.get(key);\r\n\t\t\t\t\tif (result !== undefined) return res(result);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresult = index.get(key);\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tif (!evt.target.result) res(undefined);\r\n\t\t\t\t\telse res(evt.target.result.data);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tall (store) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readonly\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\t\t\t\tvar index = cache.index(cache.keyPath);\r\n\r\n\t\t\t\tvar result = index.getAll();\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar list = evt.target.result;\r\n\t\t\t\t\tif (!list) return res(list);\r\n\t\t\t\t\tvar result = {};\r\n\t\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\t\tresult[item[cache.keyPath]] = item.data\r\n\t\t\t\t\t});\r\n\t\t\t\t\tres(result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tdel (store, key) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readwrite\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\r\n\t\t\t\tvar result = cache.delete(key);\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar ufc = this.caches[store];\r\n\t\t\t\t\tif (!!ufc) ufc.del(key);\r\n\t\t\t\t\tres(evt.result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tclear (store) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readwrite\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\r\n\t\t\t\tvar result = cache.clear();\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar ufc = this.caches[store];\r\n\t\t\t\t\tif (!!ufc) ufc.clear();\r\n\t\t\t\t\tres(evt.result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tclearCache (store) {\r\n\t\t\tvar ufc = this.caches[store];\r\n\t\t\tif (!ufc) return;\r\n\t\t\tufc.clear();\r\n\t\t}\r\n\r\n\t\tget name () {\r\n\t\t\treturn this._name;\r\n\t\t}\r\n\t\tget version () {\r\n\t\t\treturn this._version;\r\n\t\t}\r\n\t}\r\n\r\n\twindow.CachedDB = CachedDB;\r\n}) ();","/**\n * Name:\tCommon Core\n * Desc:    辅助工具\n * Author:\tLostAbaddon\n * Version:\t0.0.4\n * Date:\t2019.06.03\n *\n * 热更新require库\n * 字符串拓展、随机穿\n * 日志工具\n * 文件夹生成\n * 辅助工具\n * Object的copy与extent功能\n */\n\ntry {\n\tif (!!window) {\n\t\twindow.global = window;\n\t\tglobal._env = 'browser';\n\t\tglobal.require = () => {};\n\t\tglobal.module = { exports: {} };\n\t} else {\n\t\tglobal._env = 'node';\n\t}\n} catch (err) {\n\tglobal._env = 'node';\n}\n\nif (!!process && !!process.execArgv && !process.execArgv.includes('--expose-gc')) global.gc = () => {};\n\n{};;\n{};;\n{};;\n{};;\n{};;\n\n{};;\n\nif (!global.noEventModules) {\n\t{};;\n\t{};;\n\tif (global._canThread) {\n\t\t{};;\n\t\t{};;\n\t}\n}\n\n{};;\n\nif (global._env === 'node') global.loadjLAssModule = mod => {loadall(__dirname, \"./\" + mod)};","/**\n * Name:\tObject Utils\n * Desc:    Object 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.2\n * Date:\t2019.06.04\n */\n\nBoolean.is = obj => {\n\tif (typeof obj === \"boolean\") return true;\n\tif (obj instanceof Boolean) return true;\n\treturn false;\n};\nBigInt.is = obj => {\n\tif (typeof obj === \"bigint\") return true;\n\tif (obj instanceof BigInt) return true;\n\treturn false;\n};\nNumber.is = obj => {\n\tif (typeof obj === \"number\") return true;\n\tif (obj instanceof Number) return true;\n\treturn false;\n};\nObject.isBasicType = obj => {\n\tif (String.is(obj)) return true;\n\tif (Boolean.is(obj)) return true;\n\tif (BigInt.is(obj)) return true;\n\tif (Number.is(obj)) return true;\n\tif (Symbol.is(obj)) return true;\n\treturn false;\n};\n\nObject.prototype.copy = function () {\n\treturn Object.assign({}, this);\n};\nObject.prototype.duplicate = function () {\n\tvar copy = {};\n\tfor (let key in this) {\n\t\tlet value = this[key];\n\t\tif (Object.isBasicType(value)) {\n\t\t\tcopy[key] = value.valueOf();\n\t\t} else if (value === null || value === undefined) {\n\t\t\tcopy[key] = value;\n\t\t} else if (value instanceof Date) {\n\t\t\tcopy[key] = new Date(value.getTime());\n\t\t} else if (typeof value === \"object\" && !(value instanceof Promise)) {\n\t\t\tcopy[key] = value.duplicate();\n\t\t}\n\t}\n\treturn Object.assign({}, this, copy);\n};\nObject.prototype.extent = function (...targets) {\n\tvar copy = Object.assign({}, this);\n\ttargets.reverse();\n\tObject.assign(this, ...targets, copy);\n};\nObject.defineProperty(Object.prototype, 'copy', { enumerable: false });\nObject.defineProperty(Object.prototype, 'duplicate', { enumerable: false });\nObject.defineProperty(Object.prototype, 'extent', { enumerable: false });\n\nNumber.prototype.duplicate = function () {\n\treturn this * 1;\n};\nObject.defineProperty(Number.prototype, 'duplicate', { enumerable: false });\nBigInt.prototype.duplicate = function () {\n\treturn this * 1n;\n};\nObject.defineProperty(BigInt.prototype, 'duplicate', { enumerable: false });\nBoolean.prototype.duplicate = function () {\n\tif (this === false || this.valueOf() === false) return false;\n\treturn true;\n};\nObject.defineProperty(Boolean.prototype, 'duplicate', { enumerable: false });\n\nif (!!Proxy) {\n\tProxy.toObject = proxy => {\n\t\tvar result = {};\n\t\tfor (let name in proxy) {\n\t\t\tlet value = proxy[name];\n\t\t\tif (value instanceof Proxy) {\n\t\t\t\tresult[name] = Proxy.toObject(value);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tresult[name] = value;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n}\n","import \"./assets/jLAss/index.js\"\nimport \"./assets/jLAss/namespace.js\"\nimport \"./assets/jLAss/extends/array.js\"\nimport \"./assets/jLAss/extends/class.js\"\nimport \"./assets/jLAss/extends/function.js\"\nimport \"./assets/jLAss/extends/math.js\"\nimport \"./assets/jLAss/extends/object.js\"\nimport \"./assets/jLAss/extends/string.js\"\nimport \"./assets/jLAss/extends/symbol.js\"\nimport \"./assets/jLAss/extends/timer.js\"\nimport \"./assets/jLAss/utils/datetime.js\"\nimport \"./assets/Asimov/markup.js\"\nimport \"./assets/Asimov/extensions.js\"\n\nimport './assets/js/core.js';\r\nimport './assets/js/cacheCenter.js';\r\nimport './assets/js/lrucache.js';\r\nimport './assets/js/cacheDB.js';\r\nimport './assets/js/granary.js';\r\nimport './assets/js/markup-footnote.js';\r\nimport './assets/js/imageWall.js';\r\n\r\nimport { createApp, inject } from 'vue'\r\nimport axios from 'axios';\r\n\r\nimport App from './App.vue';\r\nimport router from './router';\r\n\r\nimport Loading from '@/components/loading.vue';\r\nimport Notification from '@/components/notification.vue';\r\nimport NavBar from '@/components/navbar.vue';\r\nimport NavMenuBar from '@/components/navmenubar.vue';\r\nimport NavMenuItem from '@/components/navmenuitem.vue';\r\nimport TailBar from '@/components/tail.vue';\r\nimport ImageShowcase from '@/components/imageShowcase.vue';\r\nimport Crumb from '@/components/crumb.vue';\r\nimport Column from '@/components/column.vue';\r\n\r\nimport \"./assets/js/extmarkup.js\";\r\n\r\nrequire('./assets/css/theme.css');\r\nrequire('./assets/css/mobile.css');\r\nrequire('./assets/css/main.css');\r\nrequire('./assets/css/404.css');\r\nrequire('./assets/css/navbar.css');\r\nrequire('./assets/css/tail.css');\r\nrequire('./assets/css/crumb.css');\r\nrequire('./assets/css/column.css');\r\nrequire('./assets/css/markup.css');\r\nrequire('./assets/css/article.css');\r\n\r\nglobal.axios = axios;\r\n\r\nif (Devices.isMobile) document.body.classList.add('mobile');\r\nelse document.body.classList.add('notmobile');\r\n\r\n(async () => {\r\n\tif (await LifeCycle.emit.loaded()) {\r\n\t\tconst app = createApp(App);\r\n\t\tapp.config.globalProperties.SiteName = \"过气网红回收站\";\r\n\t\tapp.config.globalProperties.SiteOwner = \"LostAbaddon\";\r\n\t\tapp.config.globalProperties.LikeCoin = {\"id\":\"lostabaddon\",\"forbidden\":[\"myqcloud.com\"]};\r\n\r\n\t\tapp.use(Notification);\r\n\t\tapp.component('Loading', Loading);\r\n\t\tapp.component('NavBar', NavBar);\r\n\t\tapp.component('NavMenuBar', NavMenuBar);\r\n\t\tapp.component('NavMenuItem', NavMenuItem);\r\n\t\tapp.component('TailBar', TailBar);\r\n\t\tapp.component('ImageShowcase', ImageShowcase);\r\n\t\tapp.component('Crumb', Crumb);\r\n\t\tapp.component('Column', Column);\r\n\r\n\t\tif (await LifeCycle.emit.ready(app)) {\r\n\t\t\tapp.use(router).mount('#app');\r\n\t\t\trouter.app = app;\r\n\r\n\t\t\tawait LifeCycle.emit.initialized(app);\r\n\t\t}\r\n\t}\r\n}) ();","const ModuleList = new Map;\nglobal._ = (path, mod) => {\n\tpath = path.split(/[\\/\\\\,\\.\\:;]/).map(p => p.trim()).filter(p => p.length > 0);\n\tif (path.length < 1) return global;\n\tpath = path.join(\"/\");\n\tif (!!mod) {\n\t\tModuleList.set(path, mod);\n\t\treturn mod\n\t}\n\tmod = ModuleList.get(path);\n\tif (!!mod) return mod;\n\tvar names = [...ModuleList.keys()];\n\tnames = names.filter(n => n.indexOf(path) === 0);\n\tmod = {};\n\tnames.forEach(n => {\n\t\tvar m = ModuleList.get(n);\n\t\tn = n.replace(path + '/', '');\n\t\tn = n.split('/');\n\t\tvar l = n.pop();\n\t\tvar t = mod;\n\t\tn.forEach(m => {\n\t\t\tif (!!t[m]) t[m] = {};\n\t\t\tt = t[m];\n\t\t});\n\t\tt[l] = m;\n\t});\n\treturn mod;\n};\n\n_('Utils', {});","/**\n * Name:\tString Utils\n * Desc:    String 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.2\n * Date:\t2019.06.05\n */\n\nconst KeySet = [];\n(() => {\n\tfor (let i = 0; i < 10; i ++) KeySet.push('' + i);\n\tfor (let i = 65; i <= 90; i ++) KeySet.push(String.fromCharCode(i));\n\tfor (let i = 97; i <= 122; i ++) KeySet.push(String.fromCharCode(i));\n}) ();\nString.random = (len) => {\n\tvar rnd = \"\";\n\tfor (let i = 0; i < len; i ++) {\n\t\trnd += KeySet[Math.floor(KeySet.length * Math.random())];\n\t}\n\treturn rnd;\n};\nString.blank = (len, block = ' ') => {\n\tvar line = '';\n\tfor (let i = 0; i < len; i ++) line += block;\n\treturn line;\n};\nString.is = (str) => {\n\tif (str instanceof String) return true;\n\tif (typeof str === 'string') return true;\n\treturn false;\n};\nString.prototype.copy = String.prototype.duplicate = function () {\n\treturn String(this).toString();\n};\nObject.defineProperty(String.prototype, 'copy', { enumerable: false });\nObject.defineProperty(String.prototype, 'duplicate', { enumerable: false });\n\nif (global._env === \"node\") {\n\tObject.defineProperty(String.prototype, 'byteLength', {\n\t\tget () {\n\t\t\tvar buf = Buffer.from(this, 'utf8');\n\t\t\treturn buf.byteLength;\n\t\t},\n\t\tenumerable: false,\n\t\tconfigurable: false\n\t});\n}","(() => {\r\n\tvar NoteFrame, lastUI;\r\n\r\n\tconst onEnter = async (evt) => {\r\n\t\tvar ele = evt.target, cn = ele.className;\r\n\t\tvar name = ele.getAttribute('href');\r\n\t\tif (!name || name.substr(0, 1) !== '#') return;\r\n\t\tname = name.substring(1, name.length);\r\n\t\tvar info = lastUI.querySelector('a[name=\"' + name + '\"]');\r\n\t\tif (!info) return;\r\n\t\tvar content = info.parentElement.innerHTML.replace(info.outerHTML, '');\r\n\t\tvar html = '';\r\n\r\n\t\tif (cn === 'terminology') {\r\n\t\t\thtml = '<p class=\"note-title\">' + ele.innerText + '</p>';\r\n\t\t}\r\n\t\thtml += '<p class=\"note-content\">' + content + '</p>';\r\n\t\tNoteFrame.innerHTML = html;\r\n\t\tNoteFrame._status = 1;\r\n\r\n\t\tvar rect = ele.getBoundingClientRect();\r\n\t\tvar isTop = true, isLeft = true;\r\n\t\tvar left = rect.left - 10;\r\n\t\tvar top = rect.top + rect.height + 10;\r\n\t\tif (left > window.innerWidth * 0.6) {\r\n\t\t\tisLeft = false;\r\n\t\t\tleft = window.innerWidth - rect.right;\r\n\t\t}\r\n\t\tif (top > window.innerHeight * 0.7) {\r\n\t\t\tisTop = false;\r\n\t\t\ttop = window.innerHeight - rect.top;\r\n\t\t}\r\n\r\n\t\tif (isLeft) {\r\n\t\t\tNoteFrame.style.left = left + 'px';\r\n\t\t\tNoteFrame.style.right = '';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tNoteFrame.style.left = '';\r\n\t\t\tNoteFrame.style.right = left + 'px';\r\n\t\t}\r\n\t\tif (isTop) {\r\n\t\t\tNoteFrame.style.top = top + 'px';\r\n\t\t\tNoteFrame.style.bottom = '';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tNoteFrame.style.top = '';\r\n\t\t\tNoteFrame.style.bottom = top + 'px';\r\n\t\t}\r\n\t\tNoteFrame.style.display = 'block';\r\n\t\tawait wait(50);\r\n\t\tNoteFrame.style.opacity = '1';\r\n\t\tNoteFrame._status = 2;\r\n\t};\r\n\tconst onLeave = async (evt) => {\r\n\t\tNoteFrame.style.opacity = '0';\r\n\t\tawait wait(200);\r\n\t\tif (NoteFrame._status === 2) {\r\n\t\t\tNoteFrame.style.display = 'none';\r\n\t\t\tNoteFrame._status = 0;\r\n\t\t}\r\n\t};\r\n\tconst onTransit = async (evt) => {\r\n\t\tvar ele = evt.target, cn = ele.className;\r\n\t\tif (cn === 'notemark' || cn ==='terminology') {\r\n\t\t\tvar css = ele.computedStyleMap();\r\n\t\t\tcss = css.get('text-decoration').toString();\r\n\t\t\tvar enter = false;\r\n\t\t\tif (css.indexOf('underline') >= 0) enter = true;\r\n\r\n\t\t\tif (enter) {\r\n\t\t\t\tvar name = ele.getAttribute('href');\r\n\t\t\t\tif (name.substr(0, 1) !== '#') return;\r\n\t\t\t\tname = name.substring(1, name.length);\r\n\t\t\t\tvar info = lastUI.querySelector('a[name=\"' + name + '\"]');\r\n\t\t\t\tif (!info) return;\r\n\t\t\t\tvar content = info.parentElement.innerHTML.replace(info.outerHTML, '');\r\n\t\t\t\tvar html = '';\r\n\r\n\t\t\t\tif (cn === 'terminology') {\r\n\t\t\t\t\thtml = '<p class=\"note-title\">' + ele.innerText + '</p>';\r\n\t\t\t\t}\r\n\t\t\t\thtml += '<p class=\"note-content\">' + content + '</p>';\r\n\t\t\t\tNoteFrame.innerHTML = html;\r\n\t\t\t\tNoteFrame._status = 1;\r\n\r\n\t\t\t\tvar rect = ele.getBoundingClientRect();\r\n\t\t\t\tvar isTop = true, isLeft = true;\r\n\t\t\t\tvar left = rect.left - 10;\r\n\t\t\t\tvar top = rect.top + rect.height + 10;\r\n\t\t\t\tif (left > window.innerWidth * 0.6) {\r\n\t\t\t\t\tisLeft = false;\r\n\t\t\t\t\tleft = window.innerWidth - rect.right;\r\n\t\t\t\t}\r\n\t\t\t\tif (top > window.innerHeight * 0.7) {\r\n\t\t\t\t\tisTop = false;\r\n\t\t\t\t\ttop = window.innerHeight - rect.top;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isLeft) {\r\n\t\t\t\t\tNoteFrame.style.left = left + 'px';\r\n\t\t\t\t\tNoteFrame.style.right = '';\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tNoteFrame.style.left = '';\r\n\t\t\t\t\tNoteFrame.style.right = left + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tif (isTop) {\r\n\t\t\t\t\tNoteFrame.style.top = top + 'px';\r\n\t\t\t\t\tNoteFrame.style.bottom = '';\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tNoteFrame.style.top = '';\r\n\t\t\t\t\tNoteFrame.style.bottom = top + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tNoteFrame.style.display = 'block';\r\n\t\t\t\tawait wait(50);\r\n\t\t\t\tNoteFrame.style.opacity = '1';\r\n\t\t\t\tNoteFrame._status = 2;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tNoteFrame.style.opacity = '0';\r\n\t\t\t\tawait wait(200);\r\n\t\t\t\tif (NoteFrame._status === 2) {\r\n\t\t\t\t\tNoteFrame.style.display = 'none';\r\n\t\t\t\t\tNoteFrame._status = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst initUI = (UI, query) => {\r\n\t\tif (!!Devices.isMobile) return;\r\n\t\tUI.querySelectorAll(query).forEach(ele => {\r\n\t\t\tvar inited = ele.getAttribute('footnote_inited');\r\n\t\t\tif (!!inited) return;\r\n\t\t\tele.addEventListener('mouseleave', onLeave);\r\n\t\t\tele.addEventListener('mouseenter', onEnter);\r\n\t\t\tele.setAttribute('footnote_inited', true)\r\n\t\t});\r\n\t};\r\n\tconst deactiveUI = (UI, query) => {\r\n\t\tif (!!Devices.isMobile) return;\r\n\t\tUI.querySelectorAll(query).forEach(ele => {\r\n\t\t\tvar inited = ele.getAttribute('footnote_inited');\r\n\t\t\tif (!inited) return;\r\n\t\t\tele.removeEventListener('mouseleave', onLeave);\r\n\t\t\tele.removeEventListener('mouseenter', onEnter);\r\n\t\t\tele.removeAttribute('footnote_inited')\r\n\t\t});\r\n\t};\r\n\r\n\twindow.InitNotes = UI => {\r\n\t\tNoteFrame = document.querySelector('#footnoteFrame');\r\n\t\tNoteFrame._status = NoteFrame._status || 0;\r\n\t\tif (lastUI !== UI && !!lastUI) destructe();\r\n\t\tlastUI = UI;\r\n\r\n\t\tvar inited = UI.getAttribute('footnoted');\r\n\t\tif (!inited) {\r\n\t\t\tUI.setAttribute('footnoted', true);\r\n\t\t\tUI.addEventListener('transitionstart', onTransit);\r\n\t\t}\r\n\r\n\t\tinitUI(UI, 'a.notemark');\r\n\t\tinitUI(UI, 'a.terminology');\r\n\t};\r\n\twindow.destructe = () => {\r\n\t\tlastUI.removeEventListener('transitionstart', onTransit);\r\n\t\tdeactiveUI(UI, 'a.notemark');\r\n\t\tdeactiveUI(UI, 'a.terminology');\r\n\t};\r\n}) ();","/**\n * Name:\tMath Utils\n * Desc:    Math 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.1\n * Date:\t2017.11.09\n */\n\nMath.pick = list => {\n\tif (Array.is(list)) {\n\t\tlet i = Math.floor(Math.random() * list.length);\n\t\treturn list[i];\n\t}\n\telse if (!isNaN(list)) {\n\t\treturn Math.random() <= list;\n\t}\n\treturn null;\n};\nMath.range = (l, r) => {\n\tif (isNaN(r)) {\n\t\tr = l;\n\t\tl = 0;\n\t}\n\treturn l + Math.random() * (r - l);\n};","<template>\r\n\t<div class=\"notifaction-frame\" :horizontal=\"hAlign\" :vertial=\"vAlign\" @click=\"onClick\"></div>\r\n</template>\r\n\r\n<script>\r\nvar current;\r\nconst chMessage = new BroadcastChannel('show-notification');\r\nchMessage.addEventListener('message', evt => {\r\n\tif (!current) return;\r\n\tcurrent.showMessage(evt.data);\r\n});\r\nwindow.notify = msg => {\r\n\tif (!current) return;\r\n\tcurrent.showMessage(msg);\r\n};\r\n\r\nexport default {\r\n\tname: \"Notification\",\r\n\tprops: {\r\n\t\t\"hAlign\": String,\r\n\t\t\"vAlign\": String\r\n\t},\r\n\tinstall (app) {\r\n\t\trequire('../assets/css/notification.css');\r\n\t\tapp.component('Notification', this);\r\n\t},\r\n\tmounted () {\r\n\t\tcurrent = this;\r\n\t},\r\n\tmethods: {\r\n\t\tasync showMessage (msg) {\r\n\t\t\tvar duration = msg.duration || 3000;\r\n\t\t\tvar key = Math.floor(10000000000 * Math.random());\r\n\t\t\tmsg.key = key;\r\n\r\n\t\t\tmsg.ele = this.newMsg(msg);\r\n\t\t\tmsg.ele.exit = async () => {\r\n\t\t\t\tif (!!msg.timer) clearTimeout(msg.timer);\r\n\t\t\t\tdelete msg.timer;\r\n\r\n\t\t\t\tmsg.ele.classList.remove('show');\r\n\t\t\t\tawait wait(300);\r\n\t\t\t\tthis.$el.removeChild(msg.ele);\r\n\r\n\t\t\t\tdelete msg.ele.exit;\r\n\t\t\t\tdelete msg.ele;\r\n\t\t\t};\r\n\t\t\tthis.$el.appendChild(msg.ele);\r\n\t\t\tawait wait();\r\n\t\t\tmsg.ele.classList.add('show');\r\n\r\n\t\t\tmsg.timer = setTimeout(msg.ele.exit, duration);\r\n\t\t},\r\n\t\tnewMsg (msg) {\r\n\t\t\tvar ele = document.createElement('section');\r\n\t\t\tele.setAttribute('key', msg.key);\r\n\t\t\tele.setAttribute('type', msg.type || 'default');\r\n\t\t\tif (!!msg.title) {\r\n\t\t\t\tlet header = document.createElement('header');\r\n\t\t\t\theader.innerText = msg.title;\r\n\t\t\t\tele.appendChild(header);\r\n\t\t\t}\r\n\t\t\tif (!!msg.message) {\r\n\t\t\t\tlet article = document.createElement('article');\r\n\t\t\t\tarticle.innerText = msg.message;\r\n\t\t\t\tele.appendChild(article);\r\n\t\t\t}\r\n\t\t\treturn ele;\r\n\t\t},\r\n\t\tonClick (evt) {\r\n\t\t\tvar ele = evt.target;\r\n\t\t\tif (!ele) return;\r\n\t\t\tif (!ele.exit) return;\r\n\t\t\tele.exit();\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./notification.vue?vue&type=template&id=5b7cf86e\"\nimport script from \"./notification.vue?vue&type=script&lang=js\"\nexport * from \"./notification.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","/**\n * Name:\tFunction Utils\n * Desc:    Function 类拓展工具\n * \t\t\t函数的 promisify、once 化函数、stack & pump 化函数\n * Author:\tLostAbaddon\n * Version:\t0.0.3\n * Date:\t2018.11.05\n */\n\nFunction.is = obj => obj instanceof Function;\nglobal.AsyncFunction = (async () => {}).constructor;\nAsyncFunction.is = obj => obj instanceof AsyncFunction;\n\n/**\n * 将函数Promise化\n * 可设置超时实现\n */\n\nconst promisify = (fn) => {\n\tif (!(fn instanceof Function)) return null;\n\tif (!!fn._promised) return fn;\n\tvar afun = (...args) => new Promise((res, rej) => {\n\t\ttry {\n\t\t\tfn(...args, res, rej);\n\t\t\t// setImmediate(() => fn(...args, res, rej));\n\t\t}\n\t\tcatch (err) {\n\t\t\trej(err);\n\t\t}\n\t});\n\tafun._promised = true;\n\tafun._original = fn;\n\treturn afun;\n};\npromisify.withTimeout = (fn) => {\n\tif (!(fn instanceof Function)) return null;\n\tif (!!fn._promised) return fn;\n\tvar afun = (...args) => {\n\t\tvar start_time, tocb = null, todelay = -1, towatch = null, rej;\n\t\tvar prom = new Promise((_res, _rej) => {\n\t\t\trej = _rej;\n\t\t\tvar res = (...args) => {\n\t\t\t\tif (!!towatch) clearTimeout(towatch);\n\t\t\t\ttowatch = null;\n\t\t\t\t_res(...args);\n\t\t\t};\n\t\t\ttry {\n\t\t\t\tstart_time = new Date().getTime();\n\t\t\t\tfn(...args, res, rej);\n\t\t\t\t// setImmediate(() => fn(...args, res, rej));\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\trej(err);\n\t\t\t}\n\t\t});\n\t\tprom.timeout = (...args) => {\n\t\t\tif (args[0] instanceof Number) args[0] = args[0] * 1;\n\t\t\tif (!isNaN(args[0])) {\n\t\t\t\tif (args[1] instanceof Function) tocb = args[1];\n\t\t\t\ttodelay = args[0] >= 0 ? args[0] : -1;\n\t\t\t\tif (todelay < 0 && !!towatch) {\n\t\t\t\t\tclearTimeout(towatch);\n\t\t\t\t\ttowatch = null;\n\t\t\t\t}\n\t\t\t\telse if (todelay >= 0) {\n\t\t\t\t\tif (!!towatch) clearTimeout(towatch);\n\t\t\t\t\tlet n = new Date().getTime();\n\t\t\t\t\ttowatch = setTimeout(() => {\n\t\t\t\t\t\tif (!!tocb) tocb();\n\t\t\t\t\t\trej(new Error('Timeout!'));\n\t\t\t\t\t}, todelay - (n - start_time));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (args[0] instanceof Function) {\n\t\t\t\ttocb = args[0];\n\t\t\t}\n\t\t\treturn prom;\n\t\t};\n\t\treturn prom;\n\t};\n\tafun._promised = true;\n\tafun._original = fn;\n\treturn afun;\n};\n\nconst fun_prep = (promisible, ...args) => {\n\tvar funs, data, cb;\n\tif (args[0] instanceof Array) {\n\t\tfuns = args[0];\n\t\tdata = args[1];\n\t\tcb = args[2];\n\t\tif (!cb) {\n\t\t\tcb = data;\n\t\t\tdata = null;\n\t\t}\n\t}\n\telse {\n\t\tcb = args.pop();\n\t\tif (args[args.length - 1] instanceof Function) data = null;\n\t\telse data = args.pop();\n\t\tfuns = args;\n\t}\n\tif (!!promisible) funs = funs.map(f => promisify(f));\n\telse funs = funs.map(f => f._original || f);\n\treturn [funs, data, cb];\n};\n\npromisify.s = promisify.serial = promisify(async (...args) => {\n\tvar [funs, data, res] = fun_prep(true, ...args);\n\tfor (let fun of funs) {\n\t\tlet v;\n\t\tif (data === null || data === undefined) v = await fun();\n\t\telse v = await fun(data);\n\t\tif (v !== undefined) data = v;\n\t}\n\tres(data);\n});\npromisify.p = promisify.parallel = promisify(async (...args) => {\n\tvar [funs, data, res] = fun_prep(true, ...args);\n\tvar tasks = funs.length, results = [];;\n\tfuns.forEach(async (f, i) => {\n\t\tvar v;\n\t\tif (data === null || data === undefined) v = await f();\n\t\telse v = await f(data);\n\t\tresults[i] = v;\n\t\ttasks --;\n\t\tif (tasks > 0) return;\n\t\tres(results);\n\t});\n});\npromisify.a = promisify.any = promisify(async (...args) => {\n\tvar [funs, data, res] = fun_prep(true, ...args);\n\tfuns.forEach(async (f, i) => {\n\t\tvar v;\n\t\tif (data === null || data === undefined) v = await f();\n\t\telse v = await f(data);\n\t\tres(v);\n\t});\n});\n\nglobal.promisify = Function.promisify = promisify;\n\n/**\n * 将函数一次化，此后只返回第一次运行的结果，支持Promisify对象\n * oncefun.refresh可重新执行\n */\nglobal.oncilize = Function.oncilize = fn => {\n\tvar called = false, value, ofn;\n\tif (fn._promised) {\n\t\tofn = (...args) => new Promise(async (res, rej) => {\n\t\t\tif (called) {\n\t\t\t\tawait waitLoop();\n\t\t\t\tres(value);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcalled = true;\n\t\t\tvalue = await fn(...args);\n\t\t\tres(value);\n\t\t});\n\t}\n\telse {\n\t\tofn = (...args) => {\n\t\t\tif (called) return value;\n\t\t\tcalled = true;\n\t\t\tvalue = fn(...args);\n\t\t\treturn value;\n\t\t};\n\t}\n\tofn.refresh = () => called = false;\n\treturn ofn;\n};\n\n/**\n * 将函数堆栈化，可将一段时间内的输入都保存下来，只输出最后一次（stack模式）或者所有都输出（pump模式），默认为stack模式\n * pumpfun.dump可立即执行\n */\nglobal.pumplize = Function.pumplize = (fn, cb, last_only=true) => {\n\tvar stack = [], start_time = null, timeout = 100, timer = null;\n\tvar done = () => {\n\t\tstart_time = null;\n\t\tvar args = stack;\n\t\tstack = [];\n\t\tif (last_only) cb(fn(...args));\n\t\telse cb(fn(args));\n\t};\n\tvar pfn = (...args) => {\n\t\tif (start_time === null) {\n\t\t\tstart_time = Date.now();\n\t\t\tif (timer) clearTimeout(timer);\n\t\t\ttimer = setTimeout(done, timeout);\n\t\t}\n\t\tvar n = Date.now();\n\t\tif (n - start_time >= timeout) {\n\t\t\tdone();\n\t\t}\n\t\telse {\n\t\t\tif (last_only) stack = args;\n\t\t\telse stack.push(args);\n\t\t}\n\t};\n\tpfn.dump = () => {\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = null;\n\t\tdone();\n\t};\n\tpfn.timeout = to => {\n\t\tif (isNaN(to)) return pfn;\n\t\ttimeout = to;\n\t\tif (start_time === null) return pfn;\n\t\tvar n = Date.now();\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = setTimeout(done, timeout + start_time - n);\n\t\treturn pfn;\n\t};\n\treturn pfn;\n};","<template>\r\n\t<div class=\"crumb\" v-if=\"show\">\r\n\t\t<span class=\"hint\">位置：</span>\r\n\t\t<template v-for=\"(item, index) in path\">\r\n\t\t\t<span @click=\"jump(item.path, item.query)\">{{item.name}}</span><i class=\"fas fa-angle-right\" />\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nvar currCrumb = null;\r\nconst channel = new BroadcastChannel('page-changed');\r\nchannel.addEventListener('message', msg => {\r\n\tif (!currCrumb) return;\r\n\tcurrCrumb.update();\r\n});\r\n\r\nexport default {\r\n\tname: 'Crumb',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tshow: true,\r\n\t\t\tpath: []\r\n\t\t}\r\n\t},\r\n\tprops: {\r\n\t\ttarget: String\r\n\t},\r\n\tmethods: {\r\n\t\tjump (path, query) {\r\n\t\t\tquery = Proxy.toObject(query);\r\n\t\t\tvar target = {path, query};\r\n\t\t\tthis.$router.push(target);\r\n\t\t\tif (path === this.$route.path) channel.postMessage(target);\r\n\t\t},\r\n\t\tupdate () {\r\n\t\t\tvar path = null, type = '';\r\n\t\t\tif (this.$route.path === '/') {\r\n\t\t\t\tpath = null;\r\n\t\t\t}\r\n\t\t\telse if (this.$route.path === '/category') {\r\n\t\t\t\tif (!!this.$route.query && !!this.$route.query.c) {\r\n\t\t\t\t\tpath = decodeURIComponent(this.$route.query.c).split(',').filter(c => c.length > 0);\r\n\t\t\t\t\ttype = 'viewer';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (this.$route.path === '/view') {\r\n\t\t\t\tif (!!this.$route.query && !!this.$route.query.f) {\r\n\t\t\t\t\tpath = decodeURIComponent(this.$route.query.f).split('/');\r\n\t\t\t\t\tpath.pop();\r\n\t\t\t\t\tpath = path.filter(c => c.length > 0);\r\n\t\t\t\t\ttype = 'view';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet fullpath = this.target || this.$route.path;\r\n\t\t\t\tpath = fullpath.split('/').filter(c => c.length > 0);\r\n\t\t\t\ttype = 'view';\r\n\t\t\t}\r\n\t\t\tif (!path) {\r\n\t\t\t\tthis.show = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.show = true;\r\n\t\t\tthis.path.splice(0, this.path.length);\r\n\t\t\tif (type === 'viewer' || type === 'page') path.pop();\r\n\r\n\t\t\tthis.path.push(...(getPathNameList(path)));\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tthis.update();\r\n\t\tcurrCrumb = this;\r\n\t},\r\n\tunmounted () {\r\n\t\tcurrCrumb = null;\r\n\t}\r\n}\r\n</script>","import { render } from \"./crumb.vue?vue&type=template&id=4d449e52\"\nimport script from \"./crumb.vue?vue&type=script&lang=js\"\nexport * from \"./crumb.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","window.loadJS = (filepath) => new Promise(res => {\r\n\tvar js = document.createElement('script');\r\n\tjs.type = 'text/javascript';\r\n\tjs.src = filepath;\r\n\tjs.onload = res;\r\n\tjs.onerror = res;\r\n\tdocument.body.appendChild(js);\r\n});\r\nwindow.loadCSS = (filepath) => new Promise(res => {\r\n\tvar css = document.createElement('link');\r\n\tcss.type = 'text/css';\r\n\tcss.rel = 'stylesheet';\r\n\tcss.href = filepath;\r\n\tcss.onload = res;\r\n\tcss.onerror = res;\r\n\tdocument.body.appendChild(css);\r\n});\r\n\r\nwindow.onVueHyperLinkTriggered = (vue, evt) => {\r\n\tvar ele = evt.target;\r\n\tif (!ele || !ele.nodeName || ele.nodeName.toLowerCase() !== 'a') return false;\r\n\r\n\tvar path = ele.getAttribute('href');\r\n\tif (!path) return false;\r\n\r\n\tif (path.indexOf('#/') === 0) {\r\n\t\tpath = path.replace(/^#+[\\\\\\/]+/, '');\r\n\t\tpath = path.split(/[\\\\\\/]+/);\r\n\t\tpath = { path: '/category', query: {c: path.join(',')} };\r\n\t}\r\n\telse if (path.indexOf('#') === 0) {\r\n\t\tpath = path.replace(/^#+/, '');\r\n\t\tlet target = document.querySelector('[name=\"' + path + '\"]');\r\n\t\tif (!!target) {\r\n\t\t\tlet app = document.body.querySelector('#app');\r\n\t\t\tif (!!app) {\r\n\t\t\t\tlet offset = (target.offsetTop || 0) - app.scrollTop;\r\n\t\t\t\tif (!Devices.isMobile) offset -= 25; // 顶部 NavBar 高度\r\n\t\t\t\tapp.scrollBy({top: offset, behavior: 'smooth'});\r\n\t\t\t}\r\n\t\t}\r\n\t\tevt.preventDefault();\r\n\t\treturn true;\r\n\t}\r\n\telse if (path.indexOf('/page/#/') === 0) {\r\n\t\tpath = path.replace(/^[\\\\\\/]+page[\\\\\\/]+#+[\\\\\\/]+/, '/');\r\n\t\tpath = { path };\r\n\t}\r\n\telse if (path.indexOf('/page/') === 0) {\r\n\t\tpath = path.replace('/page/', '/');\r\n\t\tpath = {path};\r\n\t}\r\n\telse if (path.indexOf('/article/') === 0) {\r\n\t\tpath = path.replace('/article/', '');\r\n\t\tpath = encodeURIComponent(path);\r\n\t\tpath = {path: '/view', query: {f: path}};\r\n\t}\r\n\telse {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tevt.preventDefault();\r\n\tvar originPath = location.hash.replace(/^#+/, '').split('?')[0];\r\n\tvue.$router.push(path);\r\n\tif (path.path === originPath) {\r\n\t\tlet channel = new BroadcastChannel('page-changed');\r\n\t\tchannel.postMessage(path);\r\n\t}\r\n\r\n\treturn true;\r\n};\r\n\r\nLifeCycle.on.ready(app => {\r\n\tconsole.log('Schwarzschild Blackhole System is READY!');\r\n\r\n\tvar FootNoteUnInited = true;\r\n\tapp.config.globalProperties.afterMarkUp = async () => {\r\n\t\tInitNotes(document.body.querySelector('#container'));\r\n\t\tif (FootNoteUnInited) {\r\n\t\t\tFootNoteUnInited = false;\r\n\t\t\tMathJax.Hub.Config({\r\n\t\t\t\textensions: [\"tex2jax.js\"],\r\n\t\t\t\tTeX: {\r\n\t\t\t\t\textensions: [\"AMSmath.js\", \"AMSsymbols.js\"]\r\n\t\t\t\t},\r\n\t\t\t\tjax: [\"input/TeX\", \"output/HTML-CSS\"],\r\n\t\t\t\ttex2jax: {\r\n\t\t\t\t\tinlineMath: [[\"$\",\"$\"]]}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tMathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tMathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\r\n\t\t}\r\n\t\tawait ImageWall.init();\r\n\t};\r\n\tconst mutationObserver = new MutationObserver(mutations => {\r\n\t\tvar markups = document.querySelectorAll('.markup');\r\n\t\t[].forEach.call(markups, (mu) => {\r\n\t\t\tvar content = mu.innerText;\r\n\t\t\tcontent = content.replace(/^\\t+|\\t+$/g, '\\n');\r\n\t\t\tcontent = MarkUp.parse(content, {\r\n\t\t\t\ttoc: mu.classList.contains('toc'),\r\n\t\t\t\tglossary: mu.classList.contains('glossary'),\r\n\t\t\t\tresources: mu.classList.contains('resources'),\r\n\t\t\t\tshowtitle: mu.classList.contains('showtitle'),\r\n\t\t\t\tshowauthor: false,\r\n\t\t\t\tclassname: 'markup-content',\r\n\t\t\t});\r\n\t\t\tmu.innerHTML = content;\r\n\t\t\tmu.classList.remove('markup');\r\n\t\t});\r\n\t\tif (markups.length > 0) app.config.globalProperties.afterMarkUp();\r\n\t});\r\n\tmutationObserver.observe(document.body, {\r\n\t\tchildList: true,\r\n\t\tsubtree: true,\r\n\t});\r\n\tglobal.changeThemeColor = (color) => {\r\n\t\tif (!color) return;\r\n\t\tlocalStorage.setItem('themeColor', color);\r\n\t\tdocument.body.setAttribute('theme', color);\r\n\t};\r\n\tchangeThemeColor(localStorage.getItem('themeColor'));\r\n});\r\nLifeCycle.on.initialized((app) => {\r\n\tconsole.log('Schwarzschild Blackhole System is INITIALIZED!');\r\n});","import { render } from \"./navbar.vue?vue&type=template&id=b840d628\"\nimport script from \"./navbar.vue?vue&type=script&lang=js\"\nexport * from \"./navbar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","/**\n * Name:\tClass Utils\n * Desc:    Class 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.1\n * Date:\t2017.11.09\n */\n\nglobal.ProtoType = Function.prototype;\nObject.defineProperty(ProtoType, 'kerneltype', {\n\tget () {\n\t\tif (this === ProtoType) return this;\n\t\tif (this.__proto__ === ProtoType) return this;\n\t\tif (!this.__proto__.kerneltype) return this;\n\t\treturn this.__proto__.kerneltype;\n\t},\n\tenumerable: false,\n\tconfigurable: false\n});\n\nObject.prototype.isSubClassOf = function (target) {\n\tif (typeof this !== 'function') return false;\n\tvar cls = this;\n\twhile (!!cls) {\n\t\tif (cls === target) return true;\n\t\tcls = Object.getPrototypeOf(cls);\n\t}\n\treturn false;\n};\nObject.defineProperty(Object.prototype, 'isSubClassOf', { enumerable: false });\n","<template>\n\t<div class=\"home\">\n\t\t<Column />\n\t</div>\n</template>\n\n<script>\n// @ is an alias to /src\nexport default {\n\tname: 'Home',\n}\n</script>","import { render } from \"./Home.vue?vue&type=template&id=55142182\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"category\">\n\t\t<Crumb />\n\t\t<Column />\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'Category',\n}\n</script>","import { render } from \"./Category.vue?vue&type=template&id=d48deafc\"\nimport script from \"./Category.vue?vue&type=script&lang=js\"\nexport * from \"./Category.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<div class=\"viewer\">\r\n\t\t<Crumb />\r\n\t\t<div ref=\"article\" class=\"container\" @click=\"onClick\"></div>\r\n\t\t<div class=\"likeCoinArea\" v-if=\"showLikeCoin\">\r\n\t\t\t<iframe :src=\"likecoin\"></iframe>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst chChangeLoadingHint = new BroadcastChannel('change-loading-hint');\r\nconst CCLicenses = ['BY', 'SA', 'NC', 'ND'];\r\nconst LicensesContent = {\r\n\tBY: \"署名\",\r\n\tSA: \"相同方式共享\",\r\n\tNC: \"非商业性使用\",\r\n\tND: \"禁止演绎\"\r\n};\r\n\r\nexport default {\r\n\tname: 'Viewer',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tlikecoin: \"\",\r\n\t\t\tshowLikeCoin: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync update () {\r\n\t\t\tchChangeLoadingHint.postMessage({\r\n\t\t\t\tname: '加载中……',\r\n\t\t\t\taction: 'show'\r\n\t\t\t});\r\n\r\n\t\t\tvar article = this.$route.query.f, timestamp = this.$route.query.t * 1;\r\n\t\t\tif (!article) {\r\n\t\t\t\tthis.$router.push({path: '/'});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar isMU = !!article.match(/\\.mu$/i);\r\n\t\t\ttimestamp = timestamp || 0;\r\n\t\t\tvar tasks = [Granary.getArticle(article, timestamp)];\r\n\t\t\tif (isMU) tasks.push(Granary.getContent('/api/copyright.md'));\r\n\t\t\tvar [content, copyright] = await Promise.all(tasks);\r\n\r\n\t\t\tvar html = '', title = '', hasContent = true;\r\n\t\t\tif (!content) {\r\n\t\t\t\thasContent = false;\r\n\t\t\t\thtml = '<div class=\"page_not_found\"><div class=\"frame\"></div><div class=\"title\">指定内容不存在，请联系站长。</div></div>';\r\n\t\t\t}\r\n\t\t\telse if (!!copyright && isMU) {\r\n\t\t\t\tcontent = content + '\\n\\n\\n' + copyright;\r\n\t\t\t}\r\n\r\n\t\t\tif (hasContent) {\r\n\t\t\t\tif (timestamp === 0) timestamp = Date.now();\r\n\t\t\t\tlet markup = MarkUp.fullParse(content, {\r\n\t\t\t\t\ttoc: true,\r\n\t\t\t\t\tglossary: isMU,\r\n\t\t\t\t\tresources: false,\r\n\t\t\t\t\tshowtitle: true,\r\n\t\t\t\t\tshowauthor: isMU,\r\n\t\t\t\t\tdate: timestamp,\r\n\t\t\t\t\tclassname: 'markup-content',\r\n\t\t\t\t});\r\n\t\t\t\tmarkup.meta.others = markup.meta.others || {};\r\n\t\t\t\tthis.addLikeCoin(markup.meta.others.LikeCoin);\r\n\t\t\t\tcopyright = markup.meta.others.CopyRight;\r\n\t\t\t\ttitle = '《' + markup.title + '》';\r\n\t\t\t\thtml = markup.content;\r\n\t\t\t\tif (!html) {\r\n\t\t\t\t\thtml = '<div class=\"page_not_found\"><div class=\"frame\"></div><div class=\"title\">MarkUp 内容解析失败，请联系作者。</div></div>';\r\n\t\t\t\t\thasContent = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.$refs.article.innerHTML = html;\r\n\t\t\tif (hasContent) {\r\n\t\t\t\tawait this.afterMarkUp();\r\n\t\t\t\tif (!!copyright && isMU) {\r\n\t\t\t\t\tawait wait();\r\n\t\t\t\t\tthis.adjustCopyRight(copyright)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocument.title = title + ' (' + this.SiteName + ')';\r\n\r\n\t\t\tchChangeLoadingHint.postMessage({\r\n\t\t\t\taction: 'hide'\r\n\t\t\t});\r\n\t\t},\r\n\t\tadjustCopyRight (copyright) {\r\n\t\t\tif (!copyright) return html;\r\n\t\t\tvar licenses = [], version = \"0\";\r\n\t\t\tif (!copyright.match(/^ *cc *0(\\.0)* *$/i)) {\r\n\t\t\t\tif (!copyright.match(/^ *(cc +)(\\w+\\-)*\\w+( +(\\d+\\.)*\\d) *$/i)) return;\r\n\t\t\t\tcopyright = copyright.replace(/^ *cc +/i, '').replace(/ +$/, '').split(/ +/);\r\n\t\t\t\tversion = copyright[1] || '4.0';\r\n\t\t\t\tif (version.indexOf('.') < 0) version = version + '.0';\r\n\t\t\t\tlicenses = copyright[0].split('-').map(l => l.toUpperCase()).filter(l => CCLicenses.includes(l));\r\n\t\t\t\tlicenses.sort((a, b) => b > a ? -1 : (b < a ? 1 : 0));\r\n\t\t\t}\r\n\t\t\tvar crSection = null;\r\n\t\t\tthis.$refs.article.querySelectorAll('section').forEach(sect => {\r\n\t\t\t\tvar title = sect.querySelector('h1');\r\n\t\t\t\tif (!title) return;\r\n\t\t\t\tif (title.innerText !== '版权申明') return;\r\n\t\t\t\tcrSection = sect;\r\n\t\t\t});\r\n\r\n\t\t\tvar link = crSection.querySelector('p a');\r\n\t\t\tvar content = crSection.querySelector('blockquote p');\r\n\t\t\tif (licenses.length === 0) {\r\n\t\t\t\tlink.innerText = '公共领域许可（CC0）协议';\r\n\t\t\t\tlink.href = \"https://en.wikipedia.org/wiki/Creative_Commons_license#Zero_/_public_domain\";\r\n\t\t\t\tcontent.innerHTML = '通过本协议，您的作品将不受限制地在全球范围内发布内容，您将法律允许范围内放弃一切权利。';\r\n\t\t\t\tlet next = content.parentElement.nextSibling;\r\n\t\t\t\tnext.parentElement.removeChild(next);\r\n\t\t\t}\r\n\t\t\telse if (licenses.includes('BY')) {\r\n\t\t\t\tlink.innerText = '知识共享署名 4.0 国际许可（CC ' + licenses.join('-') + ' ' + version + '）协议';\r\n\t\t\t\tlink.href = 'http://creativecommons.org/licenses/' + licenses.join('-').toLowerCase() + '/' + version + '/';\r\n\t\t\t\tcontent.innerHTML =\r\n\t\t\t\t\t\"通过本协议，您可以<a href='https://en.wikipedia.org/wiki/Creative_Commons_license#Attribution' target='_blank'>分享并演绎本作品（创建派生内容）</a>，只要你遵守以下授权条款规定：\" +\r\n\t\t\t\t\tlicenses.map(l => '<strong>' + LicensesContent[l] + '</strong>').join('、')\r\n\t\t\t\t\t+ \"。<br>具体内容请查阅上述协议声明。\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlink.innerText = '知识共享 4.0 许可（CC ' + licenses.join('-') + ' ' + version + '）协议';\r\n\t\t\t\tlink.href = 'https://en.wikipedia.org/wiki/Creative_Commons';\r\n\t\t\t\tcontent.innerHTML =\r\n\t\t\t\t\t\"通过本协议，您可以<a href='https://en.wikipedia.org/wiki/Creative_Commons_license#Attribution' target='_blank'>分享并演绎本作品（创建派生内容）</a>，只要你遵守以下授权条款规定：\" +\r\n\t\t\t\t\tlicenses.map(l => '<strong>' + LicensesContent[l] + '</strong>').join('、')\r\n\t\t\t\t\t+ \"。<br>具体内容请查阅上述协议声明。\";\r\n\t\t\t}\r\n\t\t},\r\n\t\taddLikeCoin (likeCoin) {\r\n\t\t\tvar available = true;\r\n\t\t\tif (!!this.LikeCoin && !!this.LikeCoin.forbidden && this.LikeCoin.forbidden.length > 0) {\r\n\t\t\t\tlet host = ('.' + location.hostname + '.').replace(/\\.+/g, '.');\r\n\t\t\t\tavailable = this.LikeCoin.forbidden.every(fb => {\r\n\t\t\t\t\tfb = ('.' + fb + '.').replace(/\\.+/g, '.');\r\n\t\t\t\t\treturn host.indexOf(fb) < 0;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (!available) {\r\n\t\t\t\tthis.showLikeCoin = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!likeCoin) {\r\n\t\t\t\tif (!this.LikeCoin) {\r\n\t\t\t\t\tthis.showLikeCoin = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (String.is(this.LikeCoin)) likeCoin = this.LikeCoin;\r\n\t\t\t\telse likeCoin = this.LikeCoin.id;\r\n\t\t\t}\r\n\r\n\t\t\tif (!!likeCoin) {\r\n\t\t\t\tthis.showLikeCoin = true;\r\n\t\t\t\tthis.likecoin = \"https://button.like.co/\" + likeCoin;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.likecoin = \"\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tonClick (evt) {\r\n\t\t\tonVueHyperLinkTriggered(this, evt);\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tthis.update();\r\n\t}\r\n}\r\n</script>","import { render } from \"./viewer.vue?vue&type=template&id=158f1bac\"\nimport script from \"./viewer.vue?vue&type=script&lang=js\"\nexport * from \"./viewer.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHashHistory } from 'vue-router';\nimport Home from '../views/Home.vue';\nimport Category from '../views/Category.vue';\nimport Viewer from '../views/viewer.vue';\n\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tname: 'Home',\n\t\tcomponent: Home\n\t},\n\t{\n\t\tpath: '/category',\n\t\tname: 'Category',\n\t\tcomponent: Category\n\t},\n\t{\n\t\tpath: '/view',\n\t\tname: 'Viewer',\n\t\tcomponent: Viewer\n\t},\n\t{\n\t\tpath: '/about',\n\t\tname: 'AboutSite',\n\t\tcomponent: function () {\n\t\t\treturn import('../views/about/site.vue')\n\t\t}\n\t},\n\t{\"path\":\"/chinesecolor\",\"name\":\"chinesecolor\",\"component\":function(){return import(\"../pages/chinesecolor.vue\")}},{\"path\":\"/japanesecolor\",\"name\":\"japanesecolor\",\"component\":function(){return import(\"../pages/japanesecolor.vue\")}},{\"path\":\"/freemusic\",\"name\":\"freemusic\",\"component\":function(){return import(\"../pages/freemusic.vue\")}},{\"path\":\"/latex\",\"name\":\"latex\",\"component\":function(){return import(\"../pages/latex.vue\")}},{\"path\":\"/markup\",\"name\":\"markup\",\"component\":function(){return import(\"../pages/markup.vue\")}},{\"path\":\"/entertain/ballcrush\",\"name\":\"ballcrush\",\"component\":function(){return import(\"../pages/entertain/ballcrush.vue\")}},{\"path\":\"/entertain/rushgo\",\"name\":\"rushgo\",\"component\":function(){return import(\"../pages/entertain/rushgo.vue\")}},{\"path\":\"/popsci/quantum1\",\"name\":\"quantum1\",\"component\":function(){return import(\"../pages/popsci/quantum1.vue\")}},{\"path\":\"/tools/parseMarkup\",\"name\":\"parseMarkup\",\"component\":function(){return import(\"../pages/tools/parseMarkup.vue\")}},{path:'/aboutMe',name:'AboutMe',component:function(){return import('../views/aboutMe.vue')}},\n\t{\n\t\tpath: '/404',\n\t\tname: 'PageNotFound',\n\t\tcomponent: function () {\n\t\t\treturn import('../views/404.vue')\n\t\t}\n\t},\n\t{\n\t\tpath: '/:pathMatch(.*)*',\n\t\tname: 'PageNotFound',\n\t\tcomponent: function () {\n\t\t\treturn import('../views/404.vue')\n\t\t}\n\t}\n];\n\nconst router = createRouter({\n\thistory: createWebHashHistory(),\n\troutes\n});\nrouter.afterEach((to, from) => {\n\tif (to.name === 'Category') {\n\t\tlet list = getPathNameList(to.query.c.split(','), false);\n\t\tif (!list) {\n\t\t\tdocument.title = router.app.config.globalProperties.SiteName;\n\t\t}\n\t\telse {\n\t\t\tdocument.title = router.app.config.globalProperties.SiteName + ' / ' + list.map(c => c.name).join(' / ');\n\t\t}\n\t}\n\telse {\n\t\tdocument.title = router.app.config.globalProperties.SiteName;\n\t}\n\tdocument.querySelector('#app').scrollTo(0, 0);\n});\n\nexport default router;","<template>\r\n\t<div :class=\"'imageShowcase ' + (show ? 'show' : 'hide')\">\r\n\t\t<div class=\"imageFrame\">\r\n\t\t\t<div class=\"imagePage\" v-for=\"(image, i) in gallary\" :style=\"{left: ((i - index) * 100) + '%'}\">\r\n\t\t\t\t<div class=\"imageInstance\" :style=\"{backgroundImage: 'url(' + image.image + ')', width: image.width + 'px'}\"></div>\r\n\t\t\t\t<div class=\"imageLegend\">{{image.title}}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"imageButton close\" @click=\"show=false\"><i class=\"fas fa-times-circle\"></i></div>\r\n\t\t<div class=\"imageButton left\" :inactive=\"index <= 0\" @click=\"index --\"><i class=\"fas fa-angle-left\"></i></div>\r\n\t\t<div class=\"imageButton right\" :inactive=\"index >= gallary.length - 1\" @click=\"index ++\"><i class=\"fas fa-angle-right\"></i></div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst findWall = ele => {\r\n\tvar parent = ele.parentNode;\r\n\tif (!parent) return null;\r\n\tvar tag = parent.tagName;\r\n\tif (!tag) return null;\r\n\ttag = tag.toLowerCase();\r\n\tif (tag === 'figuren') return findWall(parent);\r\n\tif (tag !== 'div') return null;\r\n\tif (parent.classList.contains('image-wall')) return parent;\r\n\treturn findWall(parent);\r\n};\r\nexport default {\r\n\tname: 'ImageShowcase',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tshow: false,\r\n\t\t\tindex: 0,\r\n\t\t\tgallary: []\r\n\t\t}\r\n\t},\r\n\tcreated () {\r\n\t\tdocument.body.addEventListener('click', evt => {\r\n\t\t\tif (this.show) return;\r\n\t\t\tvar ele = evt.target, tag = ele.tagName;\r\n\t\t\tif (!tag) return;\r\n\t\t\ttag = tag.toLowerCase();\r\n\t\t\tvar hitted = false, img, wall;\r\n\t\t\tif (tag === 'img') {\r\n\t\t\t\thitted = true;\r\n\t\t\t\timg = ele;\r\n\t\t\t\twall = findWall(ele);\r\n\t\t\t}\r\n\t\t\telse if (tag === 'figure') {\r\n\t\t\t\timg = ele.querySelector('img');\r\n\t\t\t\tif (!!img) {\r\n\t\t\t\t\thitted = true;\r\n\t\t\t\t\twall = findWall(ele);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (tag === 'div') {\r\n\t\t\t\tif (ele.classList.contains('resource')) {\r\n\t\t\t\t\timg = ele.querySelector('img');\r\n\t\t\t\t\tif (!!img) {\r\n\t\t\t\t\t\thitted = true;\r\n\t\t\t\t\t\twall = findWall(ele);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!hitted) return;\r\n\r\n\t\t\tvar gallary = [], index = 0;\r\n\t\t\tif (!!wall) {\r\n\t\t\t\twall.querySelectorAll('.image-container.image-float div.resource.image').forEach((g, i) => {\r\n\t\t\t\t\tvar pic = g.querySelector('img');\r\n\t\t\t\t\tif (pic === img) index = i;\r\n\t\t\t\t\tvar title = g.querySelector('figcaption');\r\n\t\t\t\t\ttitle = title.innerText || \"\"\r\n\t\t\t\t\tgallary.push({\r\n\t\t\t\t\t\timage: pic.src,\r\n\t\t\t\t\t\twidth: pic.naturalWidth,\r\n\t\t\t\t\t\theight: pic.naturalHeight,\r\n\t\t\t\t\t\ttitle\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tindex = 0;\r\n\t\t\t\tlet title = img.parentNode;\r\n\t\t\t\tif (!!title) title = title.parentNode;\r\n\t\t\t\tif (!!title) title = title.querySelector('figcaption');\r\n\t\t\t\tif (!!title) title = title.innerText;\r\n\t\t\t\ttitle = title || '';\r\n\t\t\t\tgallary = [{\r\n\t\t\t\t\timage: img.src,\r\n\t\t\t\t\twidth: img.naturalWidth,\r\n\t\t\t\t\theight: img.naturalHeight,\r\n\t\t\t\t\ttitle\r\n\t\t\t\t}];\r\n\t\t\t}\r\n\t\t\tthis.showGallary(index, gallary);\r\n\t\t});\r\n\t\tdocument.body.addEventListener('keydown', evt => {\r\n\t\t\tif (!this.show) return;\r\n\t\t\tif (evt.keyCode === 37) {\r\n\t\t\t\tif (this.index > 0) this.index --;\r\n\t\t\t}\r\n\t\t\telse if (evt.keyCode === 39) {\r\n\t\t\t\tif (this.index < this.gallary.length - 1) this.index ++;\r\n\t\t\t}\r\n\t\t\telse if (evt.keyCode === 27) {\r\n\t\t\t\tthis.show = false;\r\n\t\t\t}\r\n\t\t\tevt.preventDefault();\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tshowGallary (index, gallary) {\r\n\t\t\tthis.index = index;\r\n\t\t\tthis.gallary.splice(0, this.gallary.length);\r\n\t\t\tgallary.forEach(g => this.gallary.push(g));\r\n\t\t\tthis.show = true;\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./imageShowcase.vue?vue&type=template&id=72990a20\"\nimport script from \"./imageShowcase.vue?vue&type=script&lang=js\"\nexport * from \"./imageShowcase.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<nav class=\"nav-menu-bar\">\r\n\t\t<NavMenuItem v-for=\"item in menu\" :title=\"item.name\" :action=\"(!!item.category&&item.category.length>0)?(!!supers?(supers+','+item.category):item.category):''\" :type=\"item.type\" :subs=\"item.subs\" />\r\n\t</nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'NavMenuBar',\r\n\tprops: {\r\n\t\tsupers: \"\",\r\n\t\tmenu: Array\r\n\t}\r\n}\r\n</script>","import { render } from \"./navmenubar.vue?vue&type=template&id=b5988656\"\nimport script from \"./navmenubar.vue?vue&type=script&lang=js\"\nexport * from \"./navmenubar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","/**\n * Name:\tArray Utils\n * Desc:    Array 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.4\n * Date:\t2019.06.04\n */\n\nArray.prototype.copy = function () {\n\treturn this.map(ele => ele);\n};\nArray.prototype.duplicate = function () {\n\tvar copy = this.map(value => {\n\t\tif (Object.isBasicType(value)) {\n\t\t\treturn value.valueOf();\n\t\t} else if (value === null || value === undefined) {\n\t\t\treturn value;\n\t\t} else if (value instanceof Date) {\n\t\t\treturn new Date(value.getTime());\n\t\t} else if (typeof value === \"object\" && !(value instanceof Promise)) {\n\t\t\treturn value.duplicate();\n\t\t}\n\t});\n\treturn Object.assign([], this, copy);\n};\nArray.prototype.randomize = function () {\n\tvar l = this.length;\n\tvar result = Array.random(l);\n\tvar self = this;\n\tresult = result.map(i => self[i]);\n\treturn result;\n};\nArray.prototype.remove = function (obj) {\n\tvar index = this.indexOf(obj);\n\tif (index < 0) return this;\n\tthis.splice(index, 1);\n\treturn this;\n};\nArray.prototype.clear = function (obj) {\n\tthis.splice(0, this.length);\n\treturn this;\n};\nArray.prototype.translate = function (offset) {\n\tvar c = this.copy();\n\tif (isNaN(offset)) return c;\n\tvar l = this.length;\n\tif (offset >= l || offset <= -l) return c;\n\tif (offset > 0) {\n\t\tfor (let i = 0, j = offset; i < l - offset; i ++, j ++) {\n\t\t\tc[i] = this[j];\n\t\t}\n\t\tfor (let i = l - offset, j = 0; i < l; i ++, j ++) {\n\t\t\tc[i] = this[j];\n\t\t}\n\t}\n\telse {\n\t\toffset = - offset;\n\t\tfor (let i = 0, j = offset; i < l - offset; i ++, j ++) {\n\t\t\tc[j] = this[i];\n\t\t}\n\t\tfor (let i = l - offset, j = 0; i < l; i ++, j ++) {\n\t\t\tc[j] = this[i];\n\t\t}\n\t}\n\treturn c;\n};\nArray.prototype.query = function (fun) {\n\tvar index = -1;\n\tthis.some((d, i) => {\n\t\tconst has = !!fun(d);\n\t\tif (has) index = i;\n\t\treturn has;\n\t});\n\treturn index;\n};\nArray.prototype.pick = function () {\n\tvar l = this.length;\n\tvar result = Math.floor(Math.random() * l);\n\treturn this[result];\n};\nArray.prototype.equal = function (data) {\n\tif (!(data instanceof Array)) return false;\n\tvar len = this.byteLength;\n\tif (len != data.byteLength) return false;\n\tfor (let i = 0; i < len; i ++) {\n\t\tif (this[i] !== data[i]) return false;\n\t}\n\treturn true;\n};\nObject.defineProperty(Array.prototype, 'first', {\n\tget () {\n\t\treturn this[0];\n\t},\n\tenumerable: false,\n\tconfigurable: false\n});\nObject.defineProperty(Array.prototype, 'last', {\n\tget () {\n\t\treturn this[this.length - 1];\n\t},\n\tenumerable: false,\n\tconfigurable: false\n});\nObject.defineProperty(Array.prototype, 'copy', { enumerable: false });\nObject.defineProperty(Array.prototype, 'duplicate', { enumerable: false });\nObject.defineProperty(Array.prototype, 'remove', { enumerable: false });\nObject.defineProperty(Array.prototype, 'clear', { enumerable: false });\nObject.defineProperty(Array.prototype, 'randomize', { enumerable: false });\nObject.defineProperty(Array.prototype, 'translate', { enumerable: false });\nObject.defineProperty(Array.prototype, 'query', { enumerable: false });\nObject.defineProperty(Array.prototype, 'pick', { enumerable: false });\nObject.defineProperty(Array.prototype, 'equal', { enumerable: false });\nArray.is = obj => obj instanceof Array;\nArray.generate = (total, generator = i => i) => {\n\tvar result = [];\n\tif (Function.is(generator)) for (let i = 0; i < total; i ++) result.push(generator(i));\n\telse for (let i = 0; i < total; i ++) result.push(generator);\n\treturn result;\n};\nArray.random = (total, generator = i => i) => {\n\tvar origin = [], result = [];\n\tfor (let i = 0; i < total; i ++) origin.push(i);\n\tfor (let i = 0; i < total; i ++) {\n\t\tlet j = Math.floor(Math.random() * origin.length);\n\t\tresult.push(generator(origin[j]));\n\t\torigin.splice(j, 1);\n\t}\n\treturn result;\n};\n\nUint8Array.prototype.__proto__.copy = function () {\n\treturn new Uint8Array(this);\n};\nUint8Array.prototype.__proto__.duplicate = Uint8Array.prototype.__proto__.copy;\nObject.defineProperty(Uint8Array.prototype.__proto__, 'copy', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype.__proto__, 'duplicate', { enumerable: false });\nif (global._env === \"node\") {\n\tUint8Array.prototype.__proto__.toBuffer = function () {\n\t\tvar buffer = Buffer.alloc(this.length, this);\n\t\treturn buffer;\n\t};\n\tUint8Array.prototype.__proto__.toBase64 = function () {\n\t\tvar buffer = Buffer.alloc(this.length, this);\n\t\treturn buffer.toString('base64');\n\t};\n\tObject.defineProperty(Uint8Array.prototype.__proto__, 'toBuffer', { enumerable: false });\n\tObject.defineProperty(Uint8Array.prototype.__proto__, 'toBase64', { enumerable: false });\n\n\tUint8Array.fromString = (str, type='utf8') => Uint8Array.fromBuffer(Buffer.from(str, type));\n\tUint8Array.fromBase64 = base64 => {\n\t\tvar buf = Buffer.from(base64, 'base64');\n\t\treturn Uint8Array.fromBuffer(buf);\n\t}\n\tUint8Array.fromBuffer = buffer => new Uint8Array(buffer);\n\tUint16Array.fromBuffer = buffer => new Uint16Array(buffer);\n\tUint32Array.fromBuffer = buffer => new Uint32Array(buffer);\n\tInt8Array.fromBuffer = buffer => new Int8Array(buffer);\n\tInt16Array.fromBuffer = buffer => new Int16Array(buffer);\n\tInt32Array.fromBuffer = buffer => new Int32Array(buffer);\n\tFloat32Array.fromBuffer = buffer => new Float32Array(buffer);\n\tFloat64Array.fromBuffer = buffer => new Float64Array(buffer);\n\tBigInt64Array.fromBuffer = buffer => new BigInt64Array(buffer);\n\tBigUint64Array.fromBuffer = buffer => new BigUint64Array(buffer);\n}\n\nUint8Array.prototype.sub = function (from, length) {\n\tif (isNaN(from)) return this.copy();\n\tif (isNaN(length)) {\n\t\tlength = from;\n\t\tfrom = 0;\n\t}\n\treturn new Uint8Array(Buffer.from(this).subarray(from, from + length));\n};\nUint8Array.prototype.concat = function (array) {\n\tif (!(array instanceof Uint8Array)) return this.copy();\n\tvar result = Buffer.concat([this, array]);\n\treturn Buffer.from(result);\n};\nUint8Array.prototype.padEnd = function (len, pad = 0) {\n\tif (len <= this.length) return this.copy();\n\tif (!Number.is(pad) || pad < 0 || pad > 255) pad = 0;\n\tvar result = new Uint8Array(len);\n\tfor (let i = 0; i < this.length; i ++) result[i] = this[i];\n\tfor (let i = this.length; i < len; i ++) result[i] = pad;\n\treturn result;\n};\nUint8Array.prototype.padStart = function (len, pad = 0) {\n\tif (len <= this.length) return this.copy();\n\tif (!Number.is(pad) || pad < 0 || pad > 255) pad = 0;\n\tvar result = new Uint8Array(len);\n\tlen = len - this.length;\n\tfor (let i = 0; i < len; i ++) result[i] = pad;\n\tfor (let i = 0; i < this.length; i ++) result[i + len] = this[i];\n\treturn result;\n};\nUint8Array.prototype.equal = function (data) {\n\tif (!(data instanceof Uint8Array)) return false;\n\tvar len = this.byteLength;\n\tif (len != data.byteLength) return false;\n\tfor (let i = 0; i < len; i ++) {\n\t\tif (this[i] !== data[i]) return false;\n\t}\n\treturn true;\n};\nObject.defineProperty(Uint8Array.prototype, 'sub', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'concat', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'padEnd', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'padStart', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'equal', { enumerable: false });","<template>\r\n\t<div class=\"loading\" :class=\"show?'show':'hide'\">\r\n\t\t<div class=\"hint\">\r\n\t\t\t<div class=\"animate spin\" v-if=\"type==='spin'\"><i class=\"fas fa-spinner fa-spin fa-fast\" /></div>\r\n\t\t\t<div class=\"animate pulse\" v-if=\"type==='pulse'\">\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"title\">{{title}}</div>\r\n\t\t</div>\r\n\t\t<div class=\"forceQuit\" v-if=\"forcequit\" @click=\"forceQuit\">强制关闭</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst channel = new BroadcastChannel('change-loading-hint');\r\nglobal.callPageLoaded = () => {\r\n\tvar ch = new BroadcastChannel('change-loading-hint');\r\n\tch.postMessage({action: 'hide'});\r\n};\r\nvar quiter = null;\r\n\r\nexport default {\r\n\tname: \"Loading\",\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\ttitle: \"载入中……\",\r\n\t\t\tshow: true,\r\n\t\t\ttype: \"pulse\",\r\n\t\t\tforcequit: false\r\n\t\t}\r\n\t},\r\n\tcreated () {\r\n\t\tchannel.addEventListener('message', msg => {\r\n\t\t\tvar data = msg.data;\r\n\t\t\tif (data.action === 'show') {\r\n\t\t\t\tdata.title = data.title || '载入中……';\r\n\t\t\t\tthis.forcequit = false;\r\n\t\t\t\tif (!!quiter) {\r\n\t\t\t\t\tclearTimeout(quiter);\r\n\t\t\t\t\tquiter = null;\r\n\t\t\t\t}\r\n\t\t\t\tquiter = setTimeout(() => {\r\n\t\t\t\t\tthis.forcequit = true;\r\n\t\t\t\t}, 5000);\r\n\t\t\t\tthis.show = true;\r\n\t\t\t}\r\n\t\t\telse if (data.action === 'hide') {\r\n\t\t\t\tdata.title = data.title || '载入中……';\r\n\t\t\t\tthis.forcequit = false;\r\n\t\t\t\tif (!!quiter) {\r\n\t\t\t\t\tclearTimeout(quiter);\r\n\t\t\t\t\tquiter = null;\r\n\t\t\t\t}\r\n\t\t\t\tthis.show = false;\r\n\t\t\t}\r\n\t\t\tif (String.is(data.title)) this.title = data.title;\r\n\t\t\tif (['spin', 'pulse'].indexOf(data.type) >= 0) this.type = data.type;\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tforceQuit () {\r\n\t\t\tif (!!quiter) {\r\n\t\t\t\tclearTimeout(quiter);\r\n\t\t\t\tquiter = null;\r\n\t\t\t}\r\n\t\t\tthis.show = false;\r\n\t\t}\r\n\t}\r\n}\r\n</script>","<template>\r\n\t<div class=\"tail-bar\">\r\n\t\t<div class=\"left\">\r\n\t\t\t© 2020 - 2021 LostAbaddon, all rights reserved.\r\n\t\t</div>\r\n\t\t<div class=\"right\">\r\n\t\t\tGenerated by <a target=\"_blank\" href=\"https://github.com/LostAbaddon/Schwarzschild\">Schwarzschild v0.1.0</a>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'TailBar'\r\n}\r\n</script>","import { render } from \"./tail.vue?vue&type=template&id=ec44afbc\"\nimport script from \"./tail.vue?vue&type=script&lang=js\"\nexport * from \"./tail.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./loading.vue?vue&type=template&id=1f515cf3\"\nimport script from \"./loading.vue?vue&type=script&lang=js\"\nexport * from \"./loading.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<section class=\"column container\" @click=\"onClick\">\r\n\t\t<header></header>\r\n\t\t<caption v-if=\"showList\">\r\n\t\t\t<span>文章列表</span>\r\n\t\t\t<div class=\"controller\">\r\n\t\t\t\t<div class=\"hint\"><i class=\"fas fa-sliders-h\"></i></div>\r\n\t\t\t\t<div class=\"styleList\">\r\n\t\t\t\t\t<div class=\"styleItem\" name=\"bars\"><i class=\"fas fa-bars\"></i></div>\r\n\t\t\t\t\t<div class=\"styleItem\" name=\"lines\"><i class=\"fas fa-stream\"></i></div>\r\n\t\t\t\t\t<div class=\"styleItem\" name=\"columns\"><i class=\"fas fa-columns\"></i></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</caption>\r\n\t\t<ColumnItem v-if=\"showList\" v-for=\"article in list\"\r\n\t\t\t:title=\"article.title\"\r\n\t\t\t:author=\"article.author\"\r\n\t\t\t:description=\"article.description\"\r\n\t\t\t:type=\"article.type\"\r\n\t\t\t:timemark=\"article.timemark\"\r\n\t\t\t:timestamp=\"article.timestamp\"\r\n\t\t\t:categoryName=\"article.category\"\r\n\t\t\t:categoryPath=\"article.sort\"\r\n\t\t\t:filename=\"article.filename\"\r\n\t\t/>\r\n\t</section>\r\n</template>\r\n\r\n<script>\r\nimport ColumnItem from '@/components/columnItem.vue';\r\n\r\nconst getTimeString = _('Utils').getTimeString;\r\nvar currColumn = null;\r\nconst chPageChanged = new BroadcastChannel('page-changed');\r\nchPageChanged.addEventListener('message', msg => {\r\n\tif (!currColumn) return;\r\n\tcurrColumn.update();\r\n});\r\nconst chChangeLoadingHint = new BroadcastChannel('change-loading-hint');\r\n\r\nconst nameMap = new Map();\r\nconst getName = path => {\r\n\tvar name = nameMap.get(path);\r\n\tif (!!name) return name;\r\n\tvar m = SiteMap;\r\n\tname = null;\r\n\tpath = path.split(/[\\\\\\/]/).filter(p => p.length > 0);\r\n\tpath.some((p, i) => {\r\n\t\tvar entry = m[p];\r\n\t\tif (!entry) return true;\r\n\t\tm = entry.subs;\r\n\t\tif (i === path.length - 1) name = entry.name;\r\n\t});\r\n\tif (!!name) {\r\n\t\tnameMap.set(path, name);\r\n\t\treturn name;\r\n\t}\r\n\treturn path.last;\r\n};\r\n\r\nexport default {\r\n\tname: \"Column\",\r\n\tcomponents: {ColumnItem},\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\titemPerPage: 20,\r\n\t\t\tlist: [],\r\n\t\t\tshowList: true,\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync getHeaderInfo (category) {\r\n\t\t\tvar info = await Granary.getColumnHeader(category);\r\n\t\t\tvar content = '';\r\n\t\t\tif (!!info) {\r\n\t\t\t\tcontent = MarkUp.parse(info, {\r\n\t\t\t\t\ttoc: false,\r\n\t\t\t\t\tglossary: false,\r\n\t\t\t\t\tresources: false,\r\n\t\t\t\t\tshowtitle: false,\r\n\t\t\t\t\tshowauthor: false,\r\n\t\t\t\t\tclassname: 'markup-content',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.$el.querySelector('header').innerHTML = content;\r\n\t\t\tif (!!info) {\r\n\t\t\t\tawait this.afterMarkUp();\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getArticleList (category) {\r\n\t\t\tvar articles = await Granary.getCategory(category);\r\n\t\t\tthis.list.splice(0, this.list.length);\r\n\t\t\tarticles.forEach((art) => {\r\n\t\t\t\tart.category = getName(art.sort);\r\n\t\t\t\tart.placehoding = false;\r\n\t\t\t\tart.timestamp = (new Date(art.publish)).getTime();\r\n\t\t\t\tart.timemark = getTimeString(new Date(art.publish), \"YYMMDDhhmm\");\r\n\t\t\t\tart.description = art.description || '暂无';\r\n\t\t\t\tthis.list.push(art);\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync update () {\r\n\t\t\tchChangeLoadingHint.postMessage({\r\n\t\t\t\tname: '加载中……',\r\n\t\t\t\taction: 'show'\r\n\t\t\t});\r\n\r\n\t\t\tvar style = localStorage.getItem('columnStyle') || 'lines';\r\n\t\t\tthis.$el.setAttribute('columnStyle', style);\r\n\r\n\t\t\tthis.list.splice(0, this.list.length);\r\n\t\t\tthis.header = '';\r\n\r\n\t\t\tvar category = null;\r\n\t\t\tif (this.$route.path === '/') {\r\n\t\t\t\tcategory = '/';\r\n\t\t\t}\r\n\t\t\telse if (this.$route.path === '/category') {\r\n\t\t\t\tif (!!this.$route.query && !!this.$route.query.c) {\r\n\t\t\t\t\tcategory = '/' + this.$route.query.c.split(',').filter(c => c.length > 0).join('/');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({action: 'hide'});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tchChangeLoadingHint.postMessage({action: 'hide'});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcategory = category.replace(/^[\\/\\\\]+/, '');\r\n\r\n\t\t\tvar cateList = category.split('/').filter(c => c.length > 0);\r\n\t\t\tvar cateType = SiteMap;\r\n\t\t\tif (cateList.length > 0) {\r\n\t\t\t\tcateList.some(cate => {\r\n\t\t\t\t\tcate = cateType[cate];\r\n\t\t\t\t\tif (!!cate.subs && cate.subs.length > 0) {\r\n\t\t\t\t\t\tcateType = cate.subs;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcateType = cate.type;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcateType = 'viewer';\r\n\t\t\t}\r\n\r\n\t\t\tif (cateType === 'folder') {\r\n\t\t\t\tthis.showList = false;\r\n\t\t\t\tawait this.getHeaderInfo(category);\r\n\t\t\t}\r\n\t\t\telse if (cateType === 'viewer') {\r\n\t\t\t\tthis.showList = true;\r\n\t\t\t\tawait Promise.all([this.getHeaderInfo(category), this.getArticleList(category)]);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.showList = false;\r\n\t\t\t}\r\n\r\n\t\t\tchChangeLoadingHint.postMessage({action: 'hide'});\r\n\t\t},\r\n\t\tonClick (evt) {\r\n\t\t\tvar ele = evt.target;\r\n\t\t\tif (ele.classList.contains('hint')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if (ele.classList.contains('styleItem')) {\r\n\t\t\t\tlet name = ele.getAttribute('name');\r\n\t\t\t\tthis.$el.setAttribute('columnStyle', name);\r\n\t\t\t\tlocalStorage.setItem('columnStyle', name);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if (ele.nodeName.toLowerCase() === 'a') {\r\n\t\t\t\tif (onVueHyperLinkTriggered(this, evt)) return;\r\n\t\t\t}\r\n\t\t\tvar filename = undefined, category = undefined, timestamp = undefined;\r\n\t\t\tif (!ele) return;\r\n\t\t\twhile (!filename && !category) {\r\n\t\t\t\tfilename = ele.getAttribute('filename');\r\n\t\t\t\tcategory = ele.getAttribute('path');\r\n\t\t\t\ttimestamp = ele.getAttribute('timestamp') * 1;\r\n\t\t\t\tele = ele.parentNode;\r\n\t\t\t\tif (!ele || ele === document.body) break;\r\n\t\t\t}\r\n\t\t\tif (!!category) {\r\n\t\t\t\tlet path = '/category?c=' + category.split('/').join(',');\r\n\t\t\t\tif (this.$route.fullPath !== path) {\r\n\t\t\t\t\tthis.$router.push({path});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (!!filename) {\r\n\t\t\t\tthis.$router.push({path: '/view', query: {f: filename, t: timestamp}});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tcurrColumn = this;\r\n\t\tthis.update();\r\n\t},\r\n\tunmounted () {\r\n\t\tcurrColumn = null;\r\n\t}\r\n}\r\n</script>","<template>\r\n\t<section class=\"column-item\" :filename=\"categoryPath+'/'+filename\" :timestamp=\"timestamp\">\r\n\t\t<header>\r\n\t\t\t<div class=\"title\">{{title}}</div>\r\n\t\t\t<div class=\"category\" :path=\"categoryPath\">{{categoryName}}</div>\r\n\t\t</header>\r\n\t\t<article>{{description}}</article>\r\n\t\t<footer>\r\n\t\t\t<div class=\"author\">{{author}}</div>\r\n\t\t\t<div class=\"timestamp\">{{timemark}}</div>\r\n\t\t</footer>\r\n\t</section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"ColumnItem\",\r\n\tprops: {\r\n\t\ttitle: String,\r\n\t\tauthor: String,\r\n\t\tdescription: String,\r\n\t\ttype: String,\r\n\t\ttimemark: String,\r\n\t\ttimestamp: Number,\r\n\t\tcategoryName: String,\r\n\t\tcategoryPath: String,\r\n\t\tfilename: String\r\n\t}\r\n}\r\n</script>","import { render } from \"./columnItem.vue?vue&type=template&id=2da22326\"\nimport script from \"./columnItem.vue?vue&type=script&lang=js\"\nexport * from \"./columnItem.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./column.vue?vue&type=template&id=4a6a8402\"\nimport script from \"./column.vue?vue&type=script&lang=js\"\nexport * from \"./column.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","/**\n *\tTitle: MarkUp Parser\n *\tAuthor: LostAbaddon\n *\tEmail: LostAbaddon@gmail.com\n *\tVersion: 1.0.0\n *\tDate: 2020.03.18\n */\n\n(() => {\n\tconst SymHidden = Symbol('HIDDEN');\n\tconst MetaWords = ['GOD', 'THEONE', 'TITLE', 'AUTHOR', 'EMAIL', 'DESCRIPTION', 'STYLE', 'SCRIPT', 'DATE', 'KEYWORD', 'GLOSSARY', 'TOC', 'REF', 'LINK', 'IMAGES', 'VIDEOS', 'AUDIOS', 'ARCHOR', 'SHOWTITLE', 'SHOWAUTHOR', 'RESOURCES'];\n\tconst PreservedKeywords = ['toc', 'glossary', 'resources', 'images', 'videos', 'audios'];\n\tconst ParagraphTags = ['article', 'section', 'div', 'p', 'header', 'footer', 'aside', 'ul', 'ol', 'li', 'blockquote', 'pre', 'figure', 'figcaption'];\n\n\tconst PreserveWords = {\n\t\t'\\\\': 'slash',\n\t\t'/': 'antislash',\n\t\t'_': 'underline',\n\t\t'*': 'star',\n\t\t'+': 'plus',\n\t\t'-': 'minus',\n\t\t'=': 'equal',\n\t\t'`': 'dash',\n\t\t'~': 'wavy',\n\t\t'!': 'bang',\n\t\t'?': 'question',\n\t\t':': 'colon',\n\t\t'@': 'at-circle',\n\t\t'#': 'sharp',\n\t\t'^': 'angle',\n\t\t'$': 'dollar',\n\t\t'%': 'percent',\n\t\t'(': 'left-bracket',\n\t\t')': 'right-bracket',\n\t\t'[': 'left-square-bracket',\n\t\t']': 'right-square-bracket',\n\t\t'{': 'left-curve-bracket',\n\t\t'}': 'right-curve-bracket',\n\t\t'|': 'vertical-line',\n\t};\n\tconst ReversePreserveWords = {};\n\tObject.keys(PreserveWords).forEach(key => ReversePreserveWords[PreserveWords[key].toLowerCase()] = key);\n\tReversePreserveWords['$'] = '&#36;';\n\tMetaWords.forEach((w, i) => MetaWords[i] = w.toLowerCase());\n\n\tconst MarkUp = {};\n\tconst LineRender = {}; // Level 小于 0 的不做保留字替换，从 0 开始作保留字替换\n\tconst BlockRender = {}; // 主体处理结束后的后续处理插件\n\tconst FinalRender = {}; // 主体处理结束后的后续处理插件\n\n\tconst generateRandomKey = (len=8) => {\n\t\tvar result = '';\n\t\tfor (let i = 0; i < len; i ++) {\n\t\t\tresult += Math.floor(Math.random() * 10) + '';\n\t\t}\n\t\treturn result;\n\t};\n\n\tMarkUp.addExtension = (ext, isInline=0, level=5) => {\n\t\tif (isInline === 0) {\n\t\t\tlet indexes = LineRender['_indexes_'];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tLineRender['_indexes_'] = indexes;\n\t\t\t}\n\t\t\tif (!indexes.includes(level)) {\n\t\t\t\tindexes.push(level);\n\t\t\t\tindexes.sort((a, b) => a - b);\n\t\t\t}\n\t\t\tindexes = LineRender[level];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tLineRender[level] = indexes;\n\t\t\t}\n\t\t\tindexes.push(ext);\n\t\t}\n\t\telse if (isInline === 1) {\n\t\t\tlet indexes = BlockRender['_indexes_'];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tBlockRender['_indexes_'] = indexes;\n\t\t\t}\n\t\t\tif (!indexes.includes(level)) {\n\t\t\t\tindexes.push(level);\n\t\t\t\tindexes.sort((a, b) => a - b);\n\t\t\t}\n\t\t\tindexes = BlockRender[level];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tBlockRender[level] = indexes;\n\t\t\t}\n\t\t\tindexes.push(ext);\n\t\t}\n\t\telse if (isInline === 2) {\n\t\t\tlet indexes = FinalRender['_indexes_'];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tFinalRender['_indexes_'] = indexes;\n\t\t\t}\n\t\t\tif (!indexes.includes(level)) {\n\t\t\t\tindexes.push(level);\n\t\t\t\tindexes.sort((a, b) => a - b);\n\t\t\t}\n\t\t\tindexes = FinalRender[level];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tFinalRender[level] = indexes;\n\t\t\t}\n\t\t\tindexes.push(ext);\n\t\t}\n\t};\n\n\t// 准备文档，进行必要的预处理\n\tconst prepare = text => {\n\t\ttext = '\\n' + text + '\\n';\n\t\ttext = text.replace(/\\r\\n/g, '\\n').replace(/\\n([ 　]+)/g, (match, spaces) => {\n\t\t\tvar len = spaces.replace(/　/g, '  ').length;\n\t\t\tif (len < 4) return '\\n';\n\t\t\telse return match;\n\t\t});\n\t\ttext = text.replace(/(\\n[ 　\\t>\\-\\+\\*~(\\d+\\.)]+)(`{3,}|~{3,}|\\${2})/g, (match, pre, post) => {\n\t\t\treturn pre + '\\n' + post;\n\t\t});\n\t\tMetaWords.forEach(key => {\n\t\t\tvar reg = new RegExp('([\\\\w\\\\W]? *)\\\\[' + key + '\\\\]( *[\\\\w\\\\W]?)', 'gi');\n\t\t\ttext = text.replace(reg, (match, pre, post) => {\n\t\t\t\tif (pre === ']' || post === '[' || post === '(') return match;\n\t\t\t\treturn pre + '%' + key + '%' + post;\n\t\t\t});\n\t\t});\n\t\treturn text;\n\t};\n\n\t// 规整文档\n\tconst regularize = text => {\n\t\ttext = text.replace(/^\\n+|\\n+$/gi, '');\n\t\ttext = text.replace(/\\n{3,}/gi, '\\n\\n\\n');\n\t\treturn text;\n\t};\n\n\t// 解析段内样式\n\tconst parseLine = (line, doc, currLevel=-Infinity, caches) => {\n\t\tvar indexes = LineRender['_indexes_'];\n\t\tif (!indexes) return '';\n\n\t\tvar outmost = !caches;\n\t\tcaches = caches || {}\n\t\tindexes.some(level => {\n\t\t\tif (currLevel > level) return true;\n\t\t\tif (level >= 0) return true;\n\t\t\tvar exts = LineRender[level], changed = true;\n\t\t\twhile (changed) {\n\t\t\t\tchanged = false;\n\t\t\t\texts.forEach(ext => {\n\t\t\t\t\tvar c;\n\t\t\t\t\t[line, c] = ext.parse(line, doc, caches);\n\t\t\t\t\tif (c) changed = true;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tline = convertPreserves(line);\n\n\t\tindexes.forEach(level => {\n\t\t\tif (currLevel > level) return;\n\t\t\tif (level < 0) return;\n\t\t\tvar exts = LineRender[level], changed = true;\n\t\t\twhile (changed) {\n\t\t\t\tchanged = false;\n\t\t\t\texts.forEach(ext => {\n\t\t\t\t\tvar c;\n\t\t\t\t\t[line, c] = ext.parse(line, doc, caches);\n\t\t\t\t\tif (c) changed = true;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tif (outmost) line = restorePreserves(line, caches);\n\t\treturn line;\n\t};\n\t// 解析段级样式\n\tconst parseSection = (content, doc, currLevel=0, caches) => {\n\t\tdoc.parseLevel ++;\n\n\t\tvar sections = [];\n\n\t\tvar outmost = false;\n\t\tif (!caches) {\n\t\t\toutmost = true;\n\t\t\tcaches = {};\n\t\t}\n\n\t\t// 先预判断每一段可能是什么\n\t\tvar blocks = []; // 行号，是否空行，疑似分割线，疑似引用，疑似列表，是否代码块首尾，疑似表格，是否公式首尾\n\t\tsections = content.split('\\n');\n\t\tsections.forEach((line, index) => {\n\t\t\t// 空行\n\t\t\tvar head = line.match(/^[ 　\\t]*$/);\n\t\t\tif (line.length === 0) {\n\t\t\t\tblocks.push([index, 1, 0, 0, 0, 0, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 分割线\n\t\t\tif (line.match(/^[=\\-\\+\\*~\\._#]{3,}$/)) {\n\t\t\t\tif (!!line.match(/^\\-+$|^=+$/)) blocks.push([index, 0, 2, 0, 0, 0, 0, 0]);\n\t\t\t\telse if (!!line.match(/^~+$/)) blocks.push([index, 0, 2, 0, 0, 1, 0, 0]);\n\t\t\t\telse blocks.push([index, 0, 1, 0, 0, 0, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 代码块\n\t\t\thead = line.match(/^(`{3,}|~{3,})[ 　\\t]*([\\w\\-\\.\\+=\\?\\~\\\\\\/]*)$/);\n\t\t\tif (!!head) {\n\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 0, 0, 2, 0, 0]);\n\t\t\t\telse blocks.push([index, 0, 0, 0, 0, 1, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 公式块\n\t\t\thead = line.match(/^\\${2}[ 　\\t]*$/);\n\t\t\tif (!!head) {\n\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 0, 0, 0, 0, 1]);\n\t\t\t\telse blocks.push([index, 0, 0, 0, 0, 0, 0, 1]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 列表\n\t\t\thead = line.match(/^([\\-\\+\\*~]|\\d+\\.)[ 　\\t]+/);\n\t\t\tif (!!head) {\n\t\t\t\thead = line.match(/^([\\-\\+\\*~]|\\d+\\.)[ 　\\t]+(`{3,}|~{3,})[ 　\\t]*([\\w\\-\\.\\+=\\?\\~\\\\\\/]*)$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 0, 1, 2, 0, 0]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 0, 1, 1, 0, 0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\thead = line.match(/^([\\-\\+\\*~]|\\d+\\.)[ 　\\t]+(\\${2})[ 　\\t]*$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 0, 1, 0, 0, 1]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 0, 1, 0, 0, 1]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tblocks.push([index, 0, 0, 0, 1, 0, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 引用\n\t\t\thead = line.match(/^(> *)+/);\n\t\t\tif (!!head) {\n\t\t\t\thead = line.match(/^(> *)+[ 　\\t]+(`{3,}|~{3,})[ 　\\t]*([\\w\\-\\.\\+=\\?\\~\\\\\\/]*)$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 1, 0, 2, 0, 0]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 1, 0, 1, 0, 0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\thead = line.match(/^(> *)+[ 　\\t]+(\\${2})[ 　\\t]*$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 1, 0, 0, 0, 1]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 1, 0, 0, 0, 1]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tblocks.push([index, 0, 0, 1, 0, 0, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 引用与列表都有可能\n\t\t\thead = line.match(/^([ 　\\t]+)/);\n\t\t\tif (!!head) {\n\t\t\t\thead = line.match(/(`{3,}|~{3,})[ 　\\t]*([\\w\\-\\.\\+=\\?\\~\\\\\\/]*)$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[1]) blocks.push([index, 0, 0, 1, 1, 2, 0, 0]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 1, 1, 1, 0, 0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\thead = line.match(/(\\${2})[ 　\\t]*([\\w\\-\\.\\+=\\?\\~\\\\\\/]*)$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[1]) blocks.push([index, 0, 0, 1, 1, 0, 0, 1]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 1, 1, 0, 0, 1]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tblocks.push([index, 0, 0, 1, 1, 0, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 表格\n\t\t\thead = line.match(/\\|/g);\n\t\t\tif (!!head) {\n\t\t\t\tlet ctx = line.match(/\\\\\\|/g);\n\t\t\t\tif (!ctx || (!!ctx && ctx.length !== head.length)) {\n\t\t\t\t\tlet has = true;\n\t\t\t\t\tctx = line;\n\t\t\t\t\twhile (has) {\n\t\t\t\t\t\thas = false;\n\t\t\t\t\t\tlet x = ctx.replace(/\\([^\\(\\)\\[\\]\\{\\}]+?\\)/g, '');\n\t\t\t\t\t\tx = x.replace(/\\[[^\\(\\)\\[\\]\\{\\}]+?\\]/g, '');\n\t\t\t\t\t\tx = x.replace(/\\{[^\\(\\)\\[\\]\\{\\}]+?\\}/g, '');\n\t\t\t\t\t\thas = (x !== ctx);\n\t\t\t\t\t\tctx = x;\n\t\t\t\t\t}\n\t\t\t\t\tif (ctx.indexOf('|') >= 0) {\n\t\t\t\t\t\tblocks.push([index, 0, 0, 0, 0, 0, 1, 0]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tvar blockMap = {};\n\t\tblocks.forEach(line => {\n\t\t\tblockMap[line[0]] = line;\n\t\t});\n\n\t\tvar changed = true;\n\t\tchanged = false;\n\n\t\tif (blocks.length > 0) {\n\t\t\t// LaTeX 数学公式\n\t\t\tchanged = parseLaTeX(blocks, blockMap, sections, doc, caches) || changed;\n\n\t\t\t// 处理独立代码块，引用、列表与表格中的代码块稍后处理\n\t\t\tif (blocks.length > 0) changed = parseCodeBlock(blocks, blockMap, sections, doc, caches) || changed;\n\n\t\t\t// 表格\n\t\t\tif (blocks.length > 0) changed = parseTable(blocks, blockMap, sections, doc, caches) || changed;\n\n\t\t\t// 插入行号\n\t\t\tif (outmost && currLevel === 0 && !!doc.metas.linenumber) {\n\t\t\t\tlet lineID = 0;\n\t\t\t\tsections.forEach((line, id) => {\n\t\t\t\t\tif (!line) return;\n\t\t\t\t\tif (!!line.match(/^%[\\w\\-]+%$/)) return;\n\t\t\t\t\tvar info = blockMap[id];\n\t\t\t\t\tif (!!info && (info[1] > 0 || info[2] > 0)) return; // 去除空行和分割线\n\t\t\t\t\tif (!!line.match(/^[ 　\\t>\\+\\-\\*`\\^\\|_~=\\{\\}<]$/)) return; //去除引用列表等中的空行\n\t\t\t\t\tif (!!line.match(/^[!@#]\\[[^\\(\\)\\[\\]\\{\\}]*?(\\[.*?\\][ 　\\t]*\\(.*?\\))*?[^\\(\\)\\[\\]\\{\\}]*?\\](\\([^\\(\\)\\[\\]\\{\\}]*?\\))$/)) return; // 去除图片等资源\n\t\t\t\t\tif (!!line.match(/^[!@#]\\[[^\\(\\)\\[\\]\\{\\}]*?(\\[.*?\\][ 　\\t]*\\(.*?\\))*?[^\\(\\)\\[\\]\\{\\}]*?\\](\\[[^\\(\\)\\[\\]\\{\\}]*?\\])$/)) return; // 去除图片等资源\n\t\t\t\t\tvar tail = line.match(/\\{[<\\|>]\\}$/);\n\t\t\t\t\tif (!!tail) {\n\t\t\t\t\t\ttail = tail[0];\n\t\t\t\t\t\tline = line.substr(0, line.length - tail.length) + '<span name=\"line-' + lineID + '\"></span>' + tail;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tline = line + '<span name=\"line-' + lineID + '\"></span>';\n\t\t\t\t\t}\n\t\t\t\t\tlineID++;\n\t\t\t\t\tsections[id] = line;\n\t\t\t\t});\n\t\t\t\tdoc.metas.totalLineCount = lineID;\n\t\t\t}\n\n\t\t\t// 重排内容\n\t\t\t[sections, blockMap] = squeezeContents(blocks, blockMap, sections);\n\n\t\t\t// 引用与列表\n\t\t\tif (blocks.length > 0) {\n\t\t\t\tchanged = parseListAndBlockQuote(blocks, blockMap, sections, doc, caches) || changed;\n\t\t\t\t[sections, blockMap] = squeezeContents(blocks, blockMap, sections);\n\t\t\t}\n\n\t\t\t// 解析标题\n\t\t\tif (blocks.length > 0) {\n\t\t\t\tchanged = parseHeadline(blocks, blockMap, sections, doc, caches) || changed;\n\t\t\t\t[sections, blockMap] = squeezeContents(blocks, blockMap, sections);\n\t\t\t}\n\t\t}\n\n\t\t// 将图移出\n\t\tchanged = parseResources(blocks, blockMap, sections, doc, caches) || changed;\n\t\t[sections, blockMap] = squeezeContents(blocks, blockMap, sections);\n\n\t\t// 段落处理\n\t\tchanged = parseParagraph(blocks, blockMap, sections, doc, caches) || changed;\n\n\t\tsections = sections.map(line => {\n\t\t\tif (line === null) return '';\n\t\t\tif (line === undefined) return '';\n\t\t\tif (line.length === 0) return '';\n\t\t\tvar context = '';\n\t\t\tif (outmost) {\n\t\t\t\tlet head = line.match(/^%([\\w\\W]+)%(\\{[\\w \\-\\.\\u0800-\\uffff]+\\})*$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tcontext = restorePreserves(line, caches, false);\n\t\t\t\t} else {\n\t\t\t\t\tcontext = parsePlainParaStyle(line, doc);\n\t\t\t\t\tcontext = restorePreserves(context, caches, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcontext = parsePlainParaStyle(line, doc);\n\t\t\t\tlet key = 'param-' + generateRandomKey();\n\t\t\t\tcaches[key] = context;\n\t\t\t\tcontext = '%' + key + '%';\n\t\t\t}\n\t\t\treturn context;\n\t\t});\n\t\tdoc.parseLevel --;\n\t\tif (doc.parseLevel > 0) sections = sections.join('');\n\t\treturn sections;\n\t};\n\n\tconst squeezeContents = (blocks, blockMap, contents) => {\n\t\tcontents = contents.map((line, i) => [i, line]);\n\t\tcontents = contents.filter(line => {\n\t\t\tif (!line[1] && line[1] !== '') return false;\n\t\t\treturn true;\n\t\t});\n\t\tcontents.forEach((line, i) => {\n\t\t\tvar j = line[0];\n\t\t\tvar b = blockMap[j];\n\t\t\tif (!b) return;\n\t\t\tb[0] = i;\n\t\t});\n\t\tblockMap = {};\n\t\tblocks.forEach(line => {\n\t\t\tblockMap[line[0]] = line;\n\t\t});\n\t\tcontents = contents.map(line => line[1]);\n\t\treturn [contents, blockMap];\n\t};\n\tconst parsePlainParaStyle = (line, doc) => {\n\t\tvar prefix = '<p', postfix = '</p>', classes = [];\n\n\t\t// 对齐\n\t\tvar align = line.match(/^\\{[<\\|>]\\}|\\{[<\\|>]\\}$/);\n\t\tif (!!align) {\n\t\t\talign = align[0];\n\t\t\tif (align === '{<}') {\n\t\t\t\tclasses.push('align-left');\n\t\t\t}\n\t\t\telse if (align === '{|}') {\n\t\t\t\tclasses.push('align-center');\n\t\t\t}\n\t\t\telse if (align === '{>}') {\n\t\t\t\tclasses.push('align-right');\n\t\t\t}\n\t\t\tline = line.replace(/^\\{[<\\|>]\\}|\\{[<\\|>]\\}$/g, '');\n\t\t}\n\n\t\t// 缩进\n\t\tvar indent = line.match(/^(:+)/);\n\t\tif (!!indent && !line.match(/^:([\\w\\-\\.]+?):/)) {\n\t\t\tindent = indent[0];\n\t\t\tclasses.push('indent', 'indent-' + indent.length);\n\t\t\tline = line.replace(/^:+/, '');\n\t\t}\n\n\t\t// 合成样式\n\t\tif (classes.length > 0) {\n\t\t\tprefix = prefix + ' class=\"' + classes.join(' ') + '\"';\n\t\t}\n\t\tprefix = prefix + '>';\n\n\t\t// 解析段落\n\t\t// line = parseLine(line, doc);\n\t\tif (line.length === 0) return '';\n\t\treturn prefix + line + postfix;\n\t};\n\tconst parseLaTeX = (blocks, blockMap, contents, doc, caches) => {\n\t\t// 筛选出疑似独立代码块\n\t\tvar equaBlocks = [];\n\t\tblocks.forEach(line => {\n\t\t\tif (!line[7]) return;\n\t\t\tequaBlocks.push(line);\n\t\t});\n\n\t\tif (equaBlocks.length === 0) return false;\n\t\tif (equaBlocks.length === 1) {\n\t\t\tequaBlocks[0][7] = 0;\n\t\t\treturn false;\n\t\t}\n\n\t\t// 先分离明确知道开头的\n\t\tvar total = equaBlocks.length, prev = equaBlocks[0];\n\t\tprev[7] = 2;\n\t\tfor (let i = 1; i < total; i ++) {\n\t\t\tlet curr = equaBlocks[i];\n\t\t\tif (prev[7] === 2) {\n\t\t\t\tcurr[3] = prev[3];\n\t\t\t\tcurr[4] = prev[4];\n\t\t\t\tcurr[7] = 3;\n\t\t\t}\n\t\t\telse if (prev[7] === 3) curr[7] = 2;\n\t\t\tprev = curr;\n\t\t}\n\t\tif (equaBlocks[equaBlocks.length - 1][7] === 2) equaBlocks[equaBlocks.length - 1][7] = 0;\n\n\t\t// 去除无用行\n\t\tequaBlocks.forEach(line => {\n\t\t\tif (line[7] === 1) line[7] = 0;\n\t\t});\n\t\tvar starters = [];\n\t\tequaBlocks = equaBlocks.filter(line => {\n\t\t\tif (line[7] < 2) return false;\n\t\t\tif (line[7] === 2) starters.push(line[0])\n\t\t\treturn true;\n\t\t});\n\n\t\ttotal = equaBlocks.length;\n\t\tfor (let i = total - 1; i > 0; i -= 2) {\n\t\t\tlet j = equaBlocks[i - 1][0];\n\t\t\tif (!starters.includes(j)) {\n\t\t\t\tequaBlocks.splice(i - 1, 2);\n\t\t\t}\n\t\t}\n\n\t\t// 生成代码\n\t\tvar equaSection = [];\n\t\ttotal = equaBlocks.length;\n\t\tfor (let i = 0; i < total; i += 2) {\n\t\t\tequaSection.push([equaBlocks[i][0], equaBlocks[i + 1][0]]);\n\t\t}\n\t\tequaSection.forEach(block => {\n\t\t\tvar ctx = ['<p class=\"latex block\">$$'];\n\t\t\tfor (let i = block[0] + 1; i < block[1]; i ++) {\n\t\t\t\tctx.push(contents[i]);\n\t\t\t}\n\t\t\tctx.push('$$</p>');\n\t\t\tctx = ctx.join('<br>');\n\n\t\t\tvar key = 'latex-' + generateRandomKey();\n\t\t\tdoc.finals[key] = ctx;\n\t\t\tcontents[block[0]] = '%' + key + '%';\n\t\t\tfor (let i = block[0] + 1; i <= block[1]; i ++) {\n\t\t\t\tcontents[i] = null;\n\t\t\t}\n\t\t\tfor (let i = block[0]; i <= block[1]; i ++) {\n\t\t\t\tlet line = blockMap[i];\n\t\t\t\tif (!line) continue;\n\t\t\t\tlet j = blocks.indexOf(line);\n\t\t\t\tif (j >= 0) blocks.splice(j, 1);\n\t\t\t\tdelete blockMap[i];\n\t\t\t\tline[0] = -1;\n\t\t\t}\n\t\t});\n\n\t\treturn equaSection.length > 0;\n\t};\n\tconst parseCodeBlock = (blocks, blockMap, contents, doc, caches) => {\n\t\t// 筛选出疑似独立代码块\n\t\tvar codeBlocks = [];\n\t\tblocks.forEach(line => {\n\t\t\tif (!line[5]) return;\n\t\t\tcodeBlocks.push(line);\n\t\t});\n\n\t\tif (codeBlocks.length === 0) return false;\n\t\tif (codeBlocks.length === 1) {\n\t\t\tcodeBlocks[0][5] = 0;\n\t\t\treturn false;\n\t\t}\n\n\t\t// 先分离明确知道开头的\n\t\tvar total = codeBlocks.length, prev = codeBlocks[0];\n\t\tprev[5] = 2;\n\t\tfor (let i = 1; i < total; i ++) {\n\t\t\tlet curr = codeBlocks[i];\n\t\t\tif (curr[5] === 2) {\n\t\t\t\tif (i === total - 1) curr[5] = 0;\n\t\t\t\tif (prev[5] !== 3) {\n\t\t\t\t\tprev[5] = 0;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (prev[5] === 2) {\n\t\t\t\tcurr[3] = prev[3];\n\t\t\t\tcurr[4] = prev[4];\n\t\t\t\tcurr[5] = 3;\n\t\t\t}\n\t\t\telse if (prev[5] === 3) curr[5] = 2;\n\t\t\tprev = curr;\n\t\t}\n\t\tif (codeBlocks[codeBlocks.length - 1][5] === 2) codeBlocks[codeBlocks.length - 1][5] = 0;\n\n\t\t// 去除无用行\n\t\tcodeBlocks.forEach(line => {\n\t\t\tif (line[5] === 1) line[5] = 0;\n\t\t});\n\t\tvar starters = [];\n\t\tcodeBlocks = codeBlocks.filter(line => {\n\t\t\tif (line[5] < 2) return false;\n\t\t\tif (line[5] === 2) starters.push(line[0])\n\t\t\treturn true;\n\t\t});\n\n\t\ttotal = codeBlocks.length;\n\t\tfor (let i = total - 1; i > 0; i -= 2) {\n\t\t\tlet j = codeBlocks[i - 1][0];\n\t\t\tif (!starters.includes(j)) {\n\t\t\t\tcodeBlocks.splice(i - 1, 2);\n\t\t\t}\n\t\t}\n\n\t\t// 生成代码\n\t\tvar codeSection = [];\n\t\ttotal = codeBlocks.length;\n\t\tfor (let i = 0; i < total; i += 2) {\n\t\t\tcodeSection.push([codeBlocks[i][0], codeBlocks[i + 1][0]]);\n\t\t}\n\t\tcodeSection.forEach(block => {\n\t\t\tvar lineS = contents[block[0]];\n\t\t\tvar part = lineS.match(/(`{3,}|~{3,})[ 　\\t]*/)[0];\n\t\t\tvar index = lineS.indexOf(part);\n\t\t\tpart = lineS.substr(index + part.length, lineS.length);\n\t\t\tpart = part.replace(/^[ 　\\t]+|[ 　\\t]+$/g, '');\n\t\t\tvar prefix = '<pre', postfix = '</code></pre>';\n\t\t\tif (part.length === 0) {\n\t\t\t\tprefix = prefix + ' lang=\"' + part + '\"><code>';\n\t\t\t}\n\t\t\telse prefix = prefix + '><code>';\n\t\t\tpart = prefix;\n\t\t\tvar ctx = [];\n\t\t\tfor (let i = block[0] + 1; i < block[1]; i ++) {\n\t\t\t\tctx.push(contents[i]);\n\t\t\t}\n\t\t\tctx = ctx.join('\\n');\n\t\t\tctx = prefix + ctx + postfix;\n\n\t\t\tvar key = 'codeblock-' + generateRandomKey();\n\t\t\tdoc.finals[key] = ctx;\n\t\t\tcontents[block[0]] = '%' + key + '%';\n\t\t\tfor (let i = block[0] + 1; i <= block[1]; i ++) {\n\t\t\t\tcontents[i] = null;\n\t\t\t}\n\t\t\tfor (let i = block[0]; i <= block[1]; i ++) {\n\t\t\t\tlet line = blockMap[i];\n\t\t\t\tif (!line) continue;\n\t\t\t\tlet j = blocks.indexOf(line);\n\t\t\t\tif (j >= 0) blocks.splice(j, 1);\n\t\t\t\tdelete blockMap[i];\n\t\t\t\tline[0] = -1;\n\t\t\t}\n\t\t});\n\n\t\treturn codeSection.length > 0;\n\t};\n\tconst parseTable = (blocks, blockMap, contents, doc, caches) => {\n\t\t// 筛选出疑似独立代码块\n\t\tvar tableBlocks = [];\n\t\tblocks.forEach(line => {\n\t\t\tif (!line[6]) return;\n\t\t\ttableBlocks.push(line);\n\t\t});\n\n\t\tif (tableBlocks.length === 0) return;\n\n\t\t// 筛选可能的表格区，包括在引用或列表内的也不考虑\n\t\tvar tables = [], index = 0, last = tableBlocks[0][0];\n\t\ttables.push([tableBlocks[0]]);\n\t\tvar total = tableBlocks.length;\n\t\tfor (let i = 1; i < total; i ++) {\n\t\t\tlet l = tableBlocks[i];\n\t\t\tif (l[0] === last + 1) {\n\t\t\t\ttables[index].push(l);\n\t\t\t} else {\n\t\t\t\tindex ++;\n\t\t\t\ttables[index] = [l];\n\t\t\t}\n\t\t\tlast = l[0];\n\t\t}\n\t\ttables = tables.filter(list => {\n\t\t\tif (list.length < 2) return false;\n\t\t\treturn true;\n\t\t});\n\n\t\t// 生成表格\n\t\ttables.forEach(table => {\n\t\t\tgenerateTable(table, blocks, blockMap, contents, doc, caches);\n\t\t});\n\n\t\treturn true;\n\t};\n\tconst parseListAndBlockQuote = (blocks, blockMap, contents, doc, caches) => {\n\t\tvar end = 0, start = contents.length;\n\t\tblocks.forEach((line, i) => {\n\t\t\tif (line[3] + line[4] === 0) return;\n\t\t\tvar id = line[0];\n\t\t\tif (id < start) start = id;\n\t\t\tif (id > end) end = id;\n\t\t});\n\t\tif (start > end) return false;\n\n\t\t// 最后一个表格或引用之后的普通行可能会被忽略，这里要补上\n\t\tfor (let i = end + 1; i < contents.length - 1; i ++) {\n\t\t\tlet a = blockMap[i], b = blockMap[i + 1];\n\t\t\tif (!!a && a[1] > 0 && !!b && b[1] > 0) break;\n\t\t\tend = i;\n\t\t}\n\t\tif (end === contents.length - 2) {\n\t\t\tlet i = contents.length - 1;\n\t\t\tlet a = blockMap[i];\n\t\t\tif (!a || a[1] === 0) end = i\n\t\t}\n\n\t\t// 将内容分配到分离开的区块中\n\t\tvar blkID = 0, blockList = [[[start, blockMap[start]]]], isQuote = false, inside = true;\n\t\tif (blockMap[start][3] > 0) isQuote = true;\n\t\tfor (let i = start + 1; i <= end; i ++) {\n\t\t\tvar info = blockMap[i];\n\n\t\t\t// 普通内容行，或者代码块、公式块的内行\n\t\t\t// 则如果原本就在引用或列表内，则继续留在里面\n\t\t\tif (!info) {\n\t\t\t\tif (inside) blockList[blkID].push([i, null]);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 判断空行的中断规则\n\t\t\tif (info[1]) {\n\t\t\t\tif (!inside) continue;\n\t\t\t\t// 需连续两个空行才中断引用\n\t\t\t\tlet jnfo = blockMap[i + 1];\n\t\t\t\tif (!jnfo || jnfo[1] > 0) {\n\t\t\t\t\tinside = false;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tblockList[blkID].push([i, info]);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (info[3] + info[4] === 0) {\n\t\t\t\tif (inside) blockList[blkID].push([i, info]);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 如果还在引用或列表内，则继续留在里面\n\t\t\tif (inside) {\n\t\t\t\tblockList[blkID].push([i, info]);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 如果已经不在引用或列表中，则开启新列表\n\t\t\tblkID ++;\n\t\t\tblockList[blkID] = [];\n\t\t\tif (blockMap[i][3] > 0) isQuote = true;\n\t\t\telse isQuote = false;\n\t\t\tinside = true;\n\t\t\tblockList[blkID].push([i, info]);\n\t\t}\n\n\t\t// 生成引用块或列表\n\t\tvar changed = false;\n\t\tblockList.forEach(qaBlock => {\n\t\t\tqaBlock.forEach(line => {\n\t\t\t\tvar id = line[0];\n\t\t\t\tif (!line[1]) contents[id] = '    ' + contents[id];\n\t\t\t});\n\n\t\t\tvar type = 0;\n\t\t\tvar id = qaBlock[0][0];\n\t\t\tvar ctx = contents[id];\n\t\t\tvar type = -1;\n\t\t\tif (!!ctx.match(/^[ 　\\t>]/)) type = 0; // 引用\n\t\t\telse if (!!ctx.match(/^[\\-\\+]|[\\*~][ 　\\t]/)) type = 1; // 无序列表\n\t\t\telse if (!!ctx.match(/^\\d+\\.[ 　\\t]/)) type = 2;\n\t\t\tif (type < 0) return;\n\t\t\tchange = true;\n\t\t\tif (type === 0) generateQuotes(qaBlock, blocks, blockMap, contents, doc, caches);\n\t\t\telse if (type === 1) generateList(false, qaBlock, blocks, blockMap, contents, doc, caches);\n\t\t\telse if (type === 2) generateList(true, qaBlock, blocks, blockMap, contents, doc, caches);\n\t\t});\n\t\treturn changed;\n\t};\n\tconst parseHeadline = (blocks, blockMap, contents, doc, caches) => {\n\t\tvar headlines = [], headers = [];\n\t\tblocks.forEach(line => {\n\t\t\tif (line[2] === 0) return;\n\t\t\tvar id = line[0];\n\t\t\tvar info = blockMap[id - 1];\n\t\t\tif (!info) {\n\t\t\t\tlet ctx = contents[id - 1];\n\t\t\t\tif (id === 0 || !!ctx.match(/^%[\\w\\-]+%$/)) {\n\t\t\t\t\theadlines.push([id, contents[id].replace(/^[ 　\\t]+|[ 　\\t]+$/, '')[0]]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlet c = contents[id].substr(0, 1);\n\t\t\t\t\tif (c === '=') headers.push([id - 1, 1]);\n\t\t\t\t\telse if (c === '-') headers.push([id - 1, 2]);\n\t\t\t\t\telse if (c === '~') headers.push([id - 1, 3]);\n\t\t\t\t\telse if (c === '+') headers.push([id - 1, 3]);\n\t\t\t\t\telse if (c === '_') headers.push([id - 1, 3]);\n\t\t\t\t\telse if (c === '*') headers.push([id - 1, 4]);\n\t\t\t\t\telse if (c === '#') headers.push([id - 1, 5]);\n\t\t\t\t\telse if (c === '.') headers.push([id - 1, 6]);\n\t\t\t\t\tcontents[id] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (info[1] > 0) headlines.push([id, contents[id].replace(/^[ 　\\t]+|[ 　\\t]+$/, '')[0]]);\n\t\t\t}\n\t\t});\n\t\tfor (let i = 0; i < contents.length; i ++) {\n\t\t\tlet ctx = contents[i];\n\t\t\tif (!ctx) continue;\n\t\t\tlet header = ctx.match(/^(#+)[ 　\\t]*/);\n\t\t\tif (!!header) {\n\t\t\t\tlet l = header[0], cp = header[1];\n\t\t\t\tif (l !== ctx) {\n\t\t\t\t\tif (ctx.indexOf(l + '[') !== 0) {\n\t\t\t\t\t\theaders.push([i, cp.length]);\n\t\t\t\t\t\tcontents[i] = ctx.replace(/^#+[ 　\\t]*|[ 　\\t]*#+$/g, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (headlines.length + headers.length === 0) return false;\n\n\t\theaders.sort((la, lb) => la[0] - lb[0]);\n\n\t\theadlines.forEach(item => {\n\t\t\tvar [id, type] = item;\n\t\t\tvar key = 'headline-' + generateRandomKey();\n\t\t\tvar html = '<hr';\n\t\t\tif (type === '=') html = html + ' class=\"heavy\">';\n\t\t\telse if (type === '-') html = html + ' class=\"light\">';\n\t\t\telse if (type === '*') html = html + ' class=\"star\">';\n\t\t\telse if (type === '~') html = html + ' class=\"wavy\">';\n\t\t\telse if (type === '.') html = html + ' class=\"dotted\">';\n\t\t\telse if (type === '_') html = html + ' class=\"dashed\">';\n\t\t\telse if (type === '+') html = html + ' class=\"strong\">';\n\t\t\telse if (type === '#') html = html + ' class=\"heavystrong\">';\n\t\t\telse html = html + '>';\n\t\t\tcaches[key] = html;\n\t\t\tcontents[id] = \"%\" + key + \"%\";\n\t\t});\n\t\theaders.forEach(item => {\n\t\t\tvar [id, level] = item;\n\t\t\tvar key = 'header-' + generateRandomKey();\n\t\t\tvar tag = 'h' + (level || 1);\n\t\t\tvar html = contents[id];\n\t\t\thtml = parseLine(html, doc);\n\t\t\thtml = html.replace(/^[ 　\\t\\n]+|[ 　\\t\\n]+$/, '');\n\t\t\thtml = '<' + tag + '>' + html + '</' + tag + '>';\n\t\t\tcaches[key] = html;\n\t\t\tcontents[id] = \"%\" + key + \"%\";\n\t\t});\n\n\t\treturn true;\n\t};\n\tconst parseResources = (blocks, blockMap, contents, doc, caches) => {\n\t\tvar ctxes = [], changed = true;\n\t\twhile (changed) {\n\t\t\tchanged = false;\n\t\t\tcontents.forEach(line => {\n\t\t\t\tif (line.length === 0) return ctxes.push(line);\n\n\t\t\t\t// 将地址引用恢复（使用metas和refs）\n\t\t\t\tline = line.replace(/(\\])[ 　\\t]*(\\[([\\w \\-\\.]+)\\])/g, (match, prefix, all, name) => {\n\t\t\t\t\tvar ref = doc.refs[name], meta;\n\t\t\t\t\tif (!ref || (ref.indexOf('://') < 0 && ref.indexOf('@') < 0 && !ref.match(/^\\.{0,2}[\\\\\\/]/)) || ref.indexOf('\\n') >= 0) {\n\t\t\t\t\t\tmeta = doc.metas[name.toLowerCase()];\n\t\t\t\t\t\tif (!meta || (meta.indexOf('://') < 0 && meta.indexOf('@') < 0 && !meta.match(/^\\.{0,2}[\\\\\\/]/)) || meta.indexOf('\\n') >= 0) return match;\n\t\t\t\t\t\tref = meta;\n\t\t\t\t\t}\n\t\t\t\t\treturn prefix + '(' + ref + ')';\n\t\t\t\t});\n\n\t\t\t\t// 将图片等资源移到下一行\n\t\t\t\tvar resources = [], befores = [], inner_changed = true;\n\t\t\t\twhile (inner_changed) {\n\t\t\t\t\tinner_changed = false;\n\t\t\t\t\tline = line.replace(/[!@#]\\[[^\\(\\)\\[\\]\\{\\}]*?(\\[.*?\\][ 　\\t]*\\(.*?\\))*?[^\\(\\)\\[\\]\\{\\}]*?\\](\\([^\\(\\)\\[\\]\\{\\}]*?\\))/g, (match, useless, link) => {\n\t\t\t\t\t\tinner_changed = true;\n\t\t\t\t\t\tif (!!link.match(/[ 　\\t]+\"(left|right)\"\\)$/)) {\n\t\t\t\t\t\t\tbefores.push(match);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tresources.push(match);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tline = line.replace(/^[ 　\\t]+|[ 　\\t]+$/g, '');\n\t\t\t\tbefores.forEach(line => ctxes.push(line));\n\t\t\t\tif (line.length > 0) {\n\t\t\t\t\tif (resources.length > 0) changed = true;\n\t\t\t\t\tctxes.push(line);\n\t\t\t\t}\n\t\t\t\tresources.forEach(line => ctxes.push(line));\n\t\t\t});\n\n\t\t\tcontents.splice(0, contents.length);\n\t\t\tctxes.forEach(line => contents.push(line));\n\t\t\tctxes = [];\n\t\t}\n\t\treturn true;\n\t};\n\tconst parseParagraph = (blocks, blockMap, contents, doc, caches) => {\n\t\t// 分离出连续段落、资源、图片墙\n\t\tvar paragraphs = [], imagewalls = [], resources = [], last = -1;\n\t\tcontents.forEach((line, id) => {\n\t\t\tif (!line || line.length === 0) {\n\t\t\t\tlast = -1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar head = line.match(/^%([\\w\\W]+)%(\\{[\\w \\-\\.\\u0800-\\uffff]+\\})*$/);\n\t\t\tif (!!head) {\n\t\t\t\tlast = -1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\thead = line.match(/^[@#]\\[[^\\(\\)\\[\\]\\{\\}]*?(\\[.*?\\][ 　\\t]*\\(.*?\\))*?[^\\(\\)\\[\\]\\{\\}]*?\\]\\([^\\(\\)\\[\\]\\{\\}]*?\\)$/);\n\t\t\tif (!!head) {\n\t\t\t\tresources.push([id, line]);\n\t\t\t\tlast = -1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\thead = line.match(/^!\\[[^\\(\\)\\[\\]\\{\\}]*?(\\[.*?\\][ 　\\t]*\\(.*?\\))*?[^\\(\\)\\[\\]\\{\\}]*?\\]\\([^\\(\\)\\[\\]\\{\\}]*?\\)$/);\n\t\t\tvar type = !!head ? 1 : 0;\n\t\t\tif (type === last) {\n\t\t\t\tif (type === 0) {\n\t\t\t\t\tparagraphs[paragraphs.length - 1].push([id, line]);\n\t\t\t\t}\n\t\t\t\telse if (type === 1) {\n\t\t\t\t\timagewalls[imagewalls.length - 1].push([id, line]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (type === 0) {\n\t\t\t\t\tparagraphs[paragraphs.length] = [[id, line]];\n\t\t\t\t}\n\t\t\t\telse if (type === 1) {\n\t\t\t\t\timagewalls[imagewalls.length] = [[id, line]];\n\t\t\t\t}\n\t\t\t\tlast = type;\n\t\t\t}\n\t\t});\n\t\timagewalls = imagewalls.filter(wall => {\n\t\t\tvar isWall = wall.length > 1;\n\t\t\tif (wall.length === 1) resources.push(wall[0]);\n\t\t\treturn isWall;\n\t\t});\n\n\t\t// 对连续段落作处理\n\t\tparagraphs.forEach(group => {\n\t\t\tvar content = [];\n\t\t\tvar first = group[0][0];\n\t\t\tgroup.forEach(info => {\n\t\t\t\tvar id = info[0];\n\t\t\t\tvar line = info[1];\n\t\t\t\tif (line.length === 0) return;\n\t\t\t\tcontent.push(parseLine(line, doc));\n\t\t\t\tcontents[id] = null;\n\t\t\t});\n\t\t\tcontent = content.join('<br>');\n\t\t\tcontents[first] = content;\n\t\t});\n\n\t\t// 照片墙\n\t\timagewalls.forEach(wall => {\n\t\t\tvar content = [];\n\t\t\tvar first = wall[0][0];\n\t\t\twall.forEach(info => {\n\t\t\t\tcontent.push(parseLine(info[1], doc));\n\t\t\t\tcontents[info[0]] = null;\n\t\t\t});\n\t\t\tcontent = content.join('');\n\t\t\tcontent = '<div class=\"image-wall\">' + content + '</div>';\n\t\t\tvar key = 'imagewall-' + generateRandomKey();\n\t\t\tcaches[key] = content;\n\t\t\tcontents[first] = '%' + key + '%';\n\t\t});\n\n\t\t// 独立照片资源\n\t\tresources.forEach(res => {\n\t\t\tvar [id, content] = res;\n\t\t\tcontent = parseLine(content, doc);\n\t\t\tvar key = 'resource-' + generateRandomKey();\n\t\t\tcaches[key] = content;\n\t\t\tcontents[id] = '%' + key + '%';\n\t\t});\n\t};\n\n\tconst generateTable = (table, blocks, blockMap, contents, doc, caches) => {\n\t\tvar hasHead = true;\n\t\tvar cfgLine = null, cfgID = -1;\n\n\t\t// 分析表格的对齐信息\n\t\ttable.some((info, index) => {\n\t\t\tvar line = contents[info[0]];\n\t\t\tline = line.replace(/^[ 　\\t]+|[ 　\\t]+$/g, '');\n\t\t\tvar ctx = line.match(/[\\|:\\-]+/);\n\t\t\tif (!ctx) return;\n\t\t\tctx = ctx[0];\n\t\t\tif (line === ctx) {\n\t\t\t\tcfgLine = ctx;\n\t\t\t\tcfgID = info[0];\n\t\t\t\tif (index === 0) hasHead = false;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\tif (!cfgLine) {\n\t\t\thasHead = false;\n\t\t\tcfgLine = [];\n\t\t}\n\t\telse {\n\t\t\tcfgLine = cfgLine.replace(/^\\||\\|$/g, '');\n\t\t\tcfgLine = cfgLine.split('|');\n\t\t\tcfgLine = cfgLine.map(cfg => {\n\t\t\t\tif (!!cfg.match(/^:\\-:$/)) return 1;\n\t\t\t\tif (!!cfg.match(/^:\\-$/)) return 0;\n\t\t\t\tif (!!cfg.match(/^\\-:$/)) return 2;\n\t\t\t\treturn 3;\n\t\t\t});\n\t\t}\n\n\t\t// 提取表格内容\n\t\tvar rows = [], cols = 0;\n\t\ttable.forEach(line => {\n\t\t\tvar num = line[0];\n\t\t\tif (num === cfgID) return;\n\t\t\tvar row = parseTableRow(contents[num]);\n\t\t\trows.push(row);\n\t\t\tif (row.length > cols) cols = row.length;\n\t\t});\n\t\tfor (let j = cfgLine.length; j < cols; j ++) cfgLine.push('');\n\t\tfor (let i = 0; i < rows.length - 1; i ++) {\n\t\t\tlet row = rows[i];\n\t\t\tlet rlen = !!row ? row.length : cols;\n\t\t\tfor (let j = row.length; j < cols; j ++) row.push('');\n\t\t}\n\t\tvar header;\n\t\tif (hasHead) {\n\t\t\theader = rows[0];\n\t\t\trows.shift();\n\t\t}\n\n\t\t// 对自动对齐进行判断\n\t\tfor (let i = 0; i < cols; i ++) {\n\t\t\tif (cfgLine[i] !== 3) continue;\n\t\t\tlet isNumber = true;\n\t\t\trows.some(row => {\n\t\t\t\tvar item = row[i];\n\t\t\t\tif (!item) return;\n\t\t\t\tif (item * 1 !== item) {\n\t\t\t\t\tisNumber = false;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isNumber) cfgLine[i] = 2;\n\t\t\telse cfgLine[i] = 0;\n\t\t}\n\n\t\t// 生成表格正文\n\t\tvar html = '<table>';\n\t\tif (hasHead) {\n\t\t\thtml += '<thead><tr>';\n\t\t\theader.forEach((col, i) => {\n\t\t\t\tcol = parseLine(col, doc);\n\t\t\t\tvar ui = '<th align=\"';\n\t\t\t\tvar c = cfgLine[i];\n\t\t\t\tif (c === 1) ui += 'center';\n\t\t\t\telse if (c === 2) ui += 'right';\n\t\t\t\telse ui += 'left';\n\t\t\t\tui += '\">' + col + '</td>';\n\t\t\t\thtml += ui;\n\t\t\t});\n\t\t\thtml += '</tr></thead>';\n\t\t}\n\t\thtml += '<tbody>';\n\t\trows.forEach(row => {\n\t\t\thtml += '<tr>';\n\t\t\trow.forEach((col, i) => {\n\t\t\t\tcol = parseLine(col, doc);\n\t\t\t\tvar ui = '<td align=\"';\n\t\t\t\tvar c = cfgLine[i];\n\t\t\t\tif (c === 1) ui += 'center';\n\t\t\t\telse if (c === 2) ui += 'right';\n\t\t\t\telse ui += 'left';\n\t\t\t\tui += '\">' + col + '</td>';\n\t\t\t\thtml += ui;\n\t\t\t});\n\t\t\thtml += '</tr>';\n\t\t});\n\t\thtml += '</tbody></table>';\n\n\t\tvar key = 'table-' + generateRandomKey();\n\t\tcaches[key] = html;\n\n\t\theader = table[0][0];\n\t\ttotal = table.length;\n\t\tfor (let i = 0; i < total; i ++) {\n\t\t\tlet line = table[i];\n\t\t\tlet id = line[0];\n\t\t\tcontents[id] = null;\n\t\t\tdelete blockMap[id];\n\t\t\tlet j = blocks.indexOf(line);\n\t\t\tif (j >= 0) blocks.splice(j, 1);\n\t\t\tline[0] = -1;\n\t\t}\n\t\tcontents[header] = '%' + key + '%';\n\t};\n\tconst parseTableRow = line => {\n\t\tif (line.substr(0, 1) !== '|') line = '|' + line;\n\t\tif (line.substr(line.length - 1, 1) !== '|') line = line + '|';\n\t\tvar total = line.length, level = 0, parts = [], last = 0;\n\t\tfor (let i = 1; i < total; i ++) {\n\t\t\tlet c = line.substr(i, 1);\n\t\t\tif (c === '|' && level === 0) {\n\t\t\t\tparts.push(line.substr(last + 1, i - last - 1));\n\t\t\t\tlast = i;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (('([{<').indexOf(c) >= 0) level ++;\n\t\t\telse if (('>}])').indexOf(c) >= 0) level --;\n\t\t}\n\t\treturn parts;\n\t};\n\tconst generateQuotes = (quotes, blocks, blockMap, contents, doc, caches) => {\n\t\t// 获取引用类型\n\t\tvar type = 'quote';\n\t\tvar list = contents[quotes[0][0]];\n\t\tlist = list.match(/^>[ 　\\t]*\\[([\\w\\W]+?)\\]/);\n\t\tif (!!list) {\n\t\t\tlet t = list[1];\n\t\t\tt = t.replace(/^[ 　\\t]+|[ 　\\t]+$/g, '');\n\t\t\tif (t.length > 0) {\n\t\t\t\tif (!doc.metas[t] && !doc.blocks[t]) {\n\t\t\t\t\ttype = t;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// 整理文档\n\t\tvar isSub = false;\n\t\tlist = quotes.map(info => {\n\t\t\tvar id = info[0];\n\t\t\tvar ctx = contents[id];\n\n\t\t\t// 去除前缀\n\t\t\tvar head = ctx.match(/^[ 　\\t]+/);\n\t\t\tif (!!head) {\n\t\t\t\thead = head[0];\n\t\t\t\tlet len = 0;\n\t\t\t\tlet h = head.match(/ /g);\n\t\t\t\tif (!!h) len += h.length;\n\t\t\t\th = head.match(/　/g);\n\t\t\t\tif (!!h) len += h.length * 2;\n\t\t\t\th = head.match(/\\t/g);\n\t\t\t\tif (!!h) len += h.length * 4;\n\t\t\t\th = (Math.floor(len / 4) - 1) * 4;\n\t\t\t\tlet spaces = '';\n\t\t\t\tfor (let i = 0; i < h - 4; i ++) spaces += ' ';\n\t\t\t\tctx = ctx.replace(head, spaces);\n\t\t\t\tisSub = h > 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\thead = ctx.match(/^>[ 　\\t]*/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\thead = head[0];\n\t\t\t\t\tctx = ctx.replace(head, '');\n\t\t\t\t\tisSub = !!ctx.match(/^>[ 　\\t]*/);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn ctx;\n\t\t});\n\t\tlist[0] = list[0].replace(new RegExp('^[ 　\\\\t]*\\\\[' + type.replace(/\\\\/g, '\\\\\\\\') + '\\\\][ 　\\\\t]*'), '');\n\t\tlist = list.join('\\n');\n\t\tlist = list.replace(/^\\n+|\\n+$/g, '');\n\n\t\tvar html = '<blockquote class=\"' + type + '\">';\n\t\tlist = parseSection(list, doc, 2, caches);\n\t\thtml += list;\n\t\thtml += '</blockquote>';\n\t\tvar key = 'blockquote-' + generateRandomKey();\n\t\tcaches[key] = html;\n\t\tquotes.forEach(info => {\n\t\t\tvar id = info[0];\n\t\t\tcontents[id] = null;\n\t\t\tdelete blockMap[id];\n\t\t\tvar j = blocks.indexOf(info[1]);\n\t\t\tif (j >= 0) blocks.splice(j, 1);\n\t\t});\n\t\tcontents[quotes[0][0]] = '%' + key + '%';\n\t};\n\tconst generateList = (ordered, quotes, blocks, blockMap, contents, doc, caches) => {\n\t\t// 整理层级结构\n\t\tvar list = [], lid = -1;\n\t\tquotes.forEach(info => {\n\t\t\tvar id = info[0];\n\t\t\tvar ctx = contents[id];\n\n\t\t\t// 如果是列表项\n\t\t\thead = ctx.match(/^([\\-\\+\\*>~]|\\d+\\.)[ 　\\t]+/);\n\t\t\tif (!!head) {\n\t\t\t\tctx = ctx.replace(head[0], '');\n\t\t\t\tlid ++;\n\t\t\t\tlist[lid] = [ctx];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// 缩进项\n\t\t\thead = ctx.match(/^[ 　\\t]+/);\n\t\t\tif (!!head) {\n\t\t\t\thead = head[0];\n\t\t\t\tlet len = 0;\n\t\t\t\tlet h = head.match(/ /g);\n\t\t\t\tif (!!h) len += h.length;\n\t\t\t\th = head.match(/　/g);\n\t\t\t\tif (!!h) len += h.length * 2;\n\t\t\t\th = head.match(/\\t/g);\n\t\t\t\tif (!!h) len += h.length * 4;\n\t\t\t\th = (Math.floor(len / 4) - 1) * 4;\n\t\t\t\tlet spaces = '';\n\t\t\t\tfor (let i = 0; i < h - 4; i ++) spaces += ' ';\n\t\t\t\tctx = ctx.replace(head, spaces);\n\t\t\t}\n\t\t\tlist[lid].push(ctx);\n\t\t});\n\t\tlist = list.map(item => {\n\t\t\titem = item.join('\\n');\n\t\t\titem = item.replace(/^\\n+|\\n+$/g, '');\n\t\t\treturn item;\n\t\t});\n\n\t\tvar html = '';\n\t\tif (ordered) html = '<ol>';\n\t\telse html = '<ul>';\n\t\tlist.forEach(item => {\n\t\t\thtml += '<li>';\n\t\t\thtml += parseSection(item, doc, 2, caches);\n\t\t\thtml += '</li>';\n\t\t});\n\t\tif (ordered) html += '</ol>';\n\t\telse html += '</ul>';\n\n\t\tvar key = 'list-' + generateRandomKey();\n\t\tcaches[key] = html;\n\t\tquotes.forEach(info => {\n\t\t\tvar id = info[0];\n\t\t\tcontents[id] = null;\n\t\t\tdelete blockMap[id];\n\t\t\tvar j = blocks.indexOf(info[1]);\n\t\t\tif (j >= 0) blocks.splice(j, 1);\n\t\t});\n\t\tcontents[quotes[0][0]] = '%' + key + '%';\n\t};\n\n\tconst analyzeSections = (contents, doc) => {\n\t\tvar sections = [[]], pid = 0, chaps = [0];\n\t\tvar chapList = [];\n\t\tcontents.forEach(line => {\n\t\t\tvar changed = false;\n\t\t\tline = line.replace(/^<h(\\d+)>/i, (match, level) => {\n\t\t\t\tchanged = true;\n\t\t\t\tlevel = level * 1;\n\t\t\t\tif (level === 1) {\n\t\t\t\t\tpid ++;\n\t\t\t\t\tsections[pid] = [];\n\t\t\t\t}\n\t\t\t\tchaps[level - 1] = (chaps[level - 1] || 0) + 1;\n\t\t\t\tfor (let i = level; i < chaps.length; i ++) chaps[i] = 0;\n\t\t\t\tvar chapName = 'chap';\n\t\t\t\tfor (let i = 0; i < level; i ++) chapName += '-' + (chaps[i] || 1);\n\t\t\t\tmatch = match + '<a name=\"' + chapName + '\">';\n\t\t\t\tchapList.push([level, chapName, line.replace(/<[\\w\\W]+?>/gi, '')]);\n\t\t\t\treturn match;\n\t\t\t})\n\t\t\t.replace(/<\\/h(\\d+)>$/i, match => '</a>' + match)\n\t\t\t.replace(/\\{([\\w \\-\\.]+)\\}/g, (match, name) => {\n\t\t\t\tvar title = doc.termList[name];\n\t\t\t\tif (!title) return match;\n\t\t\t\tif (Array.isArray(title)) title = title[0];\n\t\t\t\treturn '<a class=\"terminology\" name=\"' + name + '\" href=\"#ref-' + name + '\"><strong>' + title + '</strong></a>';\n\t\t\t});\n\t\t\tsections[pid].push(line);\n\t\t});\n\t\tsections = sections.filter(group => group.length > 0);\n\t\tdoc.chapList = chapList;\n\n\t\t// 处理脚注\n\t\tsections = sections.map(para => {\n\t\t\tvar footnotes = [];\n\t\t\tvar prefix = '<section>', postfix = '</section>';\n\t\t\tpara.forEach((line, lid) => {\n\t\t\t\tvar changed = false;\n\t\t\t\tline = line.replace(/<a class=\"notemark\" type=\"footnote\" name=\"([\\w \\-\\.]+?)\">/g, (match, fn) => {\n\t\t\t\t\tchanged = true;\n\t\t\t\t\tfootnotes.push(fn);\n\t\t\t\t\tvar content = match.substr(0, match.length - 1) + ' href=\"#footnote-' + fn + '\">';\n\t\t\t\t\treturn content;\n\t\t\t\t});\n\t\t\t\tif (changed) para[lid] = line;\n\t\t\t});\n\t\t\tpara = para.join('');\n\t\t\tif (footnotes.length === 0) return prefix + para + postfix;\n\t\t\tfootnotes = footnotes.map((name, i) => {\n\t\t\t\tvar content = doc.refs[name];\n\t\t\t\tvar id = doc.footnotes.indexOf(name);\n\t\t\t\ti ++;\n\t\t\t\tpara = para.replace(new RegExp('%%FN-' + id + '%%', 'g'), i);\n\t\t\t\treturn '<p class=\"footnote-content\"><a class=\"index\" name=\"footnote-' + name + '\">' + i + '：</a>' + content + '</p>';\n\t\t\t});\n\t\t\tpara += '<hr class=\"footnote-line\"><footer><p class=\"footnote-title\">脚注：</p>';\n\t\t\tpara += footnotes.join('');\n\t\t\tpara += '</footer><hr class=\"footnote-line end\">';\n\t\t\treturn prefix + para + postfix;\n\t\t});\n\n\t\t// 处理尾注\n\t\tif (!!doc.endnotes && doc.endnotes.length > 0) {\n\t\t\tlet html = '<hr class=\"endnote-line\">';\n\t\t\thtml += '<section class=\"endnote-chapter\"><h1 class=\"endnote-title\"><a name=\"EndNote\">尾注</a></h1>';\n\t\t\tdoc.endnotes.forEach((en, i) => {\n\t\t\t\thtml += '<p class=\"endnote-content\"><a class=\"index\" name=\"endnote-' + en + '\">' + (i + 1) + '：</a>' + doc.refs[en] + '</p>';\n\t\t\t});\n\t\t\thtml += '</section>';\n\t\t\tsections.push(html);\n\t\t}\n\n\t\t// 处理术语表\n\t\tif (doc.metas.glossary && !!doc.termList && doc.termList.length > 0) {\n\t\t\tlet html = '<hr class=\"endnote-line\">';\n\t\t\thtml += '<section class=\"endnote-chapter\"><h1 class=\"endnote-title\"><a name=\"Glossary\">术语表</a></h1>';\n\t\t\thtml += generateGlossary(doc);\n\t\t\thtml += '</section>';\n\t\t\tsections.push(html);\n\t\t}\n\n\t\t// 处理资源表\n\t\tdoc.image = doc.image || [];\n\t\tdoc.video = doc.video || [];\n\t\tdoc.audio = doc.audio || [];\n\t\tif (doc.metas.resources && doc.image.length + doc.video.length + doc.audio.length > 0) {\n\t\t\tlet html = '<hr class=\"endnote-line\">';\n\t\t\thtml += '<section class=\"endnote-chapter\"><h1 class=\"endnote-title\"><a name=\"ResourceList\">资源表</a></h1>';\n\t\t\tif (doc.image.length > 0) {\n\t\t\t\thtml += '<h2><a name=\"ImageResourceList\">图片</a></h2>';\n\t\t\t\thtml += generateResourceList(doc, 'image');\n\t\t\t}\n\t\t\tif (doc.video.length > 0) {\n\t\t\t\thtml += '<h2><a name=\"VideoResourceList\">视频</a></h2>';\n\t\t\t\thtml += generateResourceList(doc, 'video');\n\t\t\t}\n\t\t\tif (doc.audio.length > 0) {\n\t\t\t\thtml += '<h2><a name=\"AudioResourceList\">音频</a></h2>';\n\t\t\t\thtml += generateResourceList(doc, 'audio');\n\t\t\t}\n\t\t\thtml += '</section>';\n\t\t\tsections.push(html);\n\t\t}\n\n\t\t// 处理标题\n\t\tif (doc.metas.showtitle) {\n\t\t\tlet ui = '<header class=\"article-title\">';\n\t\t\tui += '<p>' + doc.metas.title + '</p>';\n\t\t\tif (doc.metas.showauthor) {\n\t\t\t\tif (!!doc.metas.author) {\n\t\t\t\t\tui += '<p class=\"author\">';\n\t\t\t\t\tif (!!doc.metas.email) ui += '<a href=\"mailto:' + doc.metas.email + '\">';\n\t\t\t\t\tui += doc.metas.author;\n\t\t\t\t\tif (!!doc.metas.email) ui += '</a>';\n\t\t\t\t\tui += '</p>';\n\t\t\t\t}\n\t\t\t\tif (!!doc.metas.date) {\n\t\t\t\t\tui += '<p class=\"author date\">';\n\t\t\t\t\tlet date = doc.metas.date * 1;\n\t\t\t\t\tif (isNaN(date)) date = doc.metas.date;\n\t\t\t\t\telse {\n\t\t\t\t\t\tdate = new Date(date);\n\t\t\t\t\t\tlet y = date.getYear() + 1900;\n\t\t\t\t\t\tlet m = date.getMonth() + 1;\n\t\t\t\t\t\tif (m < 10) m = '0' + m;\n\t\t\t\t\t\tlet d = date.getDate();\n\t\t\t\t\t\tif (d < 10) d = '0' + d;\n\t\t\t\t\t\tlet h = date.getHours();\n\t\t\t\t\t\tif (h < 10) h = '0' + h;\n\t\t\t\t\t\tlet n = date.getMinutes();\n\t\t\t\t\t\tif (n < 10) n = '0' + n;\n\t\t\t\t\t\tlet s = date.getSeconds();\n\t\t\t\t\t\tif (s < 10) s = '0' + s;\n\t\t\t\t\t\tdate = y + '/' + m + '/' + d + ' ' + h + ':' + n + ':' + s;\n\t\t\t\t\t}\n\t\t\t\t\tui += date;\n\t\t\t\t\tui += '</p>';\n\t\t\t\t}\n\t\t\t}\n\t\t\tui += '</header>';\n\t\t\tsections.unshift(ui);\n\t\t}\n\n\t\treturn sections;\n\t};\n\tconst applyBlockReference = (text, doc) => {\n\t\tvar changed = true, loop = 0;\n\t\twhile (changed) {\n\t\t\tchanged = false;\n\t\t\ttext = text.map(line => {\n\t\t\t\tline = line.replace(/\\[([\\w \\-\\.]+?)\\]/g, (match, name, pos) => {\n\t\t\t\t\tvar supStart = line.lastIndexOf('<sup>', pos), supEnd = line.lastIndexOf('</sup>', pos);\n\t\t\t\t\tif (supStart > supEnd) return match;\n\t\t\t\t\tvar content = doc.blocks[name];\n\t\t\t\t\tif (!content) return match;\n\t\t\t\t\tchanged = true;\n\t\t\t\t\treturn content;\n\t\t\t\t});\n\t\t\t\treturn line;\n\t\t\t});\n\t\t\tloop ++;\n\t\t\tif (loop === 10) break;\n\t\t}\n\t\treturn text;\n\t};\n\tconst applyMarkUpReference = (sections, doc) => {\n\t\tvar lang = (doc.metas.LANG || 'zh').toLowerCase();\n\t\tsections = sections.map(section => {\n\t\t\t// 生成术语表\n\t\t\tsection = section.replace(/%glossary%/gi, (match) => {\n\t\t\t\treturn generateGlossary(doc);\n\t\t\t});\n\t\t\t// 生成资源表\n\t\t\tsection = section.replace(/%resources%/gi, (match) => {\n\t\t\t\treturn generateResourceList(doc, 'image')\n\t\t\t\t\t+ generateResourceList(doc, 'video')\n\t\t\t\t\t+ generateResourceList(doc, 'audio');\n\t\t\t});\n\t\t\tsection = section.replace(/%images%/gi, (match) => {\n\t\t\t\treturn generateResourceList(doc, 'image');\n\t\t\t});\n\t\t\tsection = section.replace(/%videos%/gi, (match) => {\n\t\t\t\treturn generateResourceList(doc, 'video');\n\t\t\t});\n\t\t\tsection = section.replace(/%audios%/gi, (match) => {\n\t\t\t\treturn generateResourceList(doc, 'audio');\n\t\t\t});\n\t\t\t// 生成目录\n\t\t\tsection = section.replace(/%toc%(\\{[\\w\\W]+?\\})*/gi, (match) => {\n\t\t\t\tvar cfg = match.match(/\\{[\\w\\W]+?\\}/g);\n\t\t\t\tvar title = '目录', level = 3;\n\t\t\t\tif (!!cfg) {\n\t\t\t\t\tcfg.forEach(c => {\n\t\t\t\t\t\tc = c.substr(1, c.length - 2);\n\t\t\t\t\t\tvar n = c * 1;\n\t\t\t\t\t\tif (isNaN(n)) title = c;\n\t\t\t\t\t\telse level = n;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tdoc.toced = true;\n\t\t\t\treturn generateTableOfContent(doc, title, level);\n\t\t\t});\n\n\t\t\t// 替换文档元数据\n\t\t\tObject.keys(doc.metas).forEach(key => {\n\t\t\t\tvar content = key.toLowerCase();\n\t\t\t\tif (PreservedKeywords.includes(key)) return;\n\t\t\t\tcontent = doc.metas[key];\n\t\t\t\tif (content === true || content === false) {\n\t\t\t\t\tif (lang === 'zh') content = content ? '是' : '否';\n\t\t\t\t\telse content = content ? 'On' : 'Off';\n\t\t\t\t}\n\t\t\t\telse if (Array.isArray(content)) {\n\t\t\t\t\tif (lang === 'zh') content = content.join('、');\n\t\t\t\t\telse content = content.join(', ');\n\t\t\t\t}\n\t\t\t\tsection = section.replace(new RegExp('%' + key + '%', 'gi'), match => {\n\t\t\t\t\treturn content;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// 处理最终不用处理的块\n\t\t\tsection = section.replace(/%([\\w \\-\\.]+)%/g, (match, key) => {\n\t\t\t\tvar content = doc.finals[key];\n\t\t\t\tif (!content) return match;\n\t\t\t\treturn content;\n\t\t\t});\n\n\t\t\treturn section;\n\t\t});\n\t\t// 如果没生成过目录，且生成目录开关已打开，则在文档头补熵目录\n\t\tif (doc.metas.toc && !doc.toced) {\n\t\t\tlet toc = generateTableOfContent(doc, '目录', 3);\n\t\t\tif (toc.indexOf('<p class=\"content-') >= 0) {\n\t\t\t\ttoc = '<section>' + toc + '</section>';\n\t\t\t\tif (doc.metas.showtitle) {\n\t\t\t\t\tsections.splice(1, 0, toc);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsections.unshift(toc);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn sections;\n\t};\n\tconst generateTableOfContent = (doc, title, level) => {\n\t\tvar html = '<h1 name=\"ContentTable\">' + title + '</h1><aside class=\"content-table\">';\n\t\tdoc.chapList.forEach(info => {\n\t\t\tif (info[0] > level) return;\n\t\t\tvar ui = '<p class=\"content-item level-' + info[0] + '\">';\n\t\t\tfor (let i = 0; i < info[0]; i ++) {\n\t\t\t\tui += '<span class=\"content-indent\"></span>';\n\t\t\t}\n\t\t\tui += '<a class=\"content-link\" href=\"#' + info[1] + '\">' + info[2] + '</a>';\n\t\t\tui += '</p>';\n\t\t\thtml += ui;\n\t\t});\n\t\tif (!!doc.endnotes && doc.endnotes.length > 0) {\n\t\t\thtml += '<p class=\"content-item level-1\"><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#EndNote\">尾注</a></p>';\n\t\t}\n\t\tif (doc.metas.glossary && !!doc.termList && doc.termList.length > 0) {\n\t\t\thtml += '<p class=\"content-item level-1\"><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#Glossary\">术语表</a></p>';\n\t\t}\n\t\tif (doc.metas.resources && doc.image.length + doc.video.length + doc.audio.length > 0) {\n\t\t\thtml += '<p class=\"content-item level-1\"><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#ResourceList\">资源表</a></p>';\n\t\t\tif (doc.image.length > 0) {\n\t\t\t\thtml += '<p class=\"content-item level-2\"><span class=\"content-indent\"></span><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#ImageResourceList\">图片</a></p>';\n\t\t\t}\n\t\t\tif (doc.video.length > 0) {\n\t\t\t\thtml += '<p class=\"content-item level-2\"><span class=\"content-indent\"></span><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#VideoResourceList\">视频</a></p>';\n\t\t\t}\n\t\t\tif (doc.audio.length > 0) {\n\t\t\t\thtml += '<p class=\"content-item level-2\"><span class=\"content-indent\"></span><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#AudioResourceList\">音频</a></p>';\n\t\t\t}\n\t\t}\n\t\thtml += '</aside>';\n\t\treturn html;\n\t};\n\tconst generateGlossary = (doc) => {\n\t\tvar html = '';\n\t\tif (doc.termList === 0) return '';\n\t\tdoc.termList.forEach(item => {\n\t\t\tvar [key, title] = item;\n\t\t\tvar content = doc.terms[key];\n\t\t\tvar ui = '<p class=\"glossary-item\">'\n\t\t\tui += '<a class=\"glossary-indent\" name=\"ref-' + key + '\">' + title + '</a>';\n\t\t\tui += content;\n\t\t\tui += '</p>';\n\t\t\thtml += ui;\n\t\t});\n\t\treturn html;\n\t};\n\tconst generateResourceList = (doc, type) => {\n\t\tvar resources = doc[type];\n\t\tif (!resources || !Array.isArray(resources) || resources.length === 0) return '';\n\t\tvar list = [];\n\t\tvar ui = '<ul>';\n\t\tresources.forEach(item => {\n\t\t\tvar res = item[1];\n\t\t\tif (list.includes(res)) return;\n\t\t\tlist.push(res);\n\t\t\tui += '<li><a href=\"' + res + '\" target=\"_blank\">' + res + '</a></li>';\n\t\t});\n\t\tui += '</ul>';\n\t\treturn ui;\n\t};\n\n\t// 保留字符处理\n\tconst convertPreserves = content => {\n\t\tcontent = content.replace(/(\\\\+)(.)/g, (match, slash, mark) => {\n\t\t\tvar count = Math.floor(slash.length / 2);\n\t\t\tvar needConvert = (count * 2 !== slash.length);\n\t\t\tvar result = '';\n\t\t\tvar meta = '%' + PreserveWords['\\\\'] + '%';\n\t\t\tfor (let i = 0; i < count; i ++) result += meta\n\t\t\tif (needConvert) {\n\t\t\t\tlet word = PreserveWords[mark];\n\t\t\t\tif (!word) result = result + mark;\n\t\t\t\telse result = result + '%' + word + '%';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tresult = result + mark;\n\t\t\t}\n\t\t\treturn result;\n\t\t});\n\t\treturn content;\n\t};\n\tconst restorePreserves = (content, caches, inline=true) => {\n\t\tvar changed = true;\n\t\twhile (changed) {\n\t\t\tchanged = false;\n\t\t\tcontent = content.replace(/\\%([\\w \\-]+?)\\%/g, (match, mark) => {\n\t\t\t\tvar word = caches[mark]\n\t\t\t\tif (!!word) {\n\t\t\t\t\tchanged = true;\n\t\t\t\t\treturn word;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\t\t}\n\n\t\tif (!inline) return content;\n\n\t\tchanged = true;\n\t\twhile (changed) {\n\t\t\tchanged = false;\n\t\t\tcontent = content.replace(/\\%([\\w \\-]+?)\\%/g, (match, mark) => {\n\t\t\t\tvar word = caches[SymHidden][mark.toLowerCase()];\n\t\t\t\tif (!!word) {\n\t\t\t\t\tchanged = true;\n\t\t\t\t\treturn word;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\t\t}\n\n\t\t// 处理软换行\n\t\tcontent = content.replace(/\\n+/g, '<br>');\n\t\tcontent = content.replace(/\\/{2}/g, (match, pos) => {\n\t\t\tif (pos === 0) return '<br>';\n\t\t\tvar prev = content.substr(pos - 1, 1);\n\t\t\tif (prev === ':') return match;\n\t\t\treturn '<br>';\n\t\t});\n\t\tcontent = content.replace(/^(<\\/?br>)+|(<\\/?br>)+$/gi, '<br>');\n\t\treturn content;\n\t};\n\tconst getKeywords = words => {\n\t\tif (!words) return [];\n\t\twords = words.split(/[ ,，；;、　]+/).filter(w => w.length > 0);\n\t\tvar list = [];\n\t\twords.forEach(w => {\n\t\t\tif (list.includes(w)) return;\n\t\t\tlist.push(w);\n\t\t});\n\t\treturn list;\n\t};\n\n\t// 解析元数据\n\tconst getMetas = (doc, text) => {\n\t\tvar metas = {};\n\t\tvar nonStop = true;\n\n\t\t// 解析文档元数据\n\t\twhile (nonStop) {\n\t\t\tnonStop = false;\n\t\t\ttext = text.replace(/\\n([A-Z\\u0800-\\uffff]+?) *[:：] *([\\w\\W]*?)\\n/, (match, key, value) => {\n\t\t\t\tif (value.length === 0) return match;\n\t\t\t\tif (key === '标题') key = 'title';\n\t\t\t\telse if (key === '作者') key = 'author';\n\t\t\t\telse if (key === '简介') key = 'description';\n\t\t\t\telse if (key === '关键词') key = 'keyword';\n\t\t\t\telse if (key === '更新') key = 'date';\n\t\t\t\telse key = key.toLowerCase();\n\t\t\t\tif (!MetaWords.includes(key)) return match;\n\t\t\t\tnonStop = true;\n\t\t\t\tmetas[key] = value;\n\t\t\t\treturn '\\n';\n\t\t\t});\n\t\t}\n\t\tif (!!metas.showtitle && ['on', 'yes', 'true'].includes(metas.showtitle.toLowerCase())) metas.showtitle = true;\n\t\telse metas.showtitle = false;\n\t\tif (!!metas.glossary && ['on', 'yes', 'true'].includes(metas.glossary.toLowerCase())) metas.glossary = true;\n\t\telse metas.glossary = false;\n\t\tif (!!metas.links && ['on', 'yes', 'true'].includes(metas.links.toLowerCase())) metas.links = true;\n\t\telse metas.links = false;\n\t\tif (!!metas.refs && ['on', 'yes', 'true'].includes(metas.refs.toLowerCase())) metas.refs = true;\n\t\telse metas.refs = false;\n\t\tif (!!metas.terms && ['on', 'yes', 'true'].includes(metas.terms.toLowerCase())) metas.terms = true;\n\t\telse metas.terms = false;\n\t\tif (!!metas.resources && ['on', 'yes', 'true'].includes(metas.resources.toLowerCase())) metas.resources = true;\n\t\telse metas.resources = false;\n\t\tif (!!metas.toc && ['on', 'yes', 'true'].includes(metas.toc.toLowerCase())) metas.toc = true;\n\t\telse metas.toc = false;\n\t\tdoc.metas = metas;\n\t\tdoc.metas.keyword = getKeywords(doc.metas.keyword);\n\t\tif (!!doc.metas.date) {\n\t\t\ttry {\n\t\t\t\tdoc.metas.date = (new Date(doc.metas.date)).getTime();\n\t\t\t} catch {\n\t\t\t\tdelete doc.metas.date;\n\t\t\t}\n\t\t}\n\t\tdoc.metas.god = doc.metas.theone = '<a href=\"mailto:lostabaddon@gmail.com\">LostAbaddon</a>';\n\t\tif (doc.metas.script) {\n\t\t\tdoc.metas.script = doc.metas.script.split(/[,; 　\\t]+/);\n\t\t}\n\t\telse doc.metas.script = [];\n\t\tif (doc.metas.style) {\n\t\t\tdoc.metas.style = doc.metas.style.split(/[,; 　\\t]+/).map(style => {\n\t\t\t\treturn style.replace(/\\{[\\w\\W]*\\}/, '');\n\t\t\t});\n\t\t}\n\t\telse doc.metas.style = [];\n\t\tdoc.termList = doc.termList || [];\n\t\tdoc.mainParser = false;\n\n\t\t// 解析引用文本\n\t\tdoc.refs = {};\n\t\tnonStop = true;\n\t\twhile (nonStop) {\n\t\t\tnonStop = false;\n\t\t\ttext = text.replace(/\\n\\[([\\w \\-\\.\\+\\=\\\\\\/]+?)\\] *[:：] *([\\w\\W]+?)\\n([\\n\\[])/, (match, key, value, left, pos) => {\n\t\t\t\tkey = key.trim();\n\t\t\t\tvalue = value.trim();\n\t\t\t\tif (key.length === 0 || value.length === 0) return match;\n\t\t\t\tdoc.refs[key] = value;\n\t\t\t\tnonStop = true;\n\t\t\t\treturn '\\n' + left;\n\t\t\t});\n\t\t}\n\n\t\t// 解析引用块\n\t\tdoc.blocks = {};\n\t\tnonStop = true;\n\t\twhile (nonStop) {\n\t\t\tnonStop = false;\n\t\t\ttext = text.replace(/\\[:([\\w \\-\\.\\+\\=\\\\\\/]+?):\\]([\\w\\W]*?)\\n*\\[:\\1:\\]/g, (match, name, content) => {\n\t\t\t\tname = name.trim();\n\t\t\t\tif (name.length === 0 || content.length === 0) return;\n\t\t\t\tdoc.blocks[name] = content;\n\t\t\t\tnonStop = true;\n\t\t\t\treturn '';\n\t\t\t});\n\t\t}\n\n\t\tObject.keys(doc.refs).forEach(key => {\n\t\t\tvar line = doc.refs[key];\n\t\t\tline = parseLine(line, doc);\n\t\t\t// 恢复保留字\n\t\t\tline = line.replace(/\\%([\\w \\-]+?)\\%/g, (match, mark) => {\n\t\t\t\tvar word = ReversePreserveWords[mark.toLowerCase()];\n\t\t\t\tif (!!word) return word;\n\t\t\t\treturn match;\n\t\t\t});\n\t\t\tvar content = parseLine(line, doc);\n\t\t\tdoc.refs[key] = line;\n\t\t});\n\t\tObject.keys(doc.blocks).forEach(key => {\n\t\t\tvar line = doc.blocks[key];\n\t\t\tvar header = line.match(/^\\n+/);\n\t\t\tline = line.trim();\n\t\t\tvar content;\n\t\t\tdoc.parseLevel = 0;\n\t\t\tif (!header) content = [parseLine(line, doc)];\n\t\t\telse content = parseSection(line, doc, 1);\n\t\t\tdoc.blocks[key] = content.join('');\n\t\t});\n\n\t\tdoc.anchors = [];\n\t\tdoc.terms = {};\n\t\tdoc.notes = {};\n\t\ttext.replace(/\\] *(\\[[\\^:]([\\w ]+?)\\]|\\{([\\w ]+?)\\})/g, (match, usage, key1, key2) => {\n\t\t\tvar key = key1 || key2;\n\t\t\tif (!doc.refs[key]) {\n\t\t\t\tif (usage.substr(0, 1) === '{' && !doc.anchors.includes(key)) doc.anchors.push(key);\n\t\t\t}\n\t\t\telse if (usage.substr(0, 1) === '{') {\n\t\t\t\tdoc.terms[key] = doc.refs[key];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdoc.notes[key] = doc.refs[key];\n\t\t\t}\n\t\t});\n\n\t\t// 合并回文档\n\t\ttext = regularize(text);\n\n\t\treturn text;\n\t};\n\n\tMarkUp.fullParse = (text, config) => {\n\t\tvar docTree = {\n\t\t\tfinals: {},\n\t\t\ttoced: false,\n\t\t};\n\n\t\ttext = prepare(text);\n\t\ttext = getMetas(docTree, text);\n\t\tif (!!config) Object.keys(config).forEach(key => {\n\t\t\tlet value = config[key];\n\t\t\tkey = key.toLowerCase();\n\t\t\tif (['title', 'author', 'email', 'date'].indexOf(key) >= 0) return;\n\t\t\tif (value !== undefined && value !== null) docTree.metas[key] = value;\n\t\t});\n\t\tdocTree.parseLevel = 0;\n\t\tdocTree.mainParser = true;\n\t\tdocTree.metas.title = docTree.metas.title || '无名文';\n\t\tif (!!config.overwrite) {\n\t\t\tdocTree.metas.title = !!config.title ? config.title : docTree.metas.title;\n\t\t\tdocTree.metas.author = !!config.author ? config.author : docTree.metas.author;\n\t\t\tdocTree.metas.email = !!config.email ? config.email : docTree.metas.email;\n\t\t\tdocTree.metas.date = !!config.date ? config.date : docTree.metas.date;\n\t\t}\n\t\telse {\n\t\t\tdocTree.metas.title = !!docTree.metas.title ? docTree.metas.title : config.title;\n\t\t\tdocTree.metas.author = !!docTree.metas.author ? docTree.metas.author : config.author;\n\t\t\tdocTree.metas.email = !!docTree.metas.email ? docTree.metas.email : config.email;\n\t\t\tdocTree.metas.date = !!docTree.metas.date ? docTree.metas.date : config.date;\n\t\t}\n\n\t\t// 主体解析\n\t\ttext = parseSection(text, docTree);\n\n\t\t// 恢复保留字\n\t\ttext = text.map(content => {\n\t\t\treturn content.replace(/\\%([\\w \\-]+?)\\%/g, (match, mark) => {\n\t\t\t\tvar word = ReversePreserveWords[mark.toLowerCase()];\n\t\t\t\tif (!!word) return word;\n\t\t\t\treturn match;\n\t\t\t});\n\t\t});\n\n\t\t// 实现引用块\n\t\ttext = applyBlockReference(text, docTree);\n\n\t\t// 开始划分章节\n\t\ttext = analyzeSections(text, docTree);\n\n\t\t// 处理系统级引用\n\t\ttext = applyMarkUpReference(text, docTree);\n\n\t\tif (docTree.metas.classname) text = '<article class=\"' + docTree.metas.classname + '\">' + text.join('') + '</article>';\n\t\telse text = '<article>' + text.join('') + '</article>';\n\n\t\tif (docTree.metas.fullexport) {\n\t\t\tdocTree.metas.style.forEach(line => {\n\t\t\t\ttext += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + line + '\">';\n\t\t\t});\n\t\t\tdocTree.metas.script.forEach(line => {\n\t\t\t\ttext += '<script type=\"text/javascript\" src=\"' + line + '\"></script>';\n\t\t\t});\n\t\t}\n\n\t\tvar indexes = FinalRender['_indexes_'] || [];\n\t\tindexes.forEach(index => {\n\t\t\tvar renderList = FinalRender[index];\n\t\t\tif (!renderList) return;\n\t\t\trenderList.forEach(render => {\n\t\t\t\ttext = render.parse(text);\n\t\t\t});\n\t\t});\n\n\t\tvar result = {};\n\t\tresult.content = text;\n\t\tresult.title = docTree.metas.title;\n\t\tresult.lineCount = docTree.metas.totalLineCount;\n\n\t\tresult.meta = {};\n\t\tresult.meta.author = docTree.metas.author;\n\t\tresult.meta.email = docTree.metas.email;\n\t\tresult.meta.description = docTree.metas.description;\n\t\tresult.meta.update = docTree.metas.date;\n\t\tresult.meta.keywords = docTree.metas.keyword.map(kw => kw);\n\t\tif (!!docTree.metas.others) result.meta.others = docTree.metas.others;\n\n\t\tresult.terminology = {};\n\t\tdocTree.termList.forEach(item => {\n\t\t\tresult.terminology[item[0]] = item[1];\n\t\t});\n\n\t\tresult.notes = {};\n\t\tObject.keys(docTree.refs).forEach(name => {\n\t\t\tresult.notes[name] = docTree.refs[name];\n\t\t});\n\n\t\tresult.blocks = {};\n\t\tObject.keys(docTree.refs).forEach(name => {\n\t\t\tresult.blocks[name] = docTree.blocks[name];\n\t\t});\n\n\t\treturn result;\n\t};\n\tMarkUp.parse = (text, config) => {\n\t\tvar result;\n\t\tresult = MarkUp.fullParse(text + '\\n', config);\n\t\tif (!result) return '';\n\t\treturn result.content;\n\t};\n\n\tconst reverseSection = (section, config) => {\n\t\tconfig.__level ++;\n\t\tvar contents = [], line = '', singleLine = true;\n\t\tsection.childNodes.forEach(n => {\n\t\t\tvar tag = n.tagName;\n\t\t\tif (!tag) {\n\t\t\t\tif (n.nodeName === '#comment') return;\n\t\t\t\tlet inner = n.textContent || '';\n\t\t\t\tinner = inner.trim();\n\t\t\t\tif (inner.length > 0) line += inner;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttag = tag.trim().toLowerCase();\n\t\t\tvar inner;\n\t\t\tif (ParagraphTags.includes(tag)) {\n\t\t\t\tsingleLine = false;\n\t\t\t\tif (line.length > 0) {\n\t\t\t\t\tcontents.push(config.__prefix + line);\n\t\t\t\t\tline = '';\n\t\t\t\t}\n\n\t\t\t\tif (tag === 'blockquote') {\n\t\t\t\t\tlet lastPrefix = config.__prefix;\n\t\t\t\t\tconfig.__prefix = config.__prefix + '>\\t';\n\t\t\t\t\tinner = reverseSection(n, config);\n\t\t\t\t\tinner = inner.flat(Infinity);\n\t\t\t\t\tinner.push('\\n');\n\t\t\t\t\tconfig.__prefix = lastPrefix;\n\t\t\t\t}\n\t\t\t\telse if (tag === 'ol') {\n\t\t\t\t\tlet lastPrefix = config.__prefix;\n\t\t\t\t\tif (config.__prefix.indexOf('-\\t') >= 0 || config.__prefix.indexOf('1.\\t') >= 0) config.__prefix = '\\t' + config.__prefix;\n\t\t\t\t\telse config.__prefix = config.__prefix + '1.\\t';\n\t\t\t\t\tinner = reverseSection(n, config);\n\t\t\t\t\tinner = inner.flat(Infinity);\n\t\t\t\t\tinner.push('');\n\t\t\t\t\tconfig.__prefix = lastPrefix;\n\t\t\t\t}\n\t\t\t\telse if (tag === 'ul') {\n\t\t\t\t\tlet lastPrefix = config.__prefix;\n\t\t\t\t\tif (config.__prefix.indexOf('-\\t') >= 0 || config.__prefix.indexOf('1.\\t') >= 0) config.__prefix = '\\t' + config.__prefix;\n\t\t\t\t\telse config.__prefix = config.__prefix + '-\\t';\n\t\t\t\t\tinner = reverseSection(n, config);\n\t\t\t\t\tinner = inner.flat(Infinity);\n\t\t\t\t\tinner.push('');\n\t\t\t\t\tconfig.__prefix = lastPrefix;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tinner = reverseSection(n, config);\n\t\t\t\t\tinner = inner.flat(Infinity);\n\t\t\t\t\tinner.push('');\n\t\t\t\t}\n\t\t\t\tif (!!inner && inner.length > 0) contents.push(...inner);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet [inner, isInline] = reverseMix(n, tag, config);\n\t\t\t\tif (isInline) {\n\t\t\t\t\tif (inner.length > 0) {\n\t\t\t\t\t\tline += inner.join('');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (line.length > 0) {\n\t\t\t\t\t\tcontents.push(config.__prefix + line);\n\t\t\t\t\t\tline = '';\n\t\t\t\t\t}\n\t\t\t\t\tinner.forEach(l => {\n\t\t\t\t\t\tcontents.push(config.__prefix + l);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (line.length > 0) contents.push(config.__prefix + line);\n\t\tconfig.__level --;\n\t\treturn contents;\n\t};\n\tconst reverseLine = (node, config) => {\n\t\tvar line = '';\n\t\tnode.childNodes.forEach(n => {\n\t\t\tvar tag = n.tagName;\n\t\t\tif (!tag) {\n\t\t\t\tif (n.nodeName === '#comment') return;\n\t\t\t\tlet inner = n.textContent || '';\n\t\t\t\tinner = inner.trim();\n\t\t\t\tif (inner.length > 0) line += inner;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttag = tag.trim().toLowerCase();\n\t\t\tif (tag === 'a') {\n\t\t\t\tlet url = n.href;\n\t\t\t\tif (url.indexOf('javascript:') === 0) url = '';\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tif (!url || url.substr(0, 1) === '#') {\n\t\t\t\t\tline += inner;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!url.match(/^(ftp|https?):\\/\\//i)) url = config.host + url;\n\t\t\t\t\tinner = '[' + inner + '](' + url + ')';\n\t\t\t\t\tline += inner;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'span' || tag === 'font') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'strong' || tag === 'b') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'em' || tag === 'i') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'sup') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'sub') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'del') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tline += n.innerText;\n\t\t});\n\t\treturn line;\n\t};\n\tconst reverseMix = (node, tag, config) => {\n\t\tif (tag === 'script') return [[''], true];\n\t\tif (tag === 'style') return [[''], true];\n\t\tif (tag === 'link') return [[''], true];\n\t\tif (tag === 'hr') return [['\\n---\\n'], false];\n\t\tif (tag === 'br') return [['\\n'], true];\n\t\tif (tag.match(/^h\\d+$/)) {\n\t\t\tlet lev = tag.substring(1, tag.length);\n\t\t\tlev *= 1;\n\t\t\tlet prefix = '\\n';\n\t\t\tfor (let i = 0; i < lev; i ++) prefix += '#';\n\t\t\tlet line = reverseLine(node, config);\n\t\t\tline = prefix + line + '\\n';\n\t\t\treturn [[line], false];\n\t\t}\n\t\tif (tag === 'a') {\n\t\t\tlet url = node.href;\n\t\t\tif (url.indexOf('javascript:') === 0) url = '';\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\tif (!url || url.substr(0, 1) === '#') return [[inner], true];\n\t\t\tif (!url.match(/^(ftp|https?):\\/\\//i)) url = config.host + url;\n\t\t\tinner = '[' + inner + '](' + url + ')';\n\t\t\treturn [[inner], true];\n\t\t}\n\t\tif (tag === 'img') {\n\t\t\tif (node.src.length === 0) return [[''], true];\n\t\t\tlet inner = '\\n![](' + node.src + ')\\n';\n\t\t\treturn [[inner], false];\n\t\t}\n\t\tif (tag === 'video') {\n\t\t\tif (node.src.length === 0) return [[''], true];\n\t\t\tlet inner = '\\n@[](' + node.src + ')\\n';\n\t\t\treturn [[inner], true];\n\t\t}\n\t\tif (tag === 'audio') {\n\t\t\tif (node.src.length === 0) return [[''], true];\n\t\t\tlet inner = '\\n#[](' + node.src + ')\\n';\n\t\t\treturn [[inner], true];\n\t\t}\n\t\tif (tag === 'span' || tag === 'font') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [[inner], true];\n\t\t}\n\t\tif (tag === 'strong' || tag === 'b') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['**' + inner + '**'], true];\n\t\t}\n\t\tif (tag === 'em' || tag === 'i') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['*' + inner + '*'], true];\n\t\t}\n\t\tif (tag === 'u') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['__' + inner + '__'], true];\n\t\t}\n\t\tif (tag === 'sup') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['^' + inner + '^'], true];\n\t\t}\n\t\tif (tag === 'sub') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['_' + inner + '_'], true];\n\t\t}\n\t\tif (tag === 'del') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['~~' + inner + '~~'], true];\n\t\t}\n\t\tvar content = reverseLine(node, config);\n\t\treturn [[content], false];\n\t};\n\n\tMarkUp.reverse = (ele, config, outmost=true) => {\n\t\tif (!ele) return '';\n\t\tconfig = config || {};\n\t\tconfig.__level = 0;\n\t\tconfig.__prefix = '';\n\t\tconfig.host = config.host || '';\n\t\tvar content = reverseSection(ele, config);\n\t\tcontent = content.flat(Infinity);\n\t\tcontent = content.join('\\n');\n\t\tcontent = content.replace(/\\n{2,}/g, '\\n\\n');\n\t\treturn content;\n\t};\n\n\tMarkUp.parseLine = parseLine;\n\tMarkUp.parseSection = parseSection;\n\n\tMarkUp.generateRandomKey = generateRandomKey;\n\n\tMarkUp.SymHidden = SymHidden;\n\tMarkUp.PreserveWords = PreserveWords;\n\n\ttry {\n\t\twindow.MarkUp = MarkUp;\n\t}\n\tcatch {\n\t\ttry {\n\t\t\tglobal.MarkUp = MarkUp;\n\t\t}\n\t\tcatch (err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t}\n}) ();","<template>\r\n\t<div class=\"nav-menu-item\">\r\n\t\t<a @click=\"click(type, action)\">{{title}}<i class=\"fas fa-caret-down\" v-if=\"!!subs\" /></a>\r\n\t\t<i class=\"hint fas fa-caret-right\" v-if=\"!!subs\" />\r\n\t\t<NavMenuBar v-if=\"!!subs\" :menu=\"subs\" :supers=\"action\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst channel = new BroadcastChannel('page-changed');\r\nexport default {\r\n\tname: 'NavMenuItem',\r\n\tprops: {\r\n\t\ttitle: String,\r\n\t\ttype: String,\r\n\t\taction: String,\r\n\t\tsubs: Array\r\n\t},\r\n\tmethods: {\r\n\t\tclick (type, action) {\r\n\t\t\taction = action.split(',').filter(f => f.length > 0);\r\n\t\t\tif (action.length === 0) return;\r\n\r\n\t\t\tvar target = {};\r\n\t\t\tif (type === 'page') {\r\n\t\t\t\ttarget.path = '/' + action.join('/');\r\n\t\t\t}\r\n\t\t\telse if (type === 'viewer' || type === 'folder') {\r\n\t\t\t\ttarget.path = '/category';\r\n\t\t\t\ttarget.query = {c: action.join(',')};\r\n\t\t\t}\r\n\t\t\telse if (type === 'action') {\r\n\t\t\t\tif (action[0] === 'color') {\r\n\t\t\t\t\tchangeThemeColor(action[1]);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar can_go = true, same_page = false;\r\n\t\t\tif (this.$route.path === target.path) {\r\n\t\t\t\tsame_page = true;\r\n\t\t\t\tlet c1 = !!this.$route.query ? (this.$route.query.c || '') : '';\r\n\t\t\t\tlet c2 = !!target.query ? (target.query.c || '') : '';\r\n\t\t\t\tif (c1 === c2) can_go = false;\r\n\t\t\t}\r\n\t\t\tif (can_go) {\r\n\t\t\t\tthis.$router.push(target);\r\n\t\t\t\tif (same_page) channel.postMessage(target);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./navmenuitem.vue?vue&type=template&id=16feb340\"\nimport script from \"./navmenuitem.vue?vue&type=script&lang=js\"\nexport * from \"./navmenuitem.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","/**\r\n * Name:\tLRU Cache\r\n * Desc:    基于Map的最近使用缓存\r\n * Author:\tLostAbaddon\r\n * Version:\t0.0.4\r\n * Date:\t2019.06.22\r\n */\r\n\r\n(() => {\r\n\tconst SymbUpdate = Symbol('update');\r\n\tconst DefaultSize = 100;\r\n\r\n\tconst isNumber = num => {\r\n\t\tif (isNaN(num)) return false;\r\n\t\tif (typeof(num) !== 'number') return false;\r\n\t\treturn true;\r\n\t};\r\n\r\n\tclass LRUCache {\r\n\t\tconstructor (limit=100) {\r\n\t\t\tthis.cache = new Map();\r\n\t\t\tthis.secondary = new Map();\r\n\t\t\tthis.limit = isNumber(limit) ? limit : DefaultSize;\r\n\t\t\tthis.length = 0;\r\n\t\t}\r\n\t\tset (k, v) {\r\n\t\t\tconst has = this.cache.has(k);\r\n\t\t\tif (!has) this[SymbUpdate](k, v);\r\n\t\t\telse this.cache.set(k, v);\r\n\t\t}\r\n\t\tget (k) {\r\n\t\t\tvar v = this.cache.get(k);\r\n\t\t\tif (v !== undefined) return v;\r\n\t\t\tv = this.secondary.get(k);\r\n\t\t\tif (v !== undefined) this[SymbUpdate](k, v);\r\n\t\t\treturn v;\r\n\t\t}\r\n\t\tdel (k) {\r\n\t\t\tconst has = this.cache.has(k);\r\n\t\t\tif (has) this.length --;\r\n\t\t\tthis.cache.delete(k);\r\n\t\t\tthis.secondary.delete(k);\r\n\t\t}\r\n\t\thas (k) {\r\n\t\t\treturn this.cache.has(k) || this.secondary.has(k);\r\n\t\t}\r\n\t\tclear () {\r\n\t\t\tthis.cache.clear();\r\n\t\t\tthis.secondary.clear();\r\n\t\t\tthis.length = 0;\r\n\t\t}\r\n\t\t[SymbUpdate] (k, v) {\r\n\t\t\tthis.length ++;\r\n\t\t\tif (this.length >= this.limit) {\r\n\t\t\t\tthis.secondary = this.cache;\r\n\t\t\t\tthis.cache = new Map();\r\n\t\t\t\tthis.length = 0;\r\n\t\t\t}\r\n\t\t\tthis.cache.set(k, v);\r\n\t\t}\r\n\t}\r\n\r\n\twindow.LRUCache = LRUCache;\r\n}) ();","/**\n * Name:\tTimer Utils\n * Desc:    Timer 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.3\n * Date:\t2018.11.02\n */\n\nif (!!global.setTimeout) { // For Process instead of Thread\n\tglobal.setImmediate = global.setImmediate || function (callback) { setTimeout(callback, 0); };\n\tglobal.nextTick = !!process ? process.nextTick || global.setImmediate : global.setImmediate;\n\tglobal.wait = promisify((delay, next) => {\n\t\tvar start = new Date().getTime();\n\t\tif (Function.is(delay)) {\n\t\t\tnext = delay;\n\t\t\tdelay = 0;\n\t\t}\n\t\tsetTimeout(() => next(new Date().getTime() - start), delay);\n\t});\n\tglobal.waitLoop = promisify(next => {\n\t\tvar start = new Date().getTime();\n\t\tsetImmediate(() => next(new Date().getTime() - start));\n\t});\n\tglobal.waitTick = promisify(next => {\n\t\tvar start = new Date().getTime();\n\t\tnextTick(() => next(new Date().getTime() - start));\n\t});\n\tif (!!global.queueMicrotask) global.waitQueue = promisify(next => {\n\t\tvar start = new Date().getTime();\n\t\tqueueMicrotask(() => next(new Date().getTime() - start));\n\t});\n}\n\nif (global._env === \"node\") {\n\tglobal.now = () => {\n\t\tvar t = process.hrtime();\n\t\treturn t[0] * 1000 + t[1] / 1000000;\n\t}\n} else {\n\tglobal.now = () => Date.now();\n}\n\nglobal.Clock = class Clock {\n\tconstructor (lable='Initialized', not_node=false) {\n\t\tthis.stamps = [];\n\t\tthis.isNode = !!global.process;\n\t\tif (this.isNode && !not_node) {\n\t\t\tthis.clock = () => {\n\t\t\t\tvar c = process.hrtime();\n\t\t\t\treturn c[0] + c[1] / 1e9;\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tthis.clock = () => new Date().getTime() / 1000;\n\t\t}\n\t\tthis.stamp(lable);\n\t}\n\tstamp (lable='') {\n\t\tvar stamp = this.clock();\n\t\tthis.stamps.push([stamp, lable]);\n\t\treturn stamp;\n\t}\n\tlist (is_text=true) {\n\t\tvar last = this.stamps[0][0], len = this.stamps.length, list, max = 0;\n\t\tlist = this.stamps.map(s => {\n\t\t\tvar r = [s[0] - last, s[1]];\n\t\t\tlast = s[0];\n\t\t\tvar l = s[1].length;\n\t\t\tif (l > max) max = l;\n\t\t\treturn r;\n\t\t});\n\t\tif (!is_text) return list;\n\t\tlist = list.map(l => {\n\t\t\tvar lab = l[1], nan = l[0];\n\t\t\tlab = lab.padStart(max, ' ');\n\t\t\treturn lab + '\\t' + nan;\n\t\t});\n\t\treturn list.join('\\n');\n\t}\n\tgetStamp (lable) {\n\t\tif (!lable) return -1;\n\t\tvar result = -1;\n\t\tthis.stamps.some(s => {\n\t\t\tif (s[1] === lable) {\n\t\t\t\tresult = s[0];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\treturn result;\n\t}\n\tspent (start, end) {\n\t\tif (!end) {\n\t\t\tend = this.getStamp(start);\n\t\t\tif (end < 0) end = this.stamps[this.stamps.length - 1][0];\n\t\t\tstart = this.stamps[0][0];\n\t\t}\n\t\telse {\n\t\t\tstart = this.getStamp(start);\n\t\t\tif (start < 0) start = this.stamps[0][0];\n\t\t\tend = this.getStamp(end);\n\t\t\tif (end < 0) end = this.stamps[this.stamps.length - 1][0];\n\t\t}\n\t\treturn end - start;\n\t}\n};","/**\n *\tTitle: MarkUp Parser Extensions\n *\tAuthor: LostAbaddon\n *\tEmail: LostAbaddon@gmail.com\n *\tVersion: 1.0.0\n *\tDate: 2020.03.18\n */\n\nconst generateRandomKey = MarkUp.generateRandomKey;\n\n// LaTeX\nMarkUp.addExtension({\n\tname: 'LaTeX',\n\tparse: (line, doc, caches) => {\n\t\tcaches[MarkUp.SymHidden] = caches[MarkUp.SymHidden] || {};\n\t\tvar changed = false;\n\t\tline = line.replace(/(\\\\+)\\$/g, (match, slash) => {\n\t\t\tvar len = Math.floor(slash.length / 2);\n\t\t\tvar result = '';\n\t\t\tvar meta = '%' + MarkUp.PreserveWords['\\\\'] + '%';\n\t\t\tfor (let i = 0; i < len; i ++) result += meta\n\t\t\tif (len * 2 !== slash.length) {\n\t\t\t\tlet word = MarkUp.PreserveWords['$'];\n\t\t\t\tresult += '%' + word + '%';\n\t\t\t} else {\n\t\t\t\tresult += '$';\n\t\t\t}\n\t\t\tchanged = true;\n\t\t\treturn result;\n\t\t});\n\t\tline = line.replace(/\\$([\\w\\W]+?)\\$/g, (match, content) => {\n\t\t\tif (match.indexOf('$$') >= 0) return match;\n\t\t\tvar key = 'latex-' + generateRandomKey();\n\t\t\tcaches[MarkUp.SymHidden][key] = '<span class=\"latex inline\">$' + content + '$</span>';\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, -1);\n\n// FA 图标\nMarkUp.addExtension({\n\tname: 'FontAwesome',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\n\t\tline = line.replace(/:([\\w\\-\\.]+?):/g, (match, name, pos) => {\n\t\t\tname = name.trim();\n\t\t\tchanged = true;\n\t\t\treturn '<i class=\"fas far fa-' + name + '\"></i>'\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 3);\n// 超链接\nMarkUp.addExtension({\n\tname: 'HyperLinks',\n\tparse: (line, doc, caches) => {\n\t\tdoc.links = doc.links || [];\n\t\tvar changed = false;\n\t\tline = line.replace(/([!@#]?)\\[([\\w %'\"\\*_\\^\\|~\\-\\.\\+=·,;:\\?!\\\\\\/&\\u0800-\\uffff]*?)\\] *\\((\\@?[\\w\\W]*?)\\)/g, (match, prev, title, link, pos) => {\n\t\t\tlink = link.trim();\n\t\t\tif (link.length === 0) return match;\n\t\t\tif (!!caches[title]) return match;\n\n\t\t\tif (prev === '') {\n\t\t\t\tdoc.links.push([title, link]);\n\t\t\t\tlet first = link.substr(0, 1);\n\t\t\t\tlet isInner = first === '@';\n\t\t\t\tlet content = MarkUp.parseLine(title, doc, 3, caches);\n\t\t\t\tlet key = 'link-' + generateRandomKey();\n\t\t\t\tlet ui = '<a href=\"';\n\t\t\t\tif (isInner) {\n\t\t\t\t\tui = ui + '#' + link.substr(1, link.length) + '\">';\n\t\t\t\t}\n\t\t\t\telse if (link.indexOf('@') > 1) {\n\t\t\t\t\tui = ui + 'mailto:' + link + '\">';\n\t\t\t\t}\n\t\t\t\telse if (first === '.' || first === '\\\\' || first === '/' || first === '#') {\n\t\t\t\t\tui = ui + link + '\">';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tui = ui + link + '\" target=\"_blank\">';\n\t\t\t\t}\n\t\t\t\tui = ui + content + '</a>';\n\t\t\t\tcaches[key] = ui;\n\t\t\t\tchanged = true;\n\t\t\t\treturn '%' + key + '%';\n\t\t\t}\n\t\t\treturn match;\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 3);\n// 锚点与术语\nMarkUp.addExtension({\n\tname: 'AnchorAndTerm',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\n\t\tline = line.replace(/\\[([\\w %'\"\\-\\.\\+=,;:\\?!\\\\\\/&\\u0800-\\uffff]*?)\\] *\\{([\\w \\-\\.]+?)\\}/g, (match, title, name, pos) => {\n\t\t\tname = name.trim();\n\t\t\ttitle = title.trim();\n\t\t\tif (name.length === 0) return match;\n\t\t\tif (title.length === 0) return match;\n\t\t\tif (!!caches[title]) return match;\n\n\t\t\tvar content = MarkUp.parseLine(title, doc, 3, caches), key;\n\n\t\t\tif (!!doc.refs[name]) {\n\t\t\t\t// 有定义，所以是术语\n\t\t\t\tkey = 'term-' + generateRandomKey();\n\t\t\t\tdoc.termList = doc.termList || [];\n\t\t\t\tdoc.termList.push([name, title]);\n\t\t\t\tdoc.termList[name] = title;\n\t\t\t\tlet ui = '<a class=\"terminology\" name=\"' + name + '\" href=\"#ref-' + name + '\"><strong>' + title + '</strong></a>';\n\t\t\t\tcaches[key] = ui;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// 无定义，所以只是一个锚点\n\t\t\t\tkey = 'anchor-' + generateRandomKey();\n\t\t\t\tlet ui = '<a name=\"' + name + '\">' + title + '</a>';\n\t\t\t\tcaches[key] = ui;\n\t\t\t}\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 3);\n\n// Code\nMarkUp.addExtension({\n\tname: 'Code',\n\tparse: (line, doc, caches) => {\n\t\tcaches[MarkUp.SymHidden] = caches[MarkUp.SymHidden] || {};\n\t\tvar changed = false;\n\t\tline = line.replace(/`([\\w\\W]+?)`/g, (match, content) => {\n\t\t\tif (match.indexOf('``') >= 0) return match;\n\t\t\tvar key = 'code-' + generateRandomKey();\n\t\t\tcaches[MarkUp.SymHidden][key] = '<code>' + content + '</code>';\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n});\n// 粗体与斜体\nMarkUp.addExtension({\n\tname: 'BoldAndItalic',\n\tparse: (line, doc, caches) => {\n\t\tvar locs = [];\n\t\tline.replace(/\\*+/g, (match, pos) => {\n\t\t\tlocs.push([pos, match.length]);\n\t\t});\n\t\tif (locs.length < 2) return [line, false];\n\n\t\tvar generate = (start, end, isBold) => {\n\t\t\tvar part = line.substring(start, end + (isBold ? 2 : 1));\n\t\t\tvar inner;\n\t\t\tif (isBold) inner = part.substring(2, part.length - 2);\n\t\t\telse inner = part.substring(1, part.length - 1);\n\t\t\tvar key = (isBold ? 'strong' : 'em') + '-' + generateRandomKey();\n\t\t\tinner = MarkUp.parseLine(inner, doc, 5, caches);\n\t\t\tif (isBold) {\n\t\t\t\tcaches[key] = '<strong>' + inner + '</strong>';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcaches[key] = '<em>' + inner + '</em>';\n\t\t\t}\n\t\t\tkey = '%' + key + '%';\n\t\t\tline = line.replace(part, key);\n\t\t};\n\n\t\tvar first = locs[0][1], second = locs[1][1];\n\t\tif (first < 3) {\n\t\t\t// 如果开头非联合\n\t\t\tif (first === second) {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t\telse if (second < 3) {\n\t\t\t\tlet third = locs[2];\n\t\t\t\tif (!third) {\n\t\t\t\t\tif (first > second) {\n\t\t\t\t\t\tgenerate(locs[0][0] + 1, locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[0][0], locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthird = third[1];\n\t\t\t\t\tif (third < 3) {\n\t\t\t\t\t\tif (second === third) {\n\t\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (first === third) {\n\t\t\t\t\t\t\tgenerate(locs[0][0], locs[2][0], first === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn [line, false];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t} else {\n\t\t\t// 开头联合\n\t\t\tif (second < 3) {\n\t\t\t\tif (second === 1) {\n\t\t\t\t\tgenerate(locs[0][0] + first - 1, locs[1][0], false);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t} else {\n\t\t\t\t\tgenerate(locs[0][0] + first - 2, locs[1][0], true);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0] + second - 2, true);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t}\n\t\treturn [line, false];\n\t},\n});\n// 下标与下划线\nMarkUp.addExtension({\n\tname: 'SubAndUnderline',\n\tparse: (line, doc, caches) => {\n\t\tvar locs = [];\n\t\tline.replace(/_+/g, (match, pos) => {\n\t\t\tlocs.push([pos, match.length]);\n\t\t});\n\t\tif (locs.length < 2) return [line, false];\n\n\t\tvar generate = (start, end, isUnder) => {\n\t\t\tvar part = line.substring(start, end + (isUnder ? 2 : 1));\n\t\t\tvar inner;\n\t\t\tif (isUnder) inner = part.substring(2, part.length - 2);\n\t\t\telse inner = part.substring(1, part.length - 1);\n\t\t\tvar key = (isUnder ? 'underline' : 'sub') + '-' + generateRandomKey();\n\t\t\tinner = MarkUp.parseLine(inner, doc, 5, caches);\n\t\t\tif (isUnder) {\n\t\t\t\tcaches[key] = '<u>' + inner + '</u>';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcaches[key] = '<sub>' + inner + '</sub>';\n\t\t\t}\n\t\t\tkey = '%' + key + '%';\n\t\t\tline = line.replace(part, key);\n\t\t};\n\n\t\tvar first = locs[0][1], second = locs[1][1];\n\t\tif (first < 3) {\n\t\t\t// 如果开头非联合\n\t\t\tif (first === second) {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t\telse if (second < 3) {\n\t\t\t\tlet third = locs[2];\n\t\t\t\tif (!third) {\n\t\t\t\t\tif (first > second) {\n\t\t\t\t\t\tgenerate(locs[0][0] + 1, locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[0][0], locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthird = third[1];\n\t\t\t\t\tif (third < 3) {\n\t\t\t\t\t\tif (second === third) {\n\t\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (first === third) {\n\t\t\t\t\t\t\tgenerate(locs[0][0], locs[2][0], first === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn [line, false];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t} else {\n\t\t\t// 开头联合\n\t\t\tif (second < 3) {\n\t\t\t\tif (second === 1) {\n\t\t\t\t\tgenerate(locs[0][0] + first - 1, locs[1][0], false);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t} else {\n\t\t\t\t\tgenerate(locs[0][0] + first - 2, locs[1][0], true);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0] + second - 2, true);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t}\n\t\treturn [line, false];\n\t},\n});\n// 波浪线与删除线\nMarkUp.addExtension({\n\tname: 'WavyAndDelete',\n\tparse: (line, doc, caches) => {\n\t\tvar locs = [];\n\t\tline.replace(/~+/g, (match, pos) => {\n\t\t\tlocs.push([pos, match.length]);\n\t\t});\n\t\tif (locs.length < 2) return [line, false];\n\n\t\tvar generate = (start, end, isDelete) => {\n\t\t\tvar part = line.substring(start, end + (isDelete ? 2 : 1));\n\t\t\tvar inner;\n\t\t\tif (isDelete) inner = part.substring(2, part.length - 2);\n\t\t\telse inner = part.substring(1, part.length - 1);\n\t\t\tvar key = (isDelete ? 'delete' : 'wavy') + '-' + generateRandomKey();\n\t\t\tinner = MarkUp.parseLine(inner, doc, 5, caches);\n\t\t\tif (isDelete) {\n\t\t\t\tcaches[key] = '<del>' + inner + '</del>';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcaches[key] = '<span class=\"text-wavy\">' + inner + '</span>';\n\t\t\t}\n\t\t\tkey = '%' + key + '%';\n\t\t\tline = line.replace(part, key);\n\t\t};\n\n\t\tvar first = locs[0][1], second = locs[1][1];\n\t\tif (first < 3) {\n\t\t\t// 如果开头非联合\n\t\t\tif (first === second) {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t\telse if (second < 3) {\n\t\t\t\tlet third = locs[2];\n\t\t\t\tif (!third) {\n\t\t\t\t\tif (first > second) {\n\t\t\t\t\t\tgenerate(locs[0][0] + 1, locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[0][0], locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthird = third[1];\n\t\t\t\t\tif (third < 3) {\n\t\t\t\t\t\tif (second === third) {\n\t\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (first === third) {\n\t\t\t\t\t\t\tgenerate(locs[0][0], locs[2][0], first === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn [line, false];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t} else {\n\t\t\t// 开头联合\n\t\t\tif (second < 3) {\n\t\t\t\tif (second === 1) {\n\t\t\t\t\tgenerate(locs[0][0] + first - 1, locs[1][0], false);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t} else {\n\t\t\t\t\tgenerate(locs[0][0] + first - 2, locs[1][0], true);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0] + second - 2, true);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t}\n\t\treturn [line, false];\n\t},\n});\n// 上标与更大\nMarkUp.addExtension({\n\tname: 'SupAndLarger',\n\tparse: (line, doc, caches) => {\n\t\tvar generate = (start, end, level) => {\n\t\t\tvar part = line.substring(start, end + level);\n\t\t\tvar inner = part.substring(level, part.length - level);\n\t\t\tvar key = 'larger-' + level + '-' + generateRandomKey();\n\t\t\tinner = MarkUp.parseLine(inner, doc, 5, caches);\n\t\t\tif (level <= 1) {\n\t\t\t\tcaches[key] = '<sup>' + inner + '</sup>';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcaches[key] = '<span class=\"text-larger level-' + (level - 1) + '\">' + inner + '</span>';\n\t\t\t}\n\t\t\tkey = '%' + key + '%';\n\t\t\tline = line.replace(part, key);\n\t\t};\n\n\t\tvar changed = false;\n\t\tline.replace(/(\\^+)([\\w\\W]+?)(\\^+)/, (match, pre, content, post, pos) => {\n\t\t\tvar checker = content.match(/(\\\\*)\\[/);\n\t\t\tif (!!checker) {\n\t\t\t\tlet len = checker[1].length;\n\t\t\t\tif (len >> 1 << 1 === len) return match;\n\t\t\t}\n\t\t\tpre = pre.length;\n\t\t\tpost = post.length;\n\t\t\tif (pre > post) {\n\t\t\t\tgenerate(pos + pre - post, pos + match.length - post, post);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(pos, pos + match.length - post, pre);\n\t\t\t}\n\t\t\tchanged = true;\n\t\t\treturn match;\n\t\t});\n\t\treturn [line, changed];\n\t},\n});\n\n// 颜色\nMarkUp.addExtension({\n\tname: 'Color',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\n\t\tline = line.replace(/\\[(\\w+)\\]([\\w\\W]+?)\\[\\/\\]/, (match, color, content, pos) => {\n\t\t\tif (content.length === 0) return match;\n\n\t\t\tcontent = MarkUp.parseLine(content, doc, 5, caches);\n\t\t\tvar key = 'color-' + generateRandomKey();\n\t\t\tcaches[key] = '<span class=\"color-' + color + '\">' + content + '</span>';\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 6);\n// 脚注与尾注\nMarkUp.addExtension({\n\tname: 'FootnoteAndEndnote',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\n\t\tline = line.replace(/(\\[([\\w %'\"\\-\\.\\+=,;:\\?!\\\\\\/&\\u0800-\\uffff]*?)\\])?\\[([\\^:])([\\w \\-\\.]+?)\\]/g, (match, all, title='', prefix, name) => {\n\t\t\tname = name.trim();\n\t\t\tif (name.length === 0) return match;\n\t\t\tif (!doc.refs[name]) return match;\n\n\t\t\tvar ui = '<a class=\"notemark\" type=\"';\n\t\t\tif (prefix === '^') {\n\t\t\t\tui += 'endnote\" href=\"#endnote-' + name\n\t\t\t}\n\t\t\telse {\n\t\t\t\tui += 'footnote'\n\t\t\t}\n\t\t\tui += '\" name=\"' + name + '\">';\n\t\t\tif (title) {\n\t\t\t\tui = ui + MarkUp.parseLine(title, doc, 6, caches);\n\t\t\t}\n\t\t\tui += '<sup>'\n\t\t\tif (prefix === '^') { // 尾注\n\t\t\t\tdoc.endnotes = doc.endnotes || [];\n\t\t\t\tlet i = doc.endnotes.indexOf(name);\n\t\t\t\tif (i < 0) {\n\t\t\t\t\ti = doc.endnotes.length;\n\t\t\t\t\tdoc.endnotes.push(name);\n\t\t\t\t}\n\t\t\t\ti ++;\n\t\t\t\tui += '(' + i + ')';\n\t\t\t}\n\t\t\telse { // 脚注\n\t\t\t\tdoc.footnotes = doc.footnotes || [];\n\t\t\t\tlet i = doc.footnotes.indexOf(name);\n\t\t\t\tif (i < 0) {\n\t\t\t\t\ti = doc.footnotes.length;\n\t\t\t\t\tdoc.footnotes.push(name);\n\t\t\t\t}\n\t\t\t\tui += '[%%FN-' + i + '%%]';\n\t\t\t}\n\t\t\tui += '</sup></a>';\n\t\t\tvar key = 'notemark-' + generateRandomKey();\n\t\t\tcaches[key] = ui;\n\t\t\treturn '%' + key + '%'\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 6);\n\n// 图片等资源\nMarkUp.addExtension({\n\tname: 'Images',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\n\t\tline = line.replace(/([!@#])\\[([^\\n]*?)\\] *\\((\\@?[\\w\\W]*?)\\)/g, (match, prev, title, link, pos) => {\n\t\t\tlink = link.trim();\n\t\t\tif (link.length === 0) return match;\n\n\t\t\tvar float = link.match(/[ 　\\t]+\"(left|right)\"/);\n\t\t\tif (!!float) {\n\t\t\t\tlink = link.replace(float[0], '');\n\t\t\t\tfloat = float[1];\n\t\t\t}\n\n\t\t\tvar type = 'image';\n\t\t\tif (prev === '@') type = 'video';\n\t\t\telse if (prev === '#') type = 'audio';\n\t\t\tdoc[type] = doc[type] || [];\n\t\t\tdoc[type].push([title, link]);\n\n\t\t\tvar content = '<div class=\"resource ' + type;\n\t\t\tif (!!float) {\n\t\t\t\tcontent += ' float-' + float;\n\t\t\t}\n\t\t\tcontent += '\">';\n\t\t\tcontent += '<figure>';\n\t\t\tif (prev === '!') {\n\t\t\t\tcontent += '<img src=\"' + link + '\">';\n\t\t\t}\n\t\t\telse if (prev === '@') {\n\t\t\t\tcontent += '<video src=\"' + link + '\" controls>你的浏览器不支持 <code>video</code> 标签.</video>';\n\t\t\t}\n\t\t\telse if (prev === '#') {\n\t\t\t\tcontent += '<audio src=\"' + link + '\" controls>你的浏览器不支持 <code>audio</code> 标签.</audio>';\n\t\t\t}\n\t\t\tcontent += '</figure>';\n\t\t\tcontent += '<figcaption>' + title + '</figcaption>';\n\t\t\tcontent += '</div>';\n\n\t\t\tvar key = type + '-' + generateRandomKey();\n\t\t\tcaches[key] = content;\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 7);\n\n// URL 格式解析\nMarkUp.addExtension({\n\tname: 'InlineLinks',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\t\tif (!doc.mainParser) return [line, changed];\n\n\t\tline = line.replace(/https?:\\/\\/[\\w\\-\\+=\\.;\\?\\\\\\/%]+/gi, (match, pos) => {\n\t\t\tdoc.links.push([match, match]);\n\t\t\tvar ui = '<a href=\"' + match + '\" target=\"_blank\">' + match + '</a>';\n\t\t\tvar key = 'link-' + generateRandomKey();\n\t\t\tcaches[key] = ui;\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 8);","// 音频视频图片的拓展插件\r\n\r\n(() => {\r\n\tconst chChangeLoadingHint = new BroadcastChannel('change-loading-hint');\r\n\tconst chShowImage = new BroadcastChannel('show-image');\r\n\r\n\tconst queryAll = (tag, host) => {\r\n\t\thost = host || document;\r\n\t\tvar eles = host.querySelectorAll(tag);\r\n\t\treturn [].map.call(eles, e => e);\r\n\t};\r\n\tconst createEle = (tag, cls) => {\r\n\t\tvar ele = document.createElement(tag);\r\n\t\tif (String.is(cls)) ele.classList.add(cls);\r\n\t\telse if (Array.is(cls)) cls.forEach(c => ele.classList.add(c));\r\n\t\treturn ele;\r\n\t};\r\n\tconst stopOthers = (ele, all) => {\r\n\t\tall.forEach(e => {\r\n\t\t\tif (e === ele) return;\r\n\t\t\te.pause();\r\n\t\t});\r\n\t};\r\n\r\n\tglobal.ImageWall = {\r\n\t\twhRate: 3 / 4,\r\n\t\tasync init () {\r\n\t\t\tconst Container = document.querySelector('#container > div');\r\n\r\n\t\t\t// 多媒体文件播放时自动暂停其它多媒体文件\r\n\t\t\tvar avs = [...queryAll('.markup-content audio'), ...queryAll('.markup-content video')];\r\n\t\t\tavs.forEach(a => {\r\n\t\t\t\ta.onplay = () => stopOthers(a, avs);\r\n\t\t\t});\r\n\r\n\t\t\tvar imageCount = 0, imageLoaded = 0;\r\n\t\t\tqueryAll('.markup-content .image-wall').forEach(w => {\r\n\t\t\t\tvar divs = queryAll('div.resource', w);\r\n\r\n\t\t\t\tw._total = divs.length;\r\n\t\t\t\tw._index = 0;\r\n\t\t\t\tw._frame = w.querySelector('div.image-container.image-ghost');\r\n\t\t\t\tif (!w._frame) {\r\n\t\t\t\t\tw._frame = createEle('div', ['image-container', 'image-ghost']);\r\n\t\t\t\t\tw.appendChild(w._frame);\r\n\t\t\t\t}\r\n\t\t\t\tw._float = w.querySelector('div.image-container.image-float');\r\n\t\t\t\tif (!w._float) {\r\n\t\t\t\t\tw._float = createEle('div', ['image-container', 'image-float']);\r\n\t\t\t\t\tw.appendChild(w._float);\r\n\t\t\t\t}\r\n\t\t\t\tw._left = w.querySelector('div.image-button-left');\r\n\t\t\t\tif (!w._left) {\r\n\t\t\t\t\tw._left = createEle('div', 'image-button-left');\r\n\t\t\t\t\tw._left.innerHTML = '<i class=\"fas fa-angle-left\"></i>';\r\n\t\t\t\t\tw.appendChild(w._left);\r\n\t\t\t\t\tw._left.addEventListener('click', evt => {\r\n\t\t\t\t\t\tif (w._index <= 0) return;\r\n\t\t\t\t\t\tw._index --;\r\n\t\t\t\t\t\tw._float.style.transform = 'translateX(-' + (100 / w._total * w._index) + '%)';\r\n\t\t\t\t\t\tif (w._index < w._total - 1) w._right.classList.remove('inactive');\r\n\t\t\t\t\t\tif (w._index <= 0) w._left.classList.add('inactive');\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tw._right = w.querySelector('div.image-button-right');\r\n\t\t\t\tif (!w._right) {\r\n\t\t\t\t\tw._right = createEle('div', 'image-button-right');\r\n\t\t\t\t\tw._right.innerHTML = '<i class=\"fas fa-angle-right\"></i>';\r\n\t\t\t\t\tw.appendChild(w._right);\r\n\t\t\t\t\tw._right.addEventListener('click', evt => {\r\n\t\t\t\t\t\tif (w._index >= w._total - 1) return;\r\n\t\t\t\t\t\tw._index ++;\r\n\t\t\t\t\t\tw._float.style.transform = 'translateX(-' + (100 / w._total * w._index) + '%)';\r\n\t\t\t\t\t\tif (w._index > 0) w._left.classList.remove('inactive');\r\n\t\t\t\t\t\tif (w._index >= w._total - 1) w._right.classList.add('inactive');\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tw._callback = (width, height) => {\r\n\t\t\t\t\tif (divs.some(d => !d._ready)) return;\r\n\t\t\t\t\tw.classList.add('loaded');\r\n\t\t\t\t\tw._index = 0;\r\n\t\t\t\t\tw._float.style.transform = 'translateX(0%)';\r\n\t\t\t\t\tw._left.classList.add('inactive');\r\n\r\n\t\t\t\t\tdivs.forEach((div, i) => {\r\n\t\t\t\t\t\tvar frame = createEle('div', 'image-frame');\r\n\t\t\t\t\t\tw._frame.appendChild(frame);\r\n\t\t\t\t\t\tframe.appendChild(div);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tw._float.innerHTML = w._frame.innerHTML;\r\n\t\t\t\t\tw._float.style.width = (w._total * 100) + '%'\r\n\t\t\t\t\tqueryAll('div.image-frame', w._float).forEach(div => {\r\n\t\t\t\t\t\tdiv.style.width = (100 / w._total) + '%';\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\t\tdivs.forEach(div => {\r\n\t\t\t\t\tw._frame.appendChild(div);\r\n\t\t\t\t\tdiv._wall = w;\r\n\t\t\t\t\tdiv.classList.add('inside');\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tawait Promise.all(queryAll('div.resource.image').map(div => new Promise(res => {\r\n\t\t\t\timageCount ++;\r\n\t\t\t\tvar img = div.querySelector('img'), fig = div.querySelector('figure');\r\n\t\t\t\tif (!img) {\r\n\t\t\t\t\timageLoaded ++;\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({title: '载入图片: ' + imageLoaded + ' / ' + imageCount});\r\n\t\t\t\t\treturn res();\r\n\t\t\t\t}\r\n\t\t\t\tvar inside = div.classList.contains('inside');\r\n\t\t\t\tif (!inside) div.classList.add('outside');\r\n\r\n\t\t\t\timg.onload = () => {\r\n\t\t\t\t\tvar containerWidth = Container.getBoundingClientRect().width;\r\n\t\t\t\t\tvar containerHeight = containerWidth * ImageWall.whRate;\r\n\r\n\t\t\t\t\timg._available = true;\r\n\t\t\t\t\timg.setAttribute('oWidth', img.naturalWidth);\r\n\t\t\t\t\timg.setAttribute('oHeight', img.naturalHeight);\r\n\t\t\t\t\tfig.classList.add('loaded');\r\n\t\t\t\t\tfig.style.backgroundImage = 'url(' + img.src + ')';\r\n\t\t\t\t\tdiv.style.width = img.naturalWidth + 'px';\r\n\r\n\t\t\t\t\tvar rateWidth = img.naturalWidth;\r\n\t\t\t\t\tvar rateHeight = img.naturalHeight;\r\n\t\t\t\t\tif (img.naturalHeight / img.naturalWidth > ImageWall.whRate) {\r\n\t\t\t\t\t\tfig.classList.add('tall');\r\n\t\t\t\t\t\tfig.style.width = (100 * img.naturalWidth / img.naturalHeight * ImageWall.whRate) + '%';\r\n\t\t\t\t\t\tfig.style.paddingTop = (100 * ImageWall.whRate) + '%';\r\n\t\t\t\t\t\trateHeight = img.naturalWidth * ImageWall.whRate;\r\n\t\t\t\t\t\trateWidth = rateHeight * img.naturalWidth / img.naturalHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tfig.classList.remove('tall');\r\n\t\t\t\t\t\tfig.style.width = '100%';\r\n\t\t\t\t\t\tfig.style.paddingTop = (100 * img.naturalHeight / img.naturalWidth) + '%';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!!div._wall) {\r\n\t\t\t\t\t\tdiv._ready = true;\r\n\t\t\t\t\t\tdiv._wall._callback(rateWidth, rateHeight);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\timageLoaded ++;\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({title: '载入图片: ' + imageLoaded + ' / ' + imageCount});\r\n\t\t\t\t\tres();\r\n\t\t\t\t};\r\n\t\t\t\timg.onerror = () => {\r\n\t\t\t\t\timg._available = false;\r\n\t\t\t\t\tdiv.classList.add('failed');\r\n\r\n\t\t\t\t\timageLoaded ++;\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({title: '载入图片: ' + imageLoaded + ' / ' + imageCount});\r\n\t\t\t\t\tres();\r\n\t\t\t\t};\r\n\t\t\t})));\r\n\t\t}\r\n\t};\r\n})();"],"sourceRoot":""}