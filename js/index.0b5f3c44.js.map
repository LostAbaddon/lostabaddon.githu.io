{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/jLAss/utils/datetime.js","webpack:///./src/assets/jLAss/extends/symbol.js","webpack:///./src/App.vue?e1fa","webpack:///./src/App.vue","webpack:///./src/assets/jLAss/index.js","webpack:///./src/assets/jLAss/extends/object.js","webpack:///./src/views/Home.vue?ae5c","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?24aa","webpack:///./src/views/Home.vue","webpack:///./src/views/Category.vue?7348","webpack:///src/views/Category.vue","webpack:///./src/views/Category.vue?282f","webpack:///./src/views/Category.vue","webpack:///./src/router/index.js","webpack:///./src/components/navbar.vue?cbe9","webpack:///./src/components/navbar.vue?0bb6","webpack:///./src/components/navbar.vue","webpack:///./src/components/navmenubar.vue?2788","webpack:///src/components/navmenubar.vue","webpack:///./src/components/navmenubar.vue?2e89","webpack:///./src/components/navmenubar.vue","webpack:///./src/components/navmenuitem.vue?f26b","webpack:///src/components/navmenuitem.vue","webpack:///./src/components/navmenuitem.vue?0c44","webpack:///./src/components/navmenuitem.vue","webpack:///./src/components/tail.vue?8ad9","webpack:///src/components/tail.vue","webpack:///./src/components/tail.vue?004b","webpack:///./src/components/tail.vue","webpack:///./src/components/crumb.vue?74ce","webpack:///src/components/crumb.vue","webpack:///./src/components/crumb.vue?045d","webpack:///./src/components/crumb.vue","webpack:///./src/components/column.vue?a327","webpack:///src/components/column.vue","webpack:///./src/components/column.vue?a9e3","webpack:///./src/components/column.vue","webpack:///./src/main.js","webpack:///./src/assets/jLAss/namespace.js","webpack:///./src/App.vue?ee1c","webpack:///./src/assets/jLAss/extends/string.js","webpack:///./src/assets/js/markup-footnote.js","webpack:///./src/assets/jLAss/extends/math.js","webpack:///src/components/navbar.vue","webpack:///./src/assets/jLAss/extends/function.js","webpack:///./src/assets/jLAss/extends/class.js","webpack:///./src/assets/jLAss/extends/array.js","webpack:///./src/assets/Asimov/markup.js","webpack:///./src/assets/jLAss/extends/timer.js","webpack:///./src/assets/Asimov/extensions.js","webpack:///./src/assets/js/eventbus.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","getDTMatch","format","match","lim","def","isNaN","temp","formatString","str","len","substring","padStart","getDateString","Y","M","D","link","join","getTimeString","h","ms","timeNormalize","time","datelink","timelink","combinelink","Date","Ys","Ms","Ds","hs","mms","ss","mss","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","sDate","sTime","_","set","setSymbols","host","symbols","String","is","map","arguments","Array","symb2name","str2name","forEach","symbol","split","sym","configurable","toString","__proto__","component","global","_env","require","process","execArgv","includes","gc","noEventModules","_canThread","loadjLAssModule","mod","loadall","__dirname","Boolean","obj","BigInt","Number","isBasicType","copy","assign","this","duplicate","valueOf","getTime","extent","targets","reverse","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticRenderFns","use","routes","path","Home","Category","router","base","attrs","menu","aboutMenu","_l","item","category","supers","subs","props","on","$event","click","action","_s","title","_e","methods","filter","f","query","can_go","same_page","$route","c1","c2","$router","EventBus","pub","_m","index","jump","currCrumb","sub","update","show","first","pop","SiteMap","reqs","some","entry","unshift","currColumn","loading","$el","querySelector","innerHTML","classList","remove","log","add","config","productionTip","FootNoteUnInited","mutationObserver","MutationObserver","mutations","need_markup","id","addedNodes","node","contains","markups","querySelectorAll","mu","content","innerText","replace","MarkUp","parse","toc","glossary","resources","showtitle","showauthor","classname","InitNotes","body","MathJax","Hub","Config","extensions","TeX","jax","tex2jax","inlineMath","Queue","observe","childList","subtree","App","$mount","trim","ModuleList","names","keys","indexOf","KeySet","fromCharCode","random","rnd","Math","floor","blank","block","line","buf","Buffer","from","byteLength","UI","NoteFrame","_status","addEventListener","async","ele","evt","cn","className","css","computedStyleMap","enter","substr","info","parentElement","outerHTML","html","rect","getBoundingClientRect","isTop","isLeft","left","top","height","innerWidth","right","innerHeight","style","bottom","display","wait","opacity","pick","list","range","generateSiteMap","aboutMe","computed","Function","AsyncFunction","constructor","promisify","fn","_promised","afun","args","res","rej","_original","withTimeout","start_time","tocb","todelay","towatch","prom","_res","_rej","fun_prep","promisible","funs","cb","serial","fun","v","parallel","tasks","results","a","any","oncilize","ofn","called","waitLoop","refresh","pumplize","last_only","stack","timer","done","pfn","now","dump","to","ProtoType","kerneltype","isSubClassOf","cls","getPrototypeOf","randomize","self","clear","translate","offset","has","equal","generate","total","generator","origin","Uint8Array","toBuffer","buffer","alloc","toBase64","fromString","fromBuffer","fromBase64","base64","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","subarray","concat","array","padEnd","pad","SymHidden","MetaWords","PreservedKeywords","ParagraphTags","PreserveWords","ReversePreserveWords","toLowerCase","w","LineRender","BlockRender","FinalRender","generateRandomKey","addExtension","ext","isInline","level","indexes","sort","b","prepare","text","spaces","pre","post","reg","RegExp","regularize","parseLine","doc","currLevel","Infinity","caches","outmost","exts","changed","convertPreserves","restorePreserves","parseSection","parseLevel","sections","blocks","ctx","x","blockMap","parseLaTeX","parseCodeBlock","parseTable","metas","linenumber","lineID","tail","totalLineCount","squeezeContents","parseListAndBlockQuote","parseHeadline","parseResources","parseParagraph","context","parsePlainParaStyle","contents","prefix","postfix","classes","align","indent","equaBlocks","prev","curr","starters","equaSection","finals","codeBlocks","codeSection","lineS","part","tableBlocks","tables","last","table","generateTable","end","start","blkID","blockList","inside","jnfo","qaBlock","change","generateQuotes","generateList","headlines","headers","header","cp","la","lb","ctxes","meta","ref","refs","befores","inner_changed","useless","paragraphs","imagewalls","wall","isWall","group","hasHead","cfgLine","cfgID","cfg","rows","cols","num","row","parseTableRow","isNumber","col","ui","parts","quotes","ordered","lid","analyzeSections","pid","chaps","chapList","chapName","termList","isArray","para","footnotes","endnotes","en","generateGlossary","image","video","audio","generateResourceList","author","email","applyBlockReference","loop","pos","supStart","lastIndexOf","supEnd","applyMarkUpReference","lang","LANG","section","toced","generateTableOfContent","terms","slash","mark","count","needConvert","word","inline","getKeywords","words","getMetas","nonStop","links","keyword","date","god","theone","mainParser","anchors","notes","usage","key1","key2","fullParse","docTree","fullexport","renderList","lineCount","description","keywords","kw","terminology","reverseSection","__level","childNodes","inner","tagName","nodeName","textContent","__prefix","lastPrefix","flat","reverseMix","reverseLine","url","lev","setImmediate","callback","nextTick","delay","next","waitTick","queueMicrotask","waitQueue","hrtime","Clock","lable","not_node","stamps","isNode","clock","stamp","is_text","max","lab","nan","getStamp","isInner","locs","isBold","second","third","isUnder","isDelete","checker","color","float","ch","msg","bus"],"mappings":"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","file":"js/index.0b5f3c44.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"index\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-24d1ed8e\":\"a7fdc992\",\"chunk-308bd2e8\":\"7f475aaa\",\"chunk-3d89e28e\":\"c5ddb4d5\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-24d1ed8e\":1,\"chunk-308bd2e8\":1,\"chunk-3d89e28e\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-24d1ed8e\":\"85c1cc54\",\"chunk-308bd2e8\":\"4f25ee3e\",\"chunk-3d89e28e\":\"d7cd07c3\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/**\n * Name:\tAuxillary Utils and Extends for DateTime\n * Desc:    日期时间相关拓展\n * Author:\tLostAbaddon\n * Version:\t0.0.2\n * Date:\t2018.11.02\n */\n\nconst getDTMatch = (format, match, lim, def) => {\n\tif (isNaN(def)) def = lim;\n\tvar temp = format.match(match);\n\tif (!temp) temp = def;\n\telse temp = temp.length;\n\tif (temp < lim) temp = lim;\n\treturn temp;\n};\nconst formatString = (str, len) => {\n\tif (len === 0) return '';\n\tvar l = str.length;\n\tif (l > len) str = str.substring(l - len, l);\n\telse if (l < len) str = str.padStart(len, '0');\n\treturn str;\n};\nconst getDateString = (Y, M, D, link) => {\n\tvar temp = [];\n\tif (Y.length > 0) temp.push(Y);\n\tif (M.length > 0) temp.push(M);\n\tif (D.length > 0) temp.push(D);\n\treturn temp.join(link);\n};\nconst getTimeString = (h, m, s, ms, link) => {\n\tvar temp = [];\n\tif (h.length > 0) temp.push(h);\n\tif (m.length > 0) temp.push(m);\n\tif (s.length > 0) temp.push(s);\n\tvar result = temp.join(link);\n\tif (ms.length > 0) result += '.' + ms;\n\treturn result;\n};\nconst timeNormalize = (time, format='YYYYMMDDhhmmss', datelink='/', timelink=':', combinelink=' ') => {\n\ttime = time || new Date();\n\t// format = format || 'YYYYMMDDhhmmssx';\n\n\tvar Ys = getDTMatch(format, /Y/g, 0, 0);\n\tvar Ms = getDTMatch(format, /M/g, 1, 0);\n\tvar Ds = getDTMatch(format, /D/g, 1, 0);\n\tvar hs = getDTMatch(format, /h/g, 0, 0);\n\tvar mms = getDTMatch(format, /m/g, 0, 0);\n\tvar ss = getDTMatch(format, /s/g, 0, 0);\n\tvar mss = getDTMatch(format, /x/g, 0);\n\n\tvar Y = formatString(time.getYear() + 1900 + '', Ys);\n\tvar M = formatString(time.getMonth() + 1 + '', Ms);\n\tvar D = formatString(time.getDate() + '', Ds);\n\tvar h = formatString(time.getHours() + '', hs);\n\tvar m = formatString(time.getMinutes() + '', mms);\n\tvar s = formatString(time.getSeconds() + '', ss);\n\tvar ms = formatString(time.getMilliseconds() + '', mss);\n\n\tvar sDate = getDateString(Y, M, D, datelink);\n\tvar sTime = getTimeString(h, m, s, ms, timelink);\n\tif (sTime.length === 0) return sDate;\n\treturn sDate + combinelink + sTime;\n};\n\n_('Utils').getTimeString = timeNormalize;","/**\n * Name:\tSymbol Utils\n * Desc:    Symbol 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.1\n * Date:\t2017.11.09\n */\n\nSymbol.set = Symbol.setSymbols = function (host, symbols) {\n\tif (String.is(host)) {\n\t\tsymbols = [].map.call(arguments, i => i);\n\t\thost = null;\n\t}\n\telse if (Array.is(host) && !symbols) {\n\t\tsymbols = host;\n\t\thost = null;\n\t}\n\thost = host || {};\n\tvar symb2name = {};\n\tvar str2name = {};\n\tsymbols.forEach(symbol => {\n\t\tsymbol = symbol.split('|');\n\t\tif (symbol.length === 0) return;\n\t\tif (symbol.length < 2) symbol[1] = symbol[0];\n\t\tvar name = symbol[1];\n\t\tsymbol = symbol[0];\n\t\tvar sym = Symbol(symbol);\n\t\tsymb2name[sym] = name;\n\t\tstr2name[symbol] = name;\n\t\tObject.defineProperty(host, symbol, {\n\t\t\tvalue: sym,\n\t\t\tconfigurable: false,\n\t\t\tenumerable: true\n\t\t});\n\t});\n\thost.toString = symbol => symb2name[symbol] || str2name[symbol] || 'No Such Symbol';\n\tObject.defineProperty(host, 'toString', { enumerable: false });\n\treturn host;\n};\nSymbol.is = symbol => (Symbol.__proto__ === Symbol.prototype) || (typeof symbol === 'symbol');","import mod from \"-!../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2288d1ac&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../Schwarzschild/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * Name:\tCommon Core\n * Desc:    辅助工具\n * Author:\tLostAbaddon\n * Version:\t0.0.4\n * Date:\t2019.06.03\n *\n * 热更新require库\n * 字符串拓展、随机穿\n * 日志工具\n * 文件夹生成\n * 辅助工具\n * Object的copy与extent功能\n */\n\ntry {\n\tif (!!window) {\n\t\twindow.global = window;\n\t\tglobal._env = 'browser';\n\t\tglobal.require = () => {};\n\t\tglobal.module = { exports: {} };\n\t} else {\n\t\tglobal._env = 'node';\n\t}\n} catch (err) {\n\tglobal._env = 'node';\n}\n\nif (!!process && !!process.execArgv && !process.execArgv.includes('--expose-gc')) global.gc = () => {};\n\n{};;\n{};;\n{};;\n{};;\n{};;\n\n{};;\n\nif (!global.noEventModules) {\n\t{};;\n\t{};;\n\tif (global._canThread) {\n\t\t{};;\n\t\t{};;\n\t}\n}\n\n{};;\n\nif (global._env === 'node') global.loadjLAssModule = mod => {loadall(__dirname, \"./\" + mod)};","/**\n * Name:\tObject Utils\n * Desc:    Object 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.2\n * Date:\t2019.06.04\n */\n\nBoolean.is = obj => {\n\tif (typeof obj === \"boolean\") return true;\n\tif (obj instanceof Boolean) return true;\n\treturn false;\n};\nBigInt.is = obj => {\n\tif (typeof obj === \"bigint\") return true;\n\tif (obj instanceof BigInt) return true;\n\treturn false;\n};\nNumber.is = obj => {\n\tif (typeof obj === \"number\") return true;\n\tif (obj instanceof Number) return true;\n\treturn false;\n};\nObject.isBasicType = obj => {\n\tif (String.is(obj)) return true;\n\tif (Boolean.is(obj)) return true;\n\tif (BigInt.is(obj)) return true;\n\tif (Number.is(obj)) return true;\n\tif (Symbol.is(obj)) return true;\n\treturn false;\n};\n\nObject.prototype.copy = function () {\n\treturn Object.assign({}, this);\n};\nObject.prototype.duplicate = function () {\n\tvar copy = {};\n\tfor (let key in this) {\n\t\tlet value = this[key];\n\t\tif (Object.isBasicType(value)) {\n\t\t\tcopy[key] = value.valueOf();\n\t\t} else if (value === null || value === undefined) {\n\t\t\tcopy[key] = value;\n\t\t} else if (value instanceof Date) {\n\t\t\tcopy[key] = new Date(value.getTime());\n\t\t} else if (typeof value === \"object\" && !(value instanceof Promise)) {\n\t\t\tcopy[key] = value.duplicate();\n\t\t}\n\t}\n\treturn Object.assign({}, this, copy);\n};\nObject.prototype.extent = function (...targets) {\n\tvar copy = Object.assign({}, this);\n\ttargets.reverse();\n\tObject.assign(this, ...targets, copy);\n};\nObject.defineProperty(Object.prototype, 'copy', { enumerable: false });\nObject.defineProperty(Object.prototype, 'duplicate', { enumerable: false });\nObject.defineProperty(Object.prototype, 'extent', { enumerable: false });\n\nNumber.prototype.duplicate = function () {\n\treturn this * 1;\n};\nObject.defineProperty(Number.prototype, 'duplicate', { enumerable: false });\nBigInt.prototype.duplicate = function () {\n\treturn this * 1n;\n};\nObject.defineProperty(BigInt.prototype, 'duplicate', { enumerable: false });\nBoolean.prototype.duplicate = function () {\n\tif (this === false || this.valueOf() === false) return false;\n\treturn true;\n};\nObject.defineProperty(Boolean.prototype, 'duplicate', { enumerable: false });","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('Column'),_c('strong',[_vm._v(\"Welcome to LostAbaddon's Death Foreseer Society!\")]),_c('br'),_vm._v(\"The world is waiting for its light, please WAIT for a while... \")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"home\">\n\t\t<Column />\n\t\t<strong>Welcome to LostAbaddon's Death Foreseer Society!</strong><br>The world is waiting for its light, please WAIT for a while...\n\t</div>\n</template>\n\n<script>\n// @ is an alias to /src\nexport default {\n\tname: 'Home',\n}\n</script>","import mod from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=8d50a6e8&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Schwarzschild/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"category\"},[_c('Crumb'),_c('Column'),_c('div',[_vm._v(\"This is a category page!\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"category\">\n\t\t<Crumb />\n\t\t<Column />\n\t\t<div>This is a category page!</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'Category',\n}\n</script>","import mod from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Category.vue?vue&type=template&id=c67fa3b8&\"\nimport script from \"./Category.vue?vue&type=script&lang=js&\"\nexport * from \"./Category.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Schwarzschild/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Category from '../views/Category.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tname: 'Home',\n\t\tcomponent: Home\n\t},\n\t{\n\t\tpath: '/category',\n\t\tname: 'Category',\n\t\tcomponent: Category\n\t},\n\t{\n\t\tpath: '/entertain/rushgo',\n\t\tname: 'RushGo',\n\t\tcomponent: Category\n\t},\n\t{\n\t\tpath: '/about',\n\t\tname: 'AboutSite',\n\t\tcomponent: function () {\n\t\t\treturn import('../views/about/site.vue')\n\t\t}\n\t},\n\t{path:'/aboutMe',name:'AboutMe',component:function(){return import('../views/aboutMe.vue')}},\n\t{\n\t\tpath: '*',\n\t\tname: 'PageNotFound',\n\t\tcomponent: function () {\n\t\t\treturn import('../views/404.vue')\n\t\t}\n\t}\n]\n\nconst router = new VueRouter({\n\tmode: 'hash',\n\tbase: process.env.BASE_URL,\n\troutes\n});\n\nexport default router","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nav-bar\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"首页\")]),_c('i',{staticClass:\"fas fa-caret-right\"}),_c('div',{staticClass:\"nav-container\"},[_c('NavMenuBar',{attrs:{\"menu\":_vm.menu}})],1),_c('div',{staticClass:\"about-bar nav-container right\"},[_c('NavMenuBar',{attrs:{\"menu\":_vm.aboutMenu}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./navbar.vue?vue&type=template&id=523739da&\"\nimport script from \"./navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./navbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Schwarzschild/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"nav-menu-bar\"},_vm._l((_vm.menu),function(item){return _c('NavMenuItem',{attrs:{\"title\":item.name,\"action\":(!!item.category&&item.category.length>0)?(!!_vm.supers?(_vm.supers+','+item.category):item.category):'',\"type\":item.type,\"subs\":item.subs}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<nav class=\"nav-menu-bar\">\r\n\t\t<NavMenuItem v-for=\"item in menu\" :title=\"item.name\" :action=\"(!!item.category&&item.category.length>0)?(!!supers?(supers+','+item.category):item.category):''\" :type=\"item.type\" :subs=\"item.subs\" />\r\n\t</nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'NavMenuBar',\r\n\tprops: {\r\n\t\tsupers: \"\",\r\n\t\tmenu: Array\r\n\t}\r\n}\r\n</script>","import mod from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./navmenubar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./navmenubar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./navmenubar.vue?vue&type=template&id=b5988656&\"\nimport script from \"./navmenubar.vue?vue&type=script&lang=js&\"\nexport * from \"./navmenubar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Schwarzschild/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nav-menu-item\"},[_c('a',{on:{\"click\":function($event){return _vm.click(_vm.type, _vm.action)}}},[_vm._v(_vm._s(_vm.title)),(!!_vm.subs)?_c('i',{staticClass:\"fas fa-caret-down\"}):_vm._e()]),(!!_vm.subs)?_c('NavMenuBar',{attrs:{\"menu\":_vm.subs,\"supers\":_vm.action}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"nav-menu-item\">\r\n\t\t<a @click=\"click(type, action)\">{{title}}<i class=\"fas fa-caret-down\" v-if=\"!!subs\" /></a>\r\n\t\t<NavMenuBar v-if=\"!!subs\" :menu=\"subs\" :supers=\"action\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'NavMenuItem',\r\n\tprops: {\r\n\t\ttitle: String,\r\n\t\ttype: String,\r\n\t\taction: String,\r\n\t\tsubs: Array\r\n\t},\r\n\tmethods: {\r\n\t\tclick (type, action) {\r\n\t\t\taction = action.split(',').filter(f => f.length > 0);\r\n\t\t\tif (action.length === 0) return;\r\n\r\n\t\t\tvar target = {};\r\n\t\t\tif (type === 'page') {\r\n\t\t\t\ttarget.path = '/' + action.join('/');\r\n\t\t\t}\r\n\t\t\telse if (type === 'viewer') {\r\n\t\t\t\ttarget.path = '/category';\r\n\t\t\t\ttarget.query = {c: action.join(',')};\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar can_go = true, same_page = false;\r\n\t\t\tif (this.$route.path === target.path) {\r\n\t\t\t\tsame_page = true;\r\n\t\t\t\tlet c1 = !!this.$route.query ? (this.$route.query.c || '') : '';\r\n\t\t\t\tlet c2 = !!target.query ? (target.query.c || '') : '';\r\n\t\t\t\tif (c1 === c2) can_go = false;\r\n\t\t\t}\r\n\t\t\tif (can_go) {\r\n\t\t\t\tthis.$router.push(target);\r\n\t\t\t\tif (same_page) EventBus.pub('ChangePage');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import mod from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./navmenuitem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./navmenuitem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./navmenuitem.vue?vue&type=template&id=6e1dd57e&\"\nimport script from \"./navmenuitem.vue?vue&type=script&lang=js&\"\nexport * from \"./navmenuitem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Schwarzschild/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tail-bar\"},[_c('div',{staticClass:\"left\"},[_vm._v(\" © 2020 - 2021 LostAbaddon, all rights reserved. \")]),_c('div',{staticClass:\"right\"},[_vm._v(\" Generated by \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/LostAbaddon/Schwarzschild\"}},[_vm._v(\"Schwarzschild v0.1.0\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"tail-bar\">\r\n\t\t<div class=\"left\">\r\n\t\t\t© 2020 - 2021 LostAbaddon, all rights reserved.\r\n\t\t</div>\r\n\t\t<div class=\"right\">\r\n\t\t\tGenerated by <a target=\"_blank\" href=\"https://github.com/LostAbaddon/Schwarzschild\">Schwarzschild v0.1.0</a>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'TailBar'\r\n}\r\n</script>","import mod from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./tail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./tail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tail.vue?vue&type=template&id=ec44afbc&\"\nimport script from \"./tail.vue?vue&type=script&lang=js&\"\nexport * from \"./tail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Schwarzschild/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"crumb\"},[_c('span',{staticClass:\"hint\"},[_vm._v(\"位置：\")]),_vm._l((_vm.path),function(item,index){return [_c('span',{on:{\"click\":function($event){return _vm.jump(item.path)}}},[_vm._v(_vm._s(item.name))]),_c('i',{staticClass:\"fas fa-angle-right\"})]})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"crumb\" v-if=\"show\">\r\n\t\t<span class=\"hint\">位置：</span>\r\n\t\t<template v-for=\"(item, index) in path\">\r\n\t\t\t<span @click=\"jump(item.path)\">{{item.name}}</span><i class=\"fas fa-angle-right\" />\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nvar currCrumb = null;\r\nEventBus.sub('ChangePage', () => {\r\n\tif (!currCrumb) return;\r\n\tcurrCrumb.update();\r\n});\r\n\r\nexport default {\r\n\tname: 'Crumb',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tshow: true,\r\n\t\t\tpath: []\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tjump (path) {\r\n\t\t\tthis.$router.push({path});\r\n\t\t\tvar first = path.split('?')[0];\r\n\t\t\tif (first === this.$route.path) EventBus.pub('ChangePage');\r\n\t\t},\r\n\t\tupdate () {\r\n\t\t\tvar path = null, type = '';\r\n\t\t\tif (this.$route.path === '/') {\r\n\t\t\t\tpath = null;\r\n\t\t\t}\r\n\t\t\telse if (this.$route.path === '/category') {\r\n\t\t\t\tif (!!this.$route.query && !!this.$route.query.c) {\r\n\t\t\t\t\tpath = this.$route.query.c.split(',').filter(c => c.length > 0);\r\n\t\t\t\t\ttype = 'viewer';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tpath = this.$route.path.split('/').filter(c => c.length > 0);\r\n\t\t\t\ttype = 'page';\r\n\t\t\t}\r\n\t\t\tif (!path) {\r\n\t\t\t\tthis.show = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.show = true;\r\n\t\t\tthis.path.splice(0, this.path.length);\r\n\t\t\tif (type === 'viewer' || type === 'page') path.pop();\r\n\r\n\t\t\tvar map = SiteMap, reqs = [];\r\n\t\t\tpath.some((p, i) => {\r\n\t\t\t\tif (!map) return true;\r\n\t\t\t\tvar entry = map[p];\r\n\t\t\t\tif (!entry) return true;\r\n\t\t\t\tvar item = { name: entry.name };\r\n\t\t\t\treqs.push(p);\r\n\t\t\t\tif (type === 'page') {\r\n\t\t\t\t\titem.path = '/' + reqs.join('/');\r\n\t\t\t\t}\r\n\t\t\t\telse if (type === 'viewer') {\r\n\t\t\t\t\titem.path = '/category?c=' + reqs.join(',')\r\n\t\t\t\t}\r\n\t\t\t\tmap = entry.subs;\r\n\t\t\t\tthis.path.push(item);\r\n\t\t\t});\r\n\t\t\tthis.path.unshift({ name: \"首页\", path: '/' });\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tthis.update();\r\n\t\tcurrCrumb = this;\r\n\t},\r\n\tdestroyed () {\r\n\t\tcurrCrumb = null;\r\n\t}\r\n}\r\n</script>","import mod from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./crumb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./crumb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./crumb.vue?vue&type=template&id=6a1b71d6&\"\nimport script from \"./crumb.vue?vue&type=script&lang=js&\"\nexport * from \"./crumb.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Schwarzschild/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"column\"},[_c('div',{staticClass:\"loading\"},[_vm._v(\"载入中……\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n\t<section class=\"column\">\r\n\t\t<div class=\"loading\">载入中……</div>\r\n\t</section>\r\n</template>\r\n\r\n<script>\r\nvar currColumn = null;\r\nEventBus.sub('ChangePage', (target) => {\r\n\tif (!currColumn) return;\r\n\tcurrColumn.update();\r\n});\r\n\r\nexport default {\r\n\tname: \"Column\",\r\n\tmethods: {\r\n\t\tasync update () {\r\n\t\t\tvar loading = this.$el.querySelector('div.loading');\r\n\t\t\tloading.innerHTML = '加载中……';\r\n\t\t\tloading.classList.remove('hide');\r\n\r\n\t\t\tvar category = null;\r\n\t\t\tif (this.$route.path === '/') {\r\n\t\t\t\tcategory = '/';\r\n\t\t\t}\r\n\t\t\telse if (this.$route.path === '/category') {\r\n\t\t\t\tif (!!this.$route.query && !!this.$route.query.c) {\r\n\t\t\t\t\tcategory = '/' + this.$route.query.c.split(',').filter(c => c.length > 0).join('/');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tloading.innerHTML = '本页无内容……';\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tloading.innerHTML = '本页无内容……';\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconsole.log(category);\r\n\r\n\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tloading.classList.add('hide');\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tcurrColumn = this;\r\n\t\tthis.update();\r\n\t},\r\n\tdestroyed () {\r\n\t\tcurrColumn = null;\r\n\t\tvar loading = this.$el.querySelector('div.loading');\r\n\t\tloading.classList.remove('hide');\r\n\t}\r\n}\r\n</script>","import mod from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./column.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Schwarzschild/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../Schwarzschild/node_modules/vue-loader/lib/index.js??vue-loader-options!./column.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./column.vue?vue&type=template&id=6dd19845&\"\nimport script from \"./column.vue?vue&type=script&lang=js&\"\nexport * from \"./column.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Schwarzschild/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import \"./assets/jLAss/index.js\"\nimport \"./assets/jLAss/namespace.js\"\nimport \"./assets/jLAss/extends/array.js\"\nimport \"./assets/jLAss/extends/class.js\"\nimport \"./assets/jLAss/extends/function.js\"\nimport \"./assets/jLAss/extends/math.js\"\nimport \"./assets/jLAss/extends/object.js\"\nimport \"./assets/jLAss/extends/string.js\"\nimport \"./assets/jLAss/extends/symbol.js\"\nimport \"./assets/jLAss/extends/timer.js\"\nimport \"./assets/jLAss/utils/datetime.js\"\nimport \"./assets/Asimov/markup.js\"\nimport \"./assets/Asimov/extensions.js\"\n\nimport './assets/js/eventbus.js'\r\nimport './assets/js/markup-footnote.js'\r\n\r\nimport Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport NavBar from '@/components/navbar.vue'\r\nimport NavMenuBar from '@/components/navmenubar.vue'\r\nimport NavMenuItem from '@/components/navmenuitem.vue'\r\nimport TailBar from '@/components/tail.vue'\r\nimport Crumb from '@/components/crumb.vue'\r\nimport Column from '@/components/column.vue'\r\n\r\nrequire('./assets/css/main.css');\r\nrequire('./assets/css/navbar.css');\r\nrequire('./assets/css/tail.css');\r\nrequire('./assets/css/crumb.css');\r\nrequire('./assets/css/column.css');\r\nrequire('./assets/css/markup.css');\r\n\r\nVue.component('NavBar', NavBar);\r\nVue.component('NavMenuBar', NavMenuBar);\r\nVue.component('NavMenuItem', NavMenuItem);\r\nVue.component('TailBar', TailBar);\r\nVue.component('Crumb', Crumb);\r\nVue.component('Column', Column);\r\n\r\nVue.config.productionTip = false;\r\n\r\nvar FootNoteUnInited = true;\r\nconst mutationObserver = new MutationObserver(mutations => {\r\n\tvar need_markup = false;\r\n\tmutations.forEach((item, index) => {\r\n\t\tif (\r\n\t\t\titem.target.id === 'container' &&\r\n\t\t\t[].some.call(item.addedNodes, node => !!node.classList && node.classList.contains('container'))\r\n\t\t) need_markup = true;\r\n\t});\r\n\tif (!need_markup) return;\r\n\r\n\tvar markups = document.querySelectorAll('.markup');\r\n\t[].forEach.call(markups, (mu) => {\r\n\t\tvar content = mu.innerText;\r\n\t\tcontent = content.replace(/^\\t+|\\t+$/g, '\\n');\r\n\t\tcontent = MarkUp.parse(content, {\r\n\t\t\ttoc: mu.classList.contains('toc'),\r\n\t\t\tglossary: mu.classList.contains('glossary'),\r\n\t\t\tresources: mu.classList.contains('resources'),\r\n\t\t\tshowtitle: false,\r\n\t\t\tshowauthor: false,\r\n\t\t\tclassname: 'markup-content',\r\n\t\t});\r\n\t\tmu.innerHTML = content;\r\n\t\tmu.classList.remove('markup');\r\n\t});\r\n\tif (FootNoteUnInited) {\r\n\t\tFootNoteUnInited = false;\r\n\t\tInitNotes(document.body.querySelector('#container'));\r\n\t\tMathJax.Hub.Config({\r\n\t\t\textensions: [\"tex2jax.js\"],\r\n\t\t\tTeX: {\r\n\t\t\t\textensions: [\"AMSmath.js\", \"AMSsymbols.js\"]\r\n\t\t\t},\r\n\t\t\tjax: [\"input/TeX\", \"output/HTML-CSS\"],\r\n\t\t\ttex2jax: {\r\n\t\t\t\tinlineMath: [[\"$\",\"$\"]]}\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\telse {\r\n\t\tMathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\r\n\t}\r\n});\r\nmutationObserver.observe(document.body, {\r\n\tchildList: true,\r\n\tsubtree: true,\r\n});\r\n\r\nnew Vue({\r\n\trouter,\r\n\trender: function (h) { return h(App) }\r\n}).$mount('#app');","const ModuleList = new Map;\nglobal._ = (path, mod) => {\n\tpath = path.split(/[\\/\\\\,\\.\\:;]/).map(p => p.trim()).filter(p => p.length > 0);\n\tif (path.length < 1) return global;\n\tpath = path.join(\"/\");\n\tif (!!mod) {\n\t\tModuleList.set(path, mod);\n\t\treturn mod\n\t}\n\tmod = ModuleList.get(path);\n\tif (!!mod) return mod;\n\tvar names = [...ModuleList.keys()];\n\tnames = names.filter(n => n.indexOf(path) === 0);\n\tmod = {};\n\tnames.forEach(n => {\n\t\tvar m = ModuleList.get(n);\n\t\tn = n.replace(path + '/', '');\n\t\tn = n.split('/');\n\t\tvar l = n.pop();\n\t\tvar t = mod;\n\t\tn.forEach(m => {\n\t\t\tif (!!t[m]) t[m] = {};\n\t\t\tt = t[m];\n\t\t});\n\t\tt[l] = m;\n\t});\n\treturn mod;\n};\n\n_('Utils', {});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('NavBar'),_c('div',{attrs:{\"id\":\"container\"}},[_c('router-view')],1),_c('div',{attrs:{\"id\":\"footnoteFrame\"}}),_c('TailBar')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Name:\tString Utils\n * Desc:    String 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.2\n * Date:\t2019.06.05\n */\n\nconst KeySet = [];\n(() => {\n\tfor (let i = 0; i < 10; i ++) KeySet.push('' + i);\n\tfor (let i = 65; i <= 90; i ++) KeySet.push(String.fromCharCode(i));\n\tfor (let i = 97; i <= 122; i ++) KeySet.push(String.fromCharCode(i));\n}) ();\nString.random = (len) => {\n\tvar rnd = \"\";\n\tfor (let i = 0; i < len; i ++) {\n\t\trnd += KeySet[Math.floor(KeySet.length * Math.random())];\n\t}\n\treturn rnd;\n};\nString.blank = (len, block = ' ') => {\n\tvar line = '';\n\tfor (let i = 0; i < len; i ++) line += block;\n\treturn line;\n};\nString.is = (str) => {\n\tif (str instanceof String) return true;\n\tif (typeof str === 'string') return true;\n\treturn false;\n};\nString.prototype.copy = String.prototype.duplicate = function () {\n\treturn String(this).toString();\n};\nObject.defineProperty(String.prototype, 'copy', { enumerable: false });\nObject.defineProperty(String.prototype, 'duplicate', { enumerable: false });\n\nif (global._env === \"node\") {\n\tObject.defineProperty(String.prototype, 'byteLength', {\n\t\tget () {\n\t\t\tvar buf = Buffer.from(this, 'utf8');\n\t\t\treturn buf.byteLength;\n\t\t},\n\t\tenumerable: false,\n\t\tconfigurable: false\n\t});\n}","window.InitNotes = UI => {\r\n\tconst NoteFrame = document.querySelector('#footnoteFrame');\r\n\tNoteFrame._status = 0;\r\n\r\n\tUI.addEventListener('transitionstart', async evt => {\r\n\t\tvar ele = evt.target, cn = ele.className;\r\n\t\tif (cn === 'notemark' || cn ==='terminology') {\r\n\t\t\tvar css = ele.computedStyleMap();\r\n\t\t\tcss = css.get('text-decoration').toString();\r\n\t\t\tvar enter = false;\r\n\t\t\tif (css.indexOf('underline') >= 0) enter = true;\r\n\r\n\t\t\tif (enter) {\r\n\t\t\t\tvar name = ele.getAttribute('href');\r\n\t\t\t\tif (name.substr(0, 1) !== '#') return;\r\n\t\t\t\tname = name.substring(1, name.length);\r\n\t\t\t\tvar info = UI.querySelector('a[name=\"' + name + '\"]');\r\n\t\t\t\tif (!info) return;\r\n\t\t\t\tvar content = info.parentElement.innerHTML.replace(info.outerHTML, '');\r\n\t\t\t\tvar html = '';\r\n\r\n\t\t\t\tif (cn === 'terminology') {\r\n\t\t\t\t\thtml = '<p class=\"note-title\">' + ele.innerText + '</p>';\r\n\t\t\t\t}\r\n\t\t\t\thtml += '<p class=\"note-content\">' + content + '</p>';\r\n\t\t\t\tNoteFrame.innerHTML = html;\r\n\t\t\t\tNoteFrame._status = 1;\r\n\r\n\t\t\t\tvar rect = ele.getBoundingClientRect();\r\n\t\t\t\tvar isTop = true, isLeft = true;\r\n\t\t\t\tvar left = rect.left - 10;\r\n\t\t\t\tvar top = rect.top + rect.height + 10;\r\n\t\t\t\tif (left > window.innerWidth * 0.6) {\r\n\t\t\t\t\tisLeft = false;\r\n\t\t\t\t\tleft = window.innerWidth - rect.right;\r\n\t\t\t\t}\r\n\t\t\t\tif (top > window.innerHeight * 0.7) {\r\n\t\t\t\t\tisTop = false;\r\n\t\t\t\t\ttop = window.innerHeight - rect.top;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isLeft) {\r\n\t\t\t\t\tNoteFrame.style.left = left + 'px';\r\n\t\t\t\t\tNoteFrame.style.right = '';\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tNoteFrame.style.left = '';\r\n\t\t\t\t\tNoteFrame.style.right = left + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tif (isTop) {\r\n\t\t\t\t\tNoteFrame.style.top = top + 'px';\r\n\t\t\t\t\tNoteFrame.style.bottom = '';\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tNoteFrame.style.top = '';\r\n\t\t\t\t\tNoteFrame.style.bottom = top + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tNoteFrame.style.display = 'block';\r\n\t\t\t\tawait wait(50);\r\n\t\t\t\tNoteFrame.style.opacity = '1';\r\n\t\t\t\tNoteFrame._status = 2;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tNoteFrame.style.opacity = '0';\r\n\t\t\t\tawait wait(200);\r\n\t\t\t\tif (NoteFrame._status === 2) {\r\n\t\t\t\t\tNoteFrame.style.display = 'none';\r\n\t\t\t\t\tNoteFrame._status = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};","/**\n * Name:\tMath Utils\n * Desc:    Math 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.1\n * Date:\t2017.11.09\n */\n\nMath.pick = list => {\n\tif (Array.is(list)) {\n\t\tlet i = Math.floor(Math.random() * list.length);\n\t\treturn list[i];\n\t}\n\telse if (!isNaN(list)) {\n\t\treturn Math.random() <= list;\n\t}\n\treturn null;\n};\nMath.range = (l, r) => {\n\tif (isNaN(r)) {\n\t\tr = l;\n\t\tl = 0;\n\t}\n\treturn l + Math.random() * (r - l);\n};","<template>\r\n\t<div class=\"nav-bar\">\r\n\t\t<router-link to=\"/\">首页</router-link>\r\n\t\t<i class=\"fas fa-caret-right\" />\r\n\t\t<div class=\"nav-container\">\r\n\t\t\t<NavMenuBar :menu=\"menu\" />\r\n\t\t</div>\r\n\t\t<div class=\"about-bar nav-container right\">\r\n\t\t\t<NavMenuBar :menu=\"aboutMenu\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst generateSiteMap = menu => {\r\n\tvar map = {};\r\n\tmenu.forEach(m => {\r\n\t\tvar item = { \"name\": m.name };\r\n\t\tif (!!m.subs) item.subs = generateSiteMap(m.subs);\r\n\t\tmap[m.category] = item;\r\n\t});\r\n\treturn map;\r\n};\r\n\r\nexport default {\r\n\tname: 'NavBar',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tmenu: [\n\t{\n\t\t\"name\": \"随笔\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"essay\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"头脑风暴\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"mindstorm\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"闲扯\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"issue\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"格物致知\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"science\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"数学\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"math\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"数论\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"number\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"几何\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"geometry\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"物理\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"physics\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"虚构\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"virtual\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"算法信息论\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"AIT\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"虚拟世界\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"novel\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"科幻\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"scific\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"奇幻\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"magic\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"推理\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"detective\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"实用工具\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"tools\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"写字板\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"writer\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"计算器\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"calculator\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"休闲娱乐\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"entertain\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"三消俄罗斯方块\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"tritetris\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"无尽2048\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"infinity2048\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"诡异弹球\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"bunceball\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"普通的五子棋\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"rushgo\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"资料库\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"library\"\n\t}\n],\r\n\t\t\taboutMe: \"aboutMe\"\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\taboutMenu () {\r\n\t\t\tvar menu = [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '本站',\r\n\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\tcategory: 'about'\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tif (!!this.aboutMe) {\r\n\t\t\t\tmenu.unshift({\r\n\t\t\t\t\tname: '站长',\r\n\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\tcategory: this.aboutMe\r\n\t\t\t\t});\r\n\t\t\t\tmenu = [{\r\n\t\t\t\t\tname: '关于',\r\n\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\tcategory: '',\r\n\t\t\t\t\tsubs: menu\r\n\t\t\t\t}];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmenu[0].name = '关于';\r\n\t\t\t}\r\n\t\t\treturn menu;\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tglobal.SiteMap = generateSiteMap(this.menu);\r\n\t}\r\n}\r\n</script>","/**\n * Name:\tFunction Utils\n * Desc:    Function 类拓展工具\n * \t\t\t函数的 promisify、once 化函数、stack & pump 化函数\n * Author:\tLostAbaddon\n * Version:\t0.0.3\n * Date:\t2018.11.05\n */\n\nFunction.is = obj => obj instanceof Function;\nglobal.AsyncFunction = (async () => {}).constructor;\nAsyncFunction.is = obj => obj instanceof AsyncFunction;\n\n/**\n * 将函数Promise化\n * 可设置超时实现\n */\n\nconst promisify = (fn) => {\n\tif (!(fn instanceof Function)) return null;\n\tif (!!fn._promised) return fn;\n\tvar afun = (...args) => new Promise((res, rej) => {\n\t\ttry {\n\t\t\tfn(...args, res, rej);\n\t\t\t// setImmediate(() => fn(...args, res, rej));\n\t\t}\n\t\tcatch (err) {\n\t\t\trej(err);\n\t\t}\n\t});\n\tafun._promised = true;\n\tafun._original = fn;\n\treturn afun;\n};\npromisify.withTimeout = (fn) => {\n\tif (!(fn instanceof Function)) return null;\n\tif (!!fn._promised) return fn;\n\tvar afun = (...args) => {\n\t\tvar start_time, tocb = null, todelay = -1, towatch = null, rej;\n\t\tvar prom = new Promise((_res, _rej) => {\n\t\t\trej = _rej;\n\t\t\tvar res = (...args) => {\n\t\t\t\tif (!!towatch) clearTimeout(towatch);\n\t\t\t\ttowatch = null;\n\t\t\t\t_res(...args);\n\t\t\t};\n\t\t\ttry {\n\t\t\t\tstart_time = new Date().getTime();\n\t\t\t\tfn(...args, res, rej);\n\t\t\t\t// setImmediate(() => fn(...args, res, rej));\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\trej(err);\n\t\t\t}\n\t\t});\n\t\tprom.timeout = (...args) => {\n\t\t\tif (args[0] instanceof Number) args[0] = args[0] * 1;\n\t\t\tif (!isNaN(args[0])) {\n\t\t\t\tif (args[1] instanceof Function) tocb = args[1];\n\t\t\t\ttodelay = args[0] >= 0 ? args[0] : -1;\n\t\t\t\tif (todelay < 0 && !!towatch) {\n\t\t\t\t\tclearTimeout(towatch);\n\t\t\t\t\ttowatch = null;\n\t\t\t\t}\n\t\t\t\telse if (todelay >= 0) {\n\t\t\t\t\tif (!!towatch) clearTimeout(towatch);\n\t\t\t\t\tlet n = new Date().getTime();\n\t\t\t\t\ttowatch = setTimeout(() => {\n\t\t\t\t\t\tif (!!tocb) tocb();\n\t\t\t\t\t\trej(new Error('Timeout!'));\n\t\t\t\t\t}, todelay - (n - start_time));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (args[0] instanceof Function) {\n\t\t\t\ttocb = args[0];\n\t\t\t}\n\t\t\treturn prom;\n\t\t};\n\t\treturn prom;\n\t};\n\tafun._promised = true;\n\tafun._original = fn;\n\treturn afun;\n};\n\nconst fun_prep = (promisible, ...args) => {\n\tvar funs, data, cb;\n\tif (args[0] instanceof Array) {\n\t\tfuns = args[0];\n\t\tdata = args[1];\n\t\tcb = args[2];\n\t\tif (!cb) {\n\t\t\tcb = data;\n\t\t\tdata = null;\n\t\t}\n\t}\n\telse {\n\t\tcb = args.pop();\n\t\tif (args[args.length - 1] instanceof Function) data = null;\n\t\telse data = args.pop();\n\t\tfuns = args;\n\t}\n\tif (!!promisible) funs = funs.map(f => promisify(f));\n\telse funs = funs.map(f => f._original || f);\n\treturn [funs, data, cb];\n};\n\npromisify.s = promisify.serial = promisify(async (...args) => {\n\tvar [funs, data, res] = fun_prep(true, ...args);\n\tfor (let fun of funs) {\n\t\tlet v;\n\t\tif (data === null || data === undefined) v = await fun();\n\t\telse v = await fun(data);\n\t\tif (v !== undefined) data = v;\n\t}\n\tres(data);\n});\npromisify.p = promisify.parallel = promisify(async (...args) => {\n\tvar [funs, data, res] = fun_prep(true, ...args);\n\tvar tasks = funs.length, results = [];;\n\tfuns.forEach(async (f, i) => {\n\t\tvar v;\n\t\tif (data === null || data === undefined) v = await f();\n\t\telse v = await f(data);\n\t\tresults[i] = v;\n\t\ttasks --;\n\t\tif (tasks > 0) return;\n\t\tres(results);\n\t});\n});\npromisify.a = promisify.any = promisify(async (...args) => {\n\tvar [funs, data, res] = fun_prep(true, ...args);\n\tfuns.forEach(async (f, i) => {\n\t\tvar v;\n\t\tif (data === null || data === undefined) v = await f();\n\t\telse v = await f(data);\n\t\tres(v);\n\t});\n});\n\nglobal.promisify = Function.promisify = promisify;\n\n/**\n * 将函数一次化，此后只返回第一次运行的结果，支持Promisify对象\n * oncefun.refresh可重新执行\n */\nglobal.oncilize = Function.oncilize = fn => {\n\tvar called = false, value, ofn;\n\tif (fn._promised) {\n\t\tofn = (...args) => new Promise(async (res, rej) => {\n\t\t\tif (called) {\n\t\t\t\tawait waitLoop();\n\t\t\t\tres(value);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcalled = true;\n\t\t\tvalue = await fn(...args);\n\t\t\tres(value);\n\t\t});\n\t}\n\telse {\n\t\tofn = (...args) => {\n\t\t\tif (called) return value;\n\t\t\tcalled = true;\n\t\t\tvalue = fn(...args);\n\t\t\treturn value;\n\t\t};\n\t}\n\tofn.refresh = () => called = false;\n\treturn ofn;\n};\n\n/**\n * 将函数堆栈化，可将一段时间内的输入都保存下来，只输出最后一次（stack模式）或者所有都输出（pump模式），默认为stack模式\n * pumpfun.dump可立即执行\n */\nglobal.pumplize = Function.pumplize = (fn, cb, last_only=true) => {\n\tvar stack = [], start_time = null, timeout = 100, timer = null;\n\tvar done = () => {\n\t\tstart_time = null;\n\t\tvar args = stack;\n\t\tstack = [];\n\t\tif (last_only) cb(fn(...args));\n\t\telse cb(fn(args));\n\t};\n\tvar pfn = (...args) => {\n\t\tif (start_time === null) {\n\t\t\tstart_time = Date.now();\n\t\t\tif (timer) clearTimeout(timer);\n\t\t\ttimer = setTimeout(done, timeout);\n\t\t}\n\t\tvar n = Date.now();\n\t\tif (n - start_time >= timeout) {\n\t\t\tdone();\n\t\t}\n\t\telse {\n\t\t\tif (last_only) stack = args;\n\t\t\telse stack.push(args);\n\t\t}\n\t};\n\tpfn.dump = () => {\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = null;\n\t\tdone();\n\t};\n\tpfn.timeout = to => {\n\t\tif (isNaN(to)) return pfn;\n\t\ttimeout = to;\n\t\tif (start_time === null) return pfn;\n\t\tvar n = Date.now();\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = setTimeout(done, timeout + start_time - n);\n\t\treturn pfn;\n\t};\n\treturn pfn;\n};","/**\n * Name:\tClass Utils\n * Desc:    Class 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.1\n * Date:\t2017.11.09\n */\n\nglobal.ProtoType = Function.prototype;\nObject.defineProperty(ProtoType, 'kerneltype', {\n\tget () {\n\t\tif (this === ProtoType) return this;\n\t\tif (this.__proto__ === ProtoType) return this;\n\t\tif (!this.__proto__.kerneltype) return this;\n\t\treturn this.__proto__.kerneltype;\n\t},\n\tenumerable: false,\n\tconfigurable: false\n});\n\nObject.prototype.isSubClassOf = function (target) {\n\tif (typeof this !== 'function') return false;\n\tvar cls = this;\n\twhile (!!cls) {\n\t\tif (cls === target) return true;\n\t\tcls = Object.getPrototypeOf(cls);\n\t}\n\treturn false;\n};\nObject.defineProperty(Object.prototype, 'isSubClassOf', { enumerable: false });\n","/**\n * Name:\tArray Utils\n * Desc:    Array 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.4\n * Date:\t2019.06.04\n */\n\nArray.prototype.copy = function () {\n\treturn this.map(ele => ele);\n};\nArray.prototype.duplicate = function () {\n\tvar copy = this.map(value => {\n\t\tif (Object.isBasicType(value)) {\n\t\t\treturn value.valueOf();\n\t\t} else if (value === null || value === undefined) {\n\t\t\treturn value;\n\t\t} else if (value instanceof Date) {\n\t\t\treturn new Date(value.getTime());\n\t\t} else if (typeof value === \"object\" && !(value instanceof Promise)) {\n\t\t\treturn value.duplicate();\n\t\t}\n\t});\n\treturn Object.assign([], this, copy);\n};\nArray.prototype.randomize = function () {\n\tvar l = this.length;\n\tvar result = Array.random(l);\n\tvar self = this;\n\tresult = result.map(i => self[i]);\n\treturn result;\n};\nArray.prototype.remove = function (obj) {\n\tvar index = this.indexOf(obj);\n\tif (index < 0) return this;\n\tthis.splice(index, 1);\n\treturn this;\n};\nArray.prototype.clear = function (obj) {\n\tthis.splice(0, this.length);\n\treturn this;\n};\nArray.prototype.translate = function (offset) {\n\tvar c = this.copy();\n\tif (isNaN(offset)) return c;\n\tvar l = this.length;\n\tif (offset >= l || offset <= -l) return c;\n\tif (offset > 0) {\n\t\tfor (let i = 0, j = offset; i < l - offset; i ++, j ++) {\n\t\t\tc[i] = this[j];\n\t\t}\n\t\tfor (let i = l - offset, j = 0; i < l; i ++, j ++) {\n\t\t\tc[i] = this[j];\n\t\t}\n\t}\n\telse {\n\t\toffset = - offset;\n\t\tfor (let i = 0, j = offset; i < l - offset; i ++, j ++) {\n\t\t\tc[j] = this[i];\n\t\t}\n\t\tfor (let i = l - offset, j = 0; i < l; i ++, j ++) {\n\t\t\tc[j] = this[i];\n\t\t}\n\t}\n\treturn c;\n};\nArray.prototype.query = function (fun) {\n\tvar index = -1;\n\tthis.some((d, i) => {\n\t\tconst has = !!fun(d);\n\t\tif (has) index = i;\n\t\treturn has;\n\t});\n\treturn index;\n};\nArray.prototype.pick = function () {\n\tvar l = this.length;\n\tvar result = Math.floor(Math.random() * l);\n\treturn this[result];\n};\nArray.prototype.equal = function (data) {\n\tif (!(data instanceof Array)) return false;\n\tvar len = this.byteLength;\n\tif (len != data.byteLength) return false;\n\tfor (let i = 0; i < len; i ++) {\n\t\tif (this[i] !== data[i]) return false;\n\t}\n\treturn true;\n};\nObject.defineProperty(Array.prototype, 'first', {\n\tget () {\n\t\treturn this[0];\n\t},\n\tenumerable: false,\n\tconfigurable: false\n});\nObject.defineProperty(Array.prototype, 'last', {\n\tget () {\n\t\treturn this[this.length - 1];\n\t},\n\tenumerable: false,\n\tconfigurable: false\n});\nObject.defineProperty(Array.prototype, 'copy', { enumerable: false });\nObject.defineProperty(Array.prototype, 'duplicate', { enumerable: false });\nObject.defineProperty(Array.prototype, 'remove', { enumerable: false });\nObject.defineProperty(Array.prototype, 'clear', { enumerable: false });\nObject.defineProperty(Array.prototype, 'randomize', { enumerable: false });\nObject.defineProperty(Array.prototype, 'translate', { enumerable: false });\nObject.defineProperty(Array.prototype, 'query', { enumerable: false });\nObject.defineProperty(Array.prototype, 'pick', { enumerable: false });\nObject.defineProperty(Array.prototype, 'equal', { enumerable: false });\nArray.is = obj => obj instanceof Array;\nArray.generate = (total, generator = i => i) => {\n\tvar result = [];\n\tif (Function.is(generator)) for (let i = 0; i < total; i ++) result.push(generator(i));\n\telse for (let i = 0; i < total; i ++) result.push(generator);\n\treturn result;\n};\nArray.random = (total, generator = i => i) => {\n\tvar origin = [], result = [];\n\tfor (let i = 0; i < total; i ++) origin.push(i);\n\tfor (let i = 0; i < total; i ++) {\n\t\tlet j = Math.floor(Math.random() * origin.length);\n\t\tresult.push(generator(origin[j]));\n\t\torigin.splice(j, 1);\n\t}\n\treturn result;\n};\n\nUint8Array.prototype.__proto__.copy = function () {\n\treturn new Uint8Array(this);\n};\nUint8Array.prototype.__proto__.duplicate = Uint8Array.prototype.__proto__.copy;\nObject.defineProperty(Uint8Array.prototype.__proto__, 'copy', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype.__proto__, 'duplicate', { enumerable: false });\nif (global._env === \"node\") {\n\tUint8Array.prototype.__proto__.toBuffer = function () {\n\t\tvar buffer = Buffer.alloc(this.length, this);\n\t\treturn buffer;\n\t};\n\tUint8Array.prototype.__proto__.toBase64 = function () {\n\t\tvar buffer = Buffer.alloc(this.length, this);\n\t\treturn buffer.toString('base64');\n\t};\n\tObject.defineProperty(Uint8Array.prototype.__proto__, 'toBuffer', { enumerable: false });\n\tObject.defineProperty(Uint8Array.prototype.__proto__, 'toBase64', { enumerable: false });\n\n\tUint8Array.fromString = (str, type='utf8') => Uint8Array.fromBuffer(Buffer.from(str, type));\n\tUint8Array.fromBase64 = base64 => {\n\t\tvar buf = Buffer.from(base64, 'base64');\n\t\treturn Uint8Array.fromBuffer(buf);\n\t}\n\tUint8Array.fromBuffer = buffer => new Uint8Array(buffer);\n\tUint16Array.fromBuffer = buffer => new Uint16Array(buffer);\n\tUint32Array.fromBuffer = buffer => new Uint32Array(buffer);\n\tInt8Array.fromBuffer = buffer => new Int8Array(buffer);\n\tInt16Array.fromBuffer = buffer => new Int16Array(buffer);\n\tInt32Array.fromBuffer = buffer => new Int32Array(buffer);\n\tFloat32Array.fromBuffer = buffer => new Float32Array(buffer);\n\tFloat64Array.fromBuffer = buffer => new Float64Array(buffer);\n\tBigInt64Array.fromBuffer = buffer => new BigInt64Array(buffer);\n\tBigUint64Array.fromBuffer = buffer => new BigUint64Array(buffer);\n}\n\nUint8Array.prototype.sub = function (from, length) {\n\tif (isNaN(from)) return this.copy();\n\tif (isNaN(length)) {\n\t\tlength = from;\n\t\tfrom = 0;\n\t}\n\treturn new Uint8Array(Buffer.from(this).subarray(from, from + length));\n};\nUint8Array.prototype.concat = function (array) {\n\tif (!(array instanceof Uint8Array)) return this.copy();\n\tvar result = Buffer.concat([this, array]);\n\treturn Buffer.from(result);\n};\nUint8Array.prototype.padEnd = function (len, pad = 0) {\n\tif (len <= this.length) return this.copy();\n\tif (!Number.is(pad) || pad < 0 || pad > 255) pad = 0;\n\tvar result = new Uint8Array(len);\n\tfor (let i = 0; i < this.length; i ++) result[i] = this[i];\n\tfor (let i = this.length; i < len; i ++) result[i] = pad;\n\treturn result;\n};\nUint8Array.prototype.padStart = function (len, pad = 0) {\n\tif (len <= this.length) return this.copy();\n\tif (!Number.is(pad) || pad < 0 || pad > 255) pad = 0;\n\tvar result = new Uint8Array(len);\n\tlen = len - this.length;\n\tfor (let i = 0; i < len; i ++) result[i] = pad;\n\tfor (let i = 0; i < this.length; i ++) result[i + len] = this[i];\n\treturn result;\n};\nUint8Array.prototype.equal = function (data) {\n\tif (!(data instanceof Uint8Array)) return false;\n\tvar len = this.byteLength;\n\tif (len != data.byteLength) return false;\n\tfor (let i = 0; i < len; i ++) {\n\t\tif (this[i] !== data[i]) return false;\n\t}\n\treturn true;\n};\nObject.defineProperty(Uint8Array.prototype, 'sub', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'concat', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'padEnd', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'padStart', { enumerable: false });\nObject.defineProperty(Uint8Array.prototype, 'equal', { enumerable: false });","/**\n *\tTitle: MarkUp Parser\n *\tAuthor: LostAbaddon\n *\tEmail: LostAbaddon@gmail.com\n *\tVersion: 1.0.0\n *\tDate: 2020.03.18\n */\n\n(() => {\n\tconst SymHidden = Symbol('HIDDEN');\n\tconst MetaWords = ['GOD', 'THEONE', 'TITLE', 'AUTHOR', 'EMAIL', 'DESCRIPTION', 'STYLE', 'SCRIPT', 'DATE', 'KEYWORD', 'GLOSSARY', 'TOC', 'REF', 'LINK', 'IMAGES', 'VIDEOS', 'AUDIOS', 'ARCHOR', 'SHOWTITLE', 'SHOWAUTHOR', 'RESOURCES'];\n\tconst PreservedKeywords = ['toc', 'glossary', 'resources', 'images', 'videos', 'audios'];\n\tconst ParagraphTags = ['article', 'section', 'div', 'p', 'header', 'footer', 'aside', 'ul', 'ol', 'li', 'blockquote', 'pre', 'figure', 'figcaption'];\n\n\tconst PreserveWords = {\n\t\t'\\\\': 'slash',\n\t\t'/': 'antislash',\n\t\t'_': 'underline',\n\t\t'*': 'star',\n\t\t'+': 'plus',\n\t\t'-': 'minus',\n\t\t'=': 'equal',\n\t\t'`': 'dash',\n\t\t'~': 'wavy',\n\t\t'!': 'bang',\n\t\t'?': 'question',\n\t\t':': 'colon',\n\t\t'@': 'at-circle',\n\t\t'#': 'sharp',\n\t\t'^': 'angle',\n\t\t'$': 'dollar',\n\t\t'%': 'percent',\n\t\t'(': 'left-bracket',\n\t\t')': 'right-bracket',\n\t\t'[': 'left-square-bracket',\n\t\t']': 'right-square-bracket',\n\t\t'{': 'left-curve-bracket',\n\t\t'}': 'right-curve-bracket',\n\t\t'|': 'vertical-line',\n\t};\n\tconst ReversePreserveWords = {};\n\tObject.keys(PreserveWords).forEach(key => ReversePreserveWords[PreserveWords[key].toLowerCase()] = key);\n\tReversePreserveWords['$'] = '&#36;';\n\tMetaWords.forEach((w, i) => MetaWords[i] = w.toLowerCase());\n\n\tconst MarkUp = {};\n\tconst LineRender = {}; // Level 小于 0 的不做保留字替换，从 0 开始作保留字替换\n\tconst BlockRender = {}; // 主体处理结束后的后续处理插件\n\tconst FinalRender = {}; // 主体处理结束后的后续处理插件\n\n\tconst generateRandomKey = (len=8) => {\n\t\tvar result = '';\n\t\tfor (let i = 0; i < len; i ++) {\n\t\t\tresult += Math.floor(Math.random() * 10) + '';\n\t\t}\n\t\treturn result;\n\t};\n\n\tMarkUp.addExtension = (ext, isInline=0, level=5) => {\n\t\tif (isInline === 0) {\n\t\t\tlet indexes = LineRender['_indexes_'];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tLineRender['_indexes_'] = indexes;\n\t\t\t}\n\t\t\tif (!indexes.includes(level)) {\n\t\t\t\tindexes.push(level);\n\t\t\t\tindexes.sort((a, b) => a - b);\n\t\t\t}\n\t\t\tindexes = LineRender[level];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tLineRender[level] = indexes;\n\t\t\t}\n\t\t\tindexes.push(ext);\n\t\t}\n\t\telse if (isInline === 1) {\n\t\t\tlet indexes = BlockRender['_indexes_'];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tBlockRender['_indexes_'] = indexes;\n\t\t\t}\n\t\t\tif (!indexes.includes(level)) {\n\t\t\t\tindexes.push(level);\n\t\t\t\tindexes.sort((a, b) => a - b);\n\t\t\t}\n\t\t\tindexes = BlockRender[level];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tBlockRender[level] = indexes;\n\t\t\t}\n\t\t\tindexes.push(ext);\n\t\t}\n\t\telse if (isInline === 2) {\n\t\t\tlet indexes = FinalRender['_indexes_'];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tFinalRender['_indexes_'] = indexes;\n\t\t\t}\n\t\t\tif (!indexes.includes(level)) {\n\t\t\t\tindexes.push(level);\n\t\t\t\tindexes.sort((a, b) => a - b);\n\t\t\t}\n\t\t\tindexes = FinalRender[level];\n\t\t\tif (!indexes) {\n\t\t\t\tindexes = [];\n\t\t\t\tFinalRender[level] = indexes;\n\t\t\t}\n\t\t\tindexes.push(ext);\n\t\t}\n\t};\n\n\t// 准备文档，进行必要的预处理\n\tconst prepare = text => {\n\t\ttext = '\\n' + text + '\\n';\n\t\ttext = text.replace(/\\r\\n/g, '\\n').replace(/\\n([ 　]+)/g, (match, spaces) => {\n\t\t\tvar len = spaces.replace(/　/g, '  ').length;\n\t\t\tif (len < 4) return '\\n';\n\t\t\telse return match;\n\t\t});\n\t\ttext = text.replace(/(\\n[ 　\\t>\\-\\+\\*~(\\d+\\.)]+)(`{3,}|~{3,}|\\${2})/g, (match, pre, post) => {\n\t\t\treturn pre + '\\n' + post;\n\t\t});\n\t\tMetaWords.forEach(key => {\n\t\t\tvar reg = new RegExp('([\\\\w\\\\W]? *)\\\\[' + key + '\\\\]( *[\\\\w\\\\W]?)', 'gi');\n\t\t\ttext = text.replace(reg, (match, pre, post) => {\n\t\t\t\tif (pre === ']' || post === '[' || post === '(') return match;\n\t\t\t\treturn pre + '%' + key + '%' + post;\n\t\t\t});\n\t\t});\n\t\treturn text;\n\t};\n\n\t// 规整文档\n\tconst regularize = text => {\n\t\ttext = text.replace(/^\\n+|\\n+$/gi, '');\n\t\ttext = text.replace(/\\n{3,}/gi, '\\n\\n\\n');\n\t\treturn text;\n\t};\n\n\t// 解析段内样式\n\tconst parseLine = (line, doc, currLevel=-Infinity, caches) => {\n\t\tvar indexes = LineRender['_indexes_'];\n\t\tif (!indexes) return '';\n\n\t\tvar outmost = !caches;\n\t\tcaches = caches || {}\n\t\tindexes.some(level => {\n\t\t\tif (currLevel > level) return true;\n\t\t\tif (level >= 0) return true;\n\t\t\tvar exts = LineRender[level], changed = true;\n\t\t\twhile (changed) {\n\t\t\t\tchanged = false;\n\t\t\t\texts.forEach(ext => {\n\t\t\t\t\tvar c;\n\t\t\t\t\t[line, c] = ext.parse(line, doc, caches);\n\t\t\t\t\tif (c) changed = true;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tline = convertPreserves(line);\n\n\t\tindexes.forEach(level => {\n\t\t\tif (currLevel > level) return;\n\t\t\tif (level < 0) return;\n\t\t\tvar exts = LineRender[level], changed = true;\n\t\t\twhile (changed) {\n\t\t\t\tchanged = false;\n\t\t\t\texts.forEach(ext => {\n\t\t\t\t\tvar c;\n\t\t\t\t\t[line, c] = ext.parse(line, doc, caches);\n\t\t\t\t\tif (c) changed = true;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tif (outmost) line = restorePreserves(line, caches);\n\t\treturn line;\n\t};\n\t// 解析段级样式\n\tconst parseSection = (content, doc, currLevel=0, caches) => {\n\t\tdoc.parseLevel ++;\n\n\t\tvar sections = [];\n\n\t\tvar outmost = false;\n\t\tif (!caches) {\n\t\t\toutmost = true;\n\t\t\tcaches = {};\n\t\t}\n\n\t\t// 先预判断每一段可能是什么\n\t\tvar blocks = []; // 行号，是否空行，疑似分割线，疑似引用，疑似列表，是否代码块首尾，疑似表格，是否公式首尾\n\t\tsections = content.split('\\n');\n\t\tsections.forEach((line, index) => {\n\t\t\t// 空行\n\t\t\tvar head = line.match(/^[ 　\\t]*$/);\n\t\t\tif (line.length === 0) {\n\t\t\t\tblocks.push([index, 1, 0, 0, 0, 0, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 分割线\n\t\t\tif (line.match(/^[=\\-\\+\\*~\\._#]{3,}$/)) {\n\t\t\t\tif (!!line.match(/^\\-+$|^=+$/)) blocks.push([index, 0, 2, 0, 0, 0, 0, 0]);\n\t\t\t\telse if (!!line.match(/^~+$/)) blocks.push([index, 0, 2, 0, 0, 1, 0, 0]);\n\t\t\t\telse blocks.push([index, 0, 1, 0, 0, 0, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 代码块\n\t\t\thead = line.match(/^(`{3,}|~{3,})[ 　\\t]*([\\w\\-\\.\\+=\\?\\~\\\\\\/]*)$/);\n\t\t\tif (!!head) {\n\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 0, 0, 2, 0, 0]);\n\t\t\t\telse blocks.push([index, 0, 0, 0, 0, 1, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 公式块\n\t\t\thead = line.match(/^\\${2}[ 　\\t]*$/);\n\t\t\tif (!!head) {\n\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 0, 0, 0, 0, 1]);\n\t\t\t\telse blocks.push([index, 0, 0, 0, 0, 0, 0, 1]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 列表\n\t\t\thead = line.match(/^([\\-\\+\\*~]|\\d+\\.)[ 　\\t]+/);\n\t\t\tif (!!head) {\n\t\t\t\thead = line.match(/^([\\-\\+\\*~]|\\d+\\.)[ 　\\t]+(`{3,}|~{3,})[ 　\\t]*([\\w\\-\\.\\+=\\?\\~\\\\\\/]*)$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 0, 1, 2, 0, 0]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 0, 1, 1, 0, 0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\thead = line.match(/^([\\-\\+\\*~]|\\d+\\.)[ 　\\t]+(\\${2})[ 　\\t]*$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 0, 1, 0, 0, 1]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 0, 1, 0, 0, 1]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tblocks.push([index, 0, 0, 0, 1, 0, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 引用\n\t\t\thead = line.match(/^(> *)+/);\n\t\t\tif (!!head) {\n\t\t\t\thead = line.match(/^(> *)+[ 　\\t]+(`{3,}|~{3,})[ 　\\t]*([\\w\\-\\.\\+=\\?\\~\\\\\\/]*)$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 1, 0, 2, 0, 0]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 1, 0, 1, 0, 0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\thead = line.match(/^(> *)+[ 　\\t]+(\\${2})[ 　\\t]*$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[2]) blocks.push([index, 0, 0, 1, 0, 0, 0, 1]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 1, 0, 0, 0, 1]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tblocks.push([index, 0, 0, 1, 0, 0, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 引用与列表都有可能\n\t\t\thead = line.match(/^([ 　\\t]+)/);\n\t\t\tif (!!head) {\n\t\t\t\thead = line.match(/(`{3,}|~{3,})[ 　\\t]*([\\w\\-\\.\\+=\\?\\~\\\\\\/]*)$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[1]) blocks.push([index, 0, 0, 1, 1, 2, 0, 0]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 1, 1, 1, 0, 0]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\thead = line.match(/(\\${2})[ 　\\t]*([\\w\\-\\.\\+=\\?\\~\\\\\\/]*)$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tif (!!head[1]) blocks.push([index, 0, 0, 1, 1, 0, 0, 1]);\n\t\t\t\t\telse blocks.push([index, 0, 0, 1, 1, 0, 0, 1]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tblocks.push([index, 0, 0, 1, 1, 0, 0, 0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 表格\n\t\t\thead = line.match(/\\|/g);\n\t\t\tif (!!head) {\n\t\t\t\tlet ctx = line.match(/\\\\\\|/g);\n\t\t\t\tif (!ctx || (!!ctx && ctx.length !== head.length)) {\n\t\t\t\t\tlet has = true;\n\t\t\t\t\tctx = line;\n\t\t\t\t\twhile (has) {\n\t\t\t\t\t\thas = false;\n\t\t\t\t\t\tlet x = ctx.replace(/\\([^\\(\\)\\[\\]\\{\\}]+?\\)/g, '');\n\t\t\t\t\t\tx = x.replace(/\\[[^\\(\\)\\[\\]\\{\\}]+?\\]/g, '');\n\t\t\t\t\t\tx = x.replace(/\\{[^\\(\\)\\[\\]\\{\\}]+?\\}/g, '');\n\t\t\t\t\t\thas = (x !== ctx);\n\t\t\t\t\t\tctx = x;\n\t\t\t\t\t}\n\t\t\t\t\tif (ctx.indexOf('|') >= 0) {\n\t\t\t\t\t\tblocks.push([index, 0, 0, 0, 0, 0, 1, 0]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tvar blockMap = {};\n\t\tblocks.forEach(line => {\n\t\t\tblockMap[line[0]] = line;\n\t\t});\n\n\t\tvar changed = true;\n\t\tchanged = false;\n\n\t\tif (blocks.length > 0) {\n\t\t\t// LaTeX 数学公式\n\t\t\tchanged = parseLaTeX(blocks, blockMap, sections, doc, caches) || changed;\n\n\t\t\t// 处理独立代码块，引用、列表与表格中的代码块稍后处理\n\t\t\tif (blocks.length > 0) changed = parseCodeBlock(blocks, blockMap, sections, doc, caches) || changed;\n\n\t\t\t// 表格\n\t\t\tif (blocks.length > 0) changed = parseTable(blocks, blockMap, sections, doc, caches) || changed;\n\n\t\t\t// 插入行号\n\t\t\tif (outmost && currLevel === 0 && !!doc.metas.linenumber) {\n\t\t\t\tlet lineID = 0;\n\t\t\t\tsections.forEach((line, id) => {\n\t\t\t\t\tif (!line) return;\n\t\t\t\t\tif (!!line.match(/^%[\\w\\-]+%$/)) return;\n\t\t\t\t\tvar info = blockMap[id];\n\t\t\t\t\tif (!!info && (info[1] > 0 || info[2] > 0)) return; // 去除空行和分割线\n\t\t\t\t\tif (!!line.match(/^[ 　\\t>\\+\\-\\*`\\^\\|_~=\\{\\}<]$/)) return; //去除引用列表等中的空行\n\t\t\t\t\tif (!!line.match(/^[!@#]\\[[^\\(\\)\\[\\]\\{\\}]*?(\\[.*?\\][ 　\\t]*\\(.*?\\))*?[^\\(\\)\\[\\]\\{\\}]*?\\](\\([^\\(\\)\\[\\]\\{\\}]*?\\))$/)) return; // 去除图片等资源\n\t\t\t\t\tif (!!line.match(/^[!@#]\\[[^\\(\\)\\[\\]\\{\\}]*?(\\[.*?\\][ 　\\t]*\\(.*?\\))*?[^\\(\\)\\[\\]\\{\\}]*?\\](\\[[^\\(\\)\\[\\]\\{\\}]*?\\])$/)) return; // 去除图片等资源\n\t\t\t\t\tvar tail = line.match(/\\{[<\\|>]\\}$/);\n\t\t\t\t\tif (!!tail) {\n\t\t\t\t\t\ttail = tail[0];\n\t\t\t\t\t\tline = line.substr(0, line.length - tail.length) + '<span name=\"line-' + lineID + '\"></span>' + tail;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tline = line + '<span name=\"line-' + lineID + '\"></span>';\n\t\t\t\t\t}\n\t\t\t\t\tlineID++;\n\t\t\t\t\tsections[id] = line;\n\t\t\t\t});\n\t\t\t\tdoc.metas.totalLineCount = lineID;\n\t\t\t}\n\n\t\t\t// 重排内容\n\t\t\t[sections, blockMap] = squeezeContents(blocks, blockMap, sections);\n\n\t\t\t// 引用与列表\n\t\t\tif (blocks.length > 0) {\n\t\t\t\tchanged = parseListAndBlockQuote(blocks, blockMap, sections, doc, caches) || changed;\n\t\t\t\t[sections, blockMap] = squeezeContents(blocks, blockMap, sections);\n\t\t\t}\n\n\t\t\t// 解析标题\n\t\t\tif (blocks.length > 0) {\n\t\t\t\tchanged = parseHeadline(blocks, blockMap, sections, doc, caches) || changed;\n\t\t\t\t[sections, blockMap] = squeezeContents(blocks, blockMap, sections);\n\t\t\t}\n\t\t}\n\n\t\t// 将图移出\n\t\tchanged = parseResources(blocks, blockMap, sections, doc, caches) || changed;\n\t\t[sections, blockMap] = squeezeContents(blocks, blockMap, sections);\n\n\t\t// 段落处理\n\t\tchanged = parseParagraph(blocks, blockMap, sections, doc, caches) || changed;\n\n\t\tsections = sections.map(line => {\n\t\t\tif (line === null) return '';\n\t\t\tif (line === undefined) return '';\n\t\t\tif (line.length === 0) return '';\n\t\t\tvar context = '';\n\t\t\tif (outmost) {\n\t\t\t\tlet head = line.match(/^%([\\w\\W]+)%(\\{[\\w \\-\\.\\u0800-\\uffff]+\\})*$/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\tcontext = restorePreserves(line, caches, false);\n\t\t\t\t} else {\n\t\t\t\t\tcontext = parsePlainParaStyle(line, doc);\n\t\t\t\t\tcontext = restorePreserves(context, caches, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcontext = parsePlainParaStyle(line, doc);\n\t\t\t\tlet key = 'param-' + generateRandomKey();\n\t\t\t\tcaches[key] = context;\n\t\t\t\tcontext = '%' + key + '%';\n\t\t\t}\n\t\t\treturn context;\n\t\t});\n\t\tdoc.parseLevel --;\n\t\tif (doc.parseLevel > 0) sections = sections.join('');\n\t\treturn sections;\n\t};\n\n\tconst squeezeContents = (blocks, blockMap, contents) => {\n\t\tcontents = contents.map((line, i) => [i, line]);\n\t\tcontents = contents.filter(line => {\n\t\t\tif (!line[1] && line[1] !== '') return false;\n\t\t\treturn true;\n\t\t});\n\t\tcontents.forEach((line, i) => {\n\t\t\tvar j = line[0];\n\t\t\tvar b = blockMap[j];\n\t\t\tif (!b) return;\n\t\t\tb[0] = i;\n\t\t});\n\t\tblockMap = {};\n\t\tblocks.forEach(line => {\n\t\t\tblockMap[line[0]] = line;\n\t\t});\n\t\tcontents = contents.map(line => line[1]);\n\t\treturn [contents, blockMap];\n\t};\n\tconst parsePlainParaStyle = (line, doc) => {\n\t\tvar prefix = '<p', postfix = '</p>', classes = [];\n\n\t\t// 对齐\n\t\tvar align = line.match(/^\\{[<\\|>]\\}|\\{[<\\|>]\\}$/);\n\t\tif (!!align) {\n\t\t\talign = align[0];\n\t\t\tif (align === '{<}') {\n\t\t\t\tclasses.push('align-left');\n\t\t\t}\n\t\t\telse if (align === '{|}') {\n\t\t\t\tclasses.push('align-center');\n\t\t\t}\n\t\t\telse if (align === '{>}') {\n\t\t\t\tclasses.push('align-right');\n\t\t\t}\n\t\t\tline = line.replace(/^\\{[<\\|>]\\}|\\{[<\\|>]\\}$/g, '');\n\t\t}\n\n\t\t// 缩进\n\t\tvar indent = line.match(/^(:+)/);\n\t\tif (!!indent && !line.match(/^:([\\w\\-\\.]+?):/)) {\n\t\t\tindent = indent[0];\n\t\t\tclasses.push('indent', 'indent-' + indent.length);\n\t\t\tline = line.replace(/^:+/, '');\n\t\t}\n\n\t\t// 合成样式\n\t\tif (classes.length > 0) {\n\t\t\tprefix = prefix + ' class=\"' + classes.join(' ') + '\"';\n\t\t}\n\t\tprefix = prefix + '>';\n\n\t\t// 解析段落\n\t\t// line = parseLine(line, doc);\n\t\tif (line.length === 0) return '';\n\t\treturn prefix + line + postfix;\n\t};\n\tconst parseLaTeX = (blocks, blockMap, contents, doc, caches) => {\n\t\t// 筛选出疑似独立代码块\n\t\tvar equaBlocks = [];\n\t\tblocks.forEach(line => {\n\t\t\tif (!line[7]) return;\n\t\t\tequaBlocks.push(line);\n\t\t});\n\n\t\tif (equaBlocks.length === 0) return false;\n\t\tif (equaBlocks.length === 1) {\n\t\t\tequaBlocks[0][7] = 0;\n\t\t\treturn false;\n\t\t}\n\n\t\t// 先分离明确知道开头的\n\t\tvar total = equaBlocks.length, prev = equaBlocks[0];\n\t\tprev[7] = 2;\n\t\tfor (let i = 1; i < total; i ++) {\n\t\t\tlet curr = equaBlocks[i];\n\t\t\tif (prev[7] === 2) {\n\t\t\t\tcurr[3] = prev[3];\n\t\t\t\tcurr[4] = prev[4];\n\t\t\t\tcurr[7] = 3;\n\t\t\t}\n\t\t\telse if (prev[7] === 3) curr[7] = 2;\n\t\t\tprev = curr;\n\t\t}\n\t\tif (equaBlocks[equaBlocks.length - 1][7] === 2) equaBlocks[equaBlocks.length - 1][7] = 0;\n\n\t\t// 去除无用行\n\t\tequaBlocks.forEach(line => {\n\t\t\tif (line[7] === 1) line[7] = 0;\n\t\t});\n\t\tvar starters = [];\n\t\tequaBlocks = equaBlocks.filter(line => {\n\t\t\tif (line[7] < 2) return false;\n\t\t\tif (line[7] === 2) starters.push(line[0])\n\t\t\treturn true;\n\t\t});\n\n\t\ttotal = equaBlocks.length;\n\t\tfor (let i = total - 1; i > 0; i -= 2) {\n\t\t\tlet j = equaBlocks[i - 1][0];\n\t\t\tif (!starters.includes(j)) {\n\t\t\t\tequaBlocks.splice(i - 1, 2);\n\t\t\t}\n\t\t}\n\n\t\t// 生成代码\n\t\tvar equaSection = [];\n\t\ttotal = equaBlocks.length;\n\t\tfor (let i = 0; i < total; i += 2) {\n\t\t\tequaSection.push([equaBlocks[i][0], equaBlocks[i + 1][0]]);\n\t\t}\n\t\tequaSection.forEach(block => {\n\t\t\tvar ctx = ['<p class=\"latex block\">$$'];\n\t\t\tfor (let i = block[0] + 1; i < block[1]; i ++) {\n\t\t\t\tctx.push(contents[i]);\n\t\t\t}\n\t\t\tctx.push('$$</p>');\n\t\t\tctx = ctx.join('<br>');\n\n\t\t\tvar key = 'latex-' + generateRandomKey();\n\t\t\tdoc.finals[key] = ctx;\n\t\t\tcontents[block[0]] = '%' + key + '%';\n\t\t\tfor (let i = block[0] + 1; i <= block[1]; i ++) {\n\t\t\t\tcontents[i] = null;\n\t\t\t}\n\t\t\tfor (let i = block[0]; i <= block[1]; i ++) {\n\t\t\t\tlet line = blockMap[i];\n\t\t\t\tif (!line) continue;\n\t\t\t\tlet j = blocks.indexOf(line);\n\t\t\t\tif (j >= 0) blocks.splice(j, 1);\n\t\t\t\tdelete blockMap[i];\n\t\t\t\tline[0] = -1;\n\t\t\t}\n\t\t});\n\n\t\treturn equaSection.length > 0;\n\t};\n\tconst parseCodeBlock = (blocks, blockMap, contents, doc, caches) => {\n\t\t// 筛选出疑似独立代码块\n\t\tvar codeBlocks = [];\n\t\tblocks.forEach(line => {\n\t\t\tif (!line[5]) return;\n\t\t\tcodeBlocks.push(line);\n\t\t});\n\n\t\tif (codeBlocks.length === 0) return false;\n\t\tif (codeBlocks.length === 1) {\n\t\t\tcodeBlocks[0][5] = 0;\n\t\t\treturn false;\n\t\t}\n\n\t\t// 先分离明确知道开头的\n\t\tvar total = codeBlocks.length, prev = codeBlocks[0];\n\t\tprev[5] = 2;\n\t\tfor (let i = 1; i < total; i ++) {\n\t\t\tlet curr = codeBlocks[i];\n\t\t\tif (curr[5] === 2) {\n\t\t\t\tif (i === total - 1) curr[5] = 0;\n\t\t\t\tif (prev[5] !== 3) {\n\t\t\t\t\tprev[5] = 0;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (prev[5] === 2) {\n\t\t\t\tcurr[3] = prev[3];\n\t\t\t\tcurr[4] = prev[4];\n\t\t\t\tcurr[5] = 3;\n\t\t\t}\n\t\t\telse if (prev[5] === 3) curr[5] = 2;\n\t\t\tprev = curr;\n\t\t}\n\t\tif (codeBlocks[codeBlocks.length - 1][5] === 2) codeBlocks[codeBlocks.length - 1][5] = 0;\n\n\t\t// 去除无用行\n\t\tcodeBlocks.forEach(line => {\n\t\t\tif (line[5] === 1) line[5] = 0;\n\t\t});\n\t\tvar starters = [];\n\t\tcodeBlocks = codeBlocks.filter(line => {\n\t\t\tif (line[5] < 2) return false;\n\t\t\tif (line[5] === 2) starters.push(line[0])\n\t\t\treturn true;\n\t\t});\n\n\t\ttotal = codeBlocks.length;\n\t\tfor (let i = total - 1; i > 0; i -= 2) {\n\t\t\tlet j = codeBlocks[i - 1][0];\n\t\t\tif (!starters.includes(j)) {\n\t\t\t\tcodeBlocks.splice(i - 1, 2);\n\t\t\t}\n\t\t}\n\n\t\t// 生成代码\n\t\tvar codeSection = [];\n\t\ttotal = codeBlocks.length;\n\t\tfor (let i = 0; i < total; i += 2) {\n\t\t\tcodeSection.push([codeBlocks[i][0], codeBlocks[i + 1][0]]);\n\t\t}\n\t\tcodeSection.forEach(block => {\n\t\t\tvar lineS = contents[block[0]];\n\t\t\tvar part = lineS.match(/(`{3,}|~{3,})[ 　\\t]*/)[0];\n\t\t\tvar index = lineS.indexOf(part);\n\t\t\tpart = lineS.substr(index + part.length, lineS.length);\n\t\t\tpart = part.replace(/^[ 　\\t]+|[ 　\\t]+$/g, '');\n\t\t\tvar prefix = '<pre', postfix = '</code></pre>';\n\t\t\tif (part.length === 0) {\n\t\t\t\tprefix = prefix + ' lang=\"' + part + '\"><code>';\n\t\t\t}\n\t\t\telse prefix = prefix + '><code>';\n\t\t\tpart = prefix;\n\t\t\tvar ctx = [];\n\t\t\tfor (let i = block[0] + 1; i < block[1]; i ++) {\n\t\t\t\tctx.push(contents[i]);\n\t\t\t}\n\t\t\tctx = ctx.join('\\n');\n\t\t\tctx = prefix + ctx + postfix;\n\n\t\t\tvar key = 'codeblock-' + generateRandomKey();\n\t\t\tdoc.finals[key] = ctx;\n\t\t\tcontents[block[0]] = '%' + key + '%';\n\t\t\tfor (let i = block[0] + 1; i <= block[1]; i ++) {\n\t\t\t\tcontents[i] = null;\n\t\t\t}\n\t\t\tfor (let i = block[0]; i <= block[1]; i ++) {\n\t\t\t\tlet line = blockMap[i];\n\t\t\t\tif (!line) continue;\n\t\t\t\tlet j = blocks.indexOf(line);\n\t\t\t\tif (j >= 0) blocks.splice(j, 1);\n\t\t\t\tdelete blockMap[i];\n\t\t\t\tline[0] = -1;\n\t\t\t}\n\t\t});\n\n\t\treturn codeSection.length > 0;\n\t};\n\tconst parseTable = (blocks, blockMap, contents, doc, caches) => {\n\t\t// 筛选出疑似独立代码块\n\t\tvar tableBlocks = [];\n\t\tblocks.forEach(line => {\n\t\t\tif (!line[6]) return;\n\t\t\ttableBlocks.push(line);\n\t\t});\n\n\t\tif (tableBlocks.length === 0) return;\n\n\t\t// 筛选可能的表格区，包括在引用或列表内的也不考虑\n\t\tvar tables = [], index = 0, last = tableBlocks[0][0];\n\t\ttables.push([tableBlocks[0]]);\n\t\tvar total = tableBlocks.length;\n\t\tfor (let i = 1; i < total; i ++) {\n\t\t\tlet l = tableBlocks[i];\n\t\t\tif (l[0] === last + 1) {\n\t\t\t\ttables[index].push(l);\n\t\t\t} else {\n\t\t\t\tindex ++;\n\t\t\t\ttables[index] = [l];\n\t\t\t}\n\t\t\tlast = l[0];\n\t\t}\n\t\ttables = tables.filter(list => {\n\t\t\tif (list.length < 2) return false;\n\t\t\treturn true;\n\t\t});\n\n\t\t// 生成表格\n\t\ttables.forEach(table => {\n\t\t\tgenerateTable(table, blocks, blockMap, contents, doc, caches);\n\t\t});\n\n\t\treturn true;\n\t};\n\tconst parseListAndBlockQuote = (blocks, blockMap, contents, doc, caches) => {\n\t\tvar end = 0, start = contents.length;\n\t\tblocks.forEach((line, i) => {\n\t\t\tif (line[3] + line[4] === 0) return;\n\t\t\tvar id = line[0];\n\t\t\tif (id < start) start = id;\n\t\t\tif (id > end) end = id;\n\t\t});\n\t\tif (start > end) return false;\n\n\t\t// 最后一个表格或引用之后的普通行可能会被忽略，这里要补上\n\t\tfor (let i = end + 1; i < contents.length - 1; i ++) {\n\t\t\tlet a = blockMap[i], b = blockMap[i + 1];\n\t\t\tif (!!a && a[1] > 0 && !!b && b[1] > 0) break;\n\t\t\tend = i;\n\t\t}\n\t\tif (end === contents.length - 2) {\n\t\t\tlet i = contents.length - 1;\n\t\t\tlet a = blockMap[i];\n\t\t\tif (!a || a[1] === 0) end = i\n\t\t}\n\n\t\t// 将内容分配到分离开的区块中\n\t\tvar blkID = 0, blockList = [[[start, blockMap[start]]]], isQuote = false, inside = true;\n\t\tif (blockMap[start][3] > 0) isQuote = true;\n\t\tfor (let i = start + 1; i <= end; i ++) {\n\t\t\tvar info = blockMap[i];\n\n\t\t\t// 普通内容行，或者代码块、公式块的内行\n\t\t\t// 则如果原本就在引用或列表内，则继续留在里面\n\t\t\tif (!info) {\n\t\t\t\tif (inside) blockList[blkID].push([i, null]);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 判断空行的中断规则\n\t\t\tif (info[1]) {\n\t\t\t\tif (!inside) continue;\n\t\t\t\t// 需连续两个空行才中断引用\n\t\t\t\tlet jnfo = blockMap[i + 1];\n\t\t\t\tif (!jnfo || jnfo[1] > 0) {\n\t\t\t\t\tinside = false;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tblockList[blkID].push([i, info]);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (info[3] + info[4] === 0) {\n\t\t\t\tif (inside) blockList[blkID].push([i, info]);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 如果还在引用或列表内，则继续留在里面\n\t\t\tif (inside) {\n\t\t\t\tblockList[blkID].push([i, info]);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 如果已经不在引用或列表中，则开启新列表\n\t\t\tblkID ++;\n\t\t\tblockList[blkID] = [];\n\t\t\tif (blockMap[i][3] > 0) isQuote = true;\n\t\t\telse isQuote = false;\n\t\t\tinside = true;\n\t\t\tblockList[blkID].push([i, info]);\n\t\t}\n\n\t\t// 生成引用块或列表\n\t\tvar changed = false;\n\t\tblockList.forEach(qaBlock => {\n\t\t\tqaBlock.forEach(line => {\n\t\t\t\tvar id = line[0];\n\t\t\t\tif (!line[1]) contents[id] = '    ' + contents[id];\n\t\t\t});\n\n\t\t\tvar type = 0;\n\t\t\tvar id = qaBlock[0][0];\n\t\t\tvar ctx = contents[id];\n\t\t\tvar type = -1;\n\t\t\tif (!!ctx.match(/^[ 　\\t>]/)) type = 0; // 引用\n\t\t\telse if (!!ctx.match(/^[\\-\\+]|[\\*~][ 　\\t]/)) type = 1; // 无序列表\n\t\t\telse if (!!ctx.match(/^\\d+\\.[ 　\\t]/)) type = 2;\n\t\t\tif (type < 0) return;\n\t\t\tchange = true;\n\t\t\tif (type === 0) generateQuotes(qaBlock, blocks, blockMap, contents, doc, caches);\n\t\t\telse if (type === 1) generateList(false, qaBlock, blocks, blockMap, contents, doc, caches);\n\t\t\telse if (type === 2) generateList(true, qaBlock, blocks, blockMap, contents, doc, caches);\n\t\t});\n\t\treturn changed;\n\t};\n\tconst parseHeadline = (blocks, blockMap, contents, doc, caches) => {\n\t\tvar headlines = [], headers = [];\n\t\tblocks.forEach(line => {\n\t\t\tif (line[2] === 0) return;\n\t\t\tvar id = line[0];\n\t\t\tvar info = blockMap[id - 1];\n\t\t\tif (!info) {\n\t\t\t\tlet ctx = contents[id - 1];\n\t\t\t\tif (id === 0 || !!ctx.match(/^%[\\w\\-]+%$/)) {\n\t\t\t\t\theadlines.push([id, contents[id].replace(/^[ 　\\t]+|[ 　\\t]+$/, '')[0]]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlet c = contents[id].substr(0, 1);\n\t\t\t\t\tif (c === '=') headers.push([id - 1, 1]);\n\t\t\t\t\telse if (c === '-') headers.push([id - 1, 2]);\n\t\t\t\t\telse if (c === '~') headers.push([id - 1, 3]);\n\t\t\t\t\telse if (c === '+') headers.push([id - 1, 3]);\n\t\t\t\t\telse if (c === '_') headers.push([id - 1, 3]);\n\t\t\t\t\telse if (c === '*') headers.push([id - 1, 4]);\n\t\t\t\t\telse if (c === '#') headers.push([id - 1, 5]);\n\t\t\t\t\telse if (c === '.') headers.push([id - 1, 6]);\n\t\t\t\t\tcontents[id] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (info[1] > 0) headlines.push([id, contents[id].replace(/^[ 　\\t]+|[ 　\\t]+$/, '')[0]]);\n\t\t\t}\n\t\t});\n\t\tfor (let i = 0; i < contents.length; i ++) {\n\t\t\tlet ctx = contents[i];\n\t\t\tif (!ctx) continue;\n\t\t\tlet header = ctx.match(/^(#+)[ 　\\t]*/);\n\t\t\tif (!!header) {\n\t\t\t\tlet l = header[0], cp = header[1];\n\t\t\t\tif (l !== ctx) {\n\t\t\t\t\tif (ctx.indexOf(l + '[') !== 0) {\n\t\t\t\t\t\theaders.push([i, cp.length]);\n\t\t\t\t\t\tcontents[i] = ctx.replace(/^#+[ 　\\t]*|[ 　\\t]*#+$/g, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (headlines.length + headers.length === 0) return false;\n\n\t\theaders.sort((la, lb) => la[0] - lb[0]);\n\n\t\theadlines.forEach(item => {\n\t\t\tvar [id, type] = item;\n\t\t\tvar key = 'headline-' + generateRandomKey();\n\t\t\tvar html = '<hr';\n\t\t\tif (type === '=') html = html + ' class=\"heavy\">';\n\t\t\telse if (type === '-') html = html + ' class=\"light\">';\n\t\t\telse if (type === '*') html = html + ' class=\"star\">';\n\t\t\telse if (type === '~') html = html + ' class=\"wavy\">';\n\t\t\telse if (type === '.') html = html + ' class=\"dotted\">';\n\t\t\telse if (type === '_') html = html + ' class=\"dashed\">';\n\t\t\telse if (type === '+') html = html + ' class=\"strong\">';\n\t\t\telse if (type === '#') html = html + ' class=\"heavystrong\">';\n\t\t\telse html = html + '>';\n\t\t\tcaches[key] = html;\n\t\t\tcontents[id] = \"%\" + key + \"%\";\n\t\t});\n\t\theaders.forEach(item => {\n\t\t\tvar [id, level] = item;\n\t\t\tvar key = 'header-' + generateRandomKey();\n\t\t\tvar tag = 'h' + (level || 1);\n\t\t\tvar html = contents[id];\n\t\t\thtml = parseLine(html, doc);\n\t\t\thtml = html.replace(/^[ 　\\t\\n]+|[ 　\\t\\n]+$/, '');\n\t\t\thtml = '<' + tag + '>' + html + '</' + tag + '>';\n\t\t\tcaches[key] = html;\n\t\t\tcontents[id] = \"%\" + key + \"%\";\n\t\t});\n\n\t\treturn true;\n\t};\n\tconst parseResources = (blocks, blockMap, contents, doc, caches) => {\n\t\tvar ctxes = [], changed = true;\n\t\twhile (changed) {\n\t\t\tchanged = false;\n\t\t\tcontents.forEach(line => {\n\t\t\t\tif (line.length === 0) return ctxes.push(line);\n\n\t\t\t\t// 将地址引用恢复（使用metas和refs）\n\t\t\t\tline = line.replace(/(\\])[ 　\\t]*(\\[([\\w \\-\\.]+)\\])/g, (match, prefix, all, name) => {\n\t\t\t\t\tvar ref = doc.refs[name], meta;\n\t\t\t\t\tif (!ref || (ref.indexOf('://') < 0 && ref.indexOf('@') < 0) || ref.indexOf('\\n') >= 0) {\n\t\t\t\t\t\tmeta = doc.metas[name.toLowerCase()];\n\t\t\t\t\t\tif (!meta || (meta.indexOf('://') < 0 && meta.indexOf('@') < 0) || meta.indexOf('\\n') >= 0) return match;\n\t\t\t\t\t\tref = meta;\n\t\t\t\t\t}\n\t\t\t\t\treturn prefix + '(' + ref + ')';\n\t\t\t\t});\n\n\t\t\t\t// 将图片等资源移到下一行\n\t\t\t\tvar resources = [], befores = [], inner_changed = true;\n\t\t\t\twhile (inner_changed) {\n\t\t\t\t\tinner_changed = false;\n\t\t\t\t\tline = line.replace(/[!@#]\\[[^\\(\\)\\[\\]\\{\\}]*?(\\[.*?\\][ 　\\t]*\\(.*?\\))*?[^\\(\\)\\[\\]\\{\\}]*?\\](\\([^\\(\\)\\[\\]\\{\\}]*?\\))/g, (match, useless, link) => {\n\t\t\t\t\t\tinner_changed = true;\n\t\t\t\t\t\tif (!!link.match(/[ 　\\t]+\"(left|right)\"\\)$/)) {\n\t\t\t\t\t\t\tbefores.push(match);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tresources.push(match);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tline = line.replace(/^[ 　\\t]+|[ 　\\t]+$/g, '');\n\t\t\t\tbefores.forEach(line => ctxes.push(line));\n\t\t\t\tif (line.length > 0) {\n\t\t\t\t\tif (resources.length > 0) changed = true;\n\t\t\t\t\tctxes.push(line);\n\t\t\t\t}\n\t\t\t\tresources.forEach(line => ctxes.push(line));\n\t\t\t});\n\n\t\t\tcontents.splice(0, contents.length);\n\t\t\tctxes.forEach(line => contents.push(line));\n\t\t\tctxes = [];\n\t\t}\n\t\treturn true;\n\t};\n\tconst parseParagraph = (blocks, blockMap, contents, doc, caches) => {\n\t\t// 分离出连续段落、资源、图片墙\n\t\tvar paragraphs = [], imagewalls = [], resources = [], last = -1;\n\t\tcontents.forEach((line, id) => {\n\t\t\tif (!line || line.length === 0) {\n\t\t\t\tlast = -1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar head = line.match(/^%([\\w\\W]+)%(\\{[\\w \\-\\.\\u0800-\\uffff]+\\})*$/);\n\t\t\tif (!!head) {\n\t\t\t\tlast = -1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\thead = line.match(/^[@#]\\[[^\\(\\)\\[\\]\\{\\}]*?(\\[.*?\\][ 　\\t]*\\(.*?\\))*?[^\\(\\)\\[\\]\\{\\}]*?\\]\\([^\\(\\)\\[\\]\\{\\}]*?\\)$/);\n\t\t\tif (!!head) {\n\t\t\t\tresources.push([id, line]);\n\t\t\t\tlast = -1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\thead = line.match(/^!\\[[^\\(\\)\\[\\]\\{\\}]*?(\\[.*?\\][ 　\\t]*\\(.*?\\))*?[^\\(\\)\\[\\]\\{\\}]*?\\]\\([^\\(\\)\\[\\]\\{\\}]*?\\)$/);\n\t\t\tvar type = !!head ? 1 : 0;\n\t\t\tif (type === last) {\n\t\t\t\tif (type === 0) {\n\t\t\t\t\tparagraphs[paragraphs.length - 1].push([id, line]);\n\t\t\t\t}\n\t\t\t\telse if (type === 1) {\n\t\t\t\t\timagewalls[imagewalls.length - 1].push([id, line]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (type === 0) {\n\t\t\t\t\tparagraphs[paragraphs.length] = [[id, line]];\n\t\t\t\t}\n\t\t\t\telse if (type === 1) {\n\t\t\t\t\timagewalls[imagewalls.length] = [[id, line]];\n\t\t\t\t}\n\t\t\t\tlast = type;\n\t\t\t}\n\t\t});\n\t\timagewalls = imagewalls.filter(wall => {\n\t\t\tvar isWall = wall.length > 1;\n\t\t\tif (wall.length === 1) resources.push(wall[0]);\n\t\t\treturn isWall;\n\t\t});\n\n\t\t// 对连续段落作处理\n\t\tparagraphs.forEach(group => {\n\t\t\tvar content = [];\n\t\t\tvar first = group[0][0];\n\t\t\tgroup.forEach(info => {\n\t\t\t\tvar id = info[0];\n\t\t\t\tvar line = info[1];\n\t\t\t\tif (line.length === 0) return;\n\t\t\t\tcontent.push(parseLine(line, doc));\n\t\t\t\tcontents[id] = null;\n\t\t\t});\n\t\t\tcontent = content.join('<br>');\n\t\t\tcontents[first] = content;\n\t\t});\n\n\t\t// 照片墙\n\t\timagewalls.forEach(wall => {\n\t\t\tvar content = [];\n\t\t\tvar first = wall[0][0];\n\t\t\twall.forEach(info => {\n\t\t\t\tcontent.push(parseLine(info[1], doc));\n\t\t\t\tcontents[info[0]] = null;\n\t\t\t});\n\t\t\tcontent = content.join('');\n\t\t\tcontent = '<div class=\"image-wall\">' + content + '</div>';\n\t\t\tvar key = 'imagewall-' + generateRandomKey();\n\t\t\tcaches[key] = content;\n\t\t\tcontents[first] = '%' + key + '%';\n\t\t});\n\n\t\t// 独立照片资源\n\t\tresources.forEach(res => {\n\t\t\tvar [id, content] = res;\n\t\t\tcontent = parseLine(content, doc);\n\t\t\tvar key = 'resource-' + generateRandomKey();\n\t\t\tcaches[key] = content;\n\t\t\tcontents[id] = '%' + key + '%';\n\t\t});\n\t};\n\n\tconst generateTable = (table, blocks, blockMap, contents, doc, caches) => {\n\t\tvar hasHead = true;\n\t\tvar cfgLine = null, cfgID = -1;\n\n\t\t// 分析表格的对齐信息\n\t\ttable.some((info, index) => {\n\t\t\tvar line = contents[info[0]];\n\t\t\tline = line.replace(/^[ 　\\t]+|[ 　\\t]+$/g, '');\n\t\t\tvar ctx = line.match(/[\\|:\\-]+/);\n\t\t\tif (!ctx) return;\n\t\t\tctx = ctx[0];\n\t\t\tif (line === ctx) {\n\t\t\t\tcfgLine = ctx;\n\t\t\t\tcfgID = info[0];\n\t\t\t\tif (index === 0) hasHead = false;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\tif (!cfgLine) {\n\t\t\thasHead = false;\n\t\t\tcfgLine = [];\n\t\t}\n\t\telse {\n\t\t\tcfgLine = cfgLine.replace(/^\\||\\|$/g, '');\n\t\t\tcfgLine = cfgLine.split('|');\n\t\t\tcfgLine = cfgLine.map(cfg => {\n\t\t\t\tif (!!cfg.match(/^:\\-:$/)) return 1;\n\t\t\t\tif (!!cfg.match(/^:\\-$/)) return 0;\n\t\t\t\tif (!!cfg.match(/^\\-:$/)) return 2;\n\t\t\t\treturn 3;\n\t\t\t});\n\t\t}\n\n\t\t// 提取表格内容\n\t\tvar rows = [], cols = 0;\n\t\ttable.forEach(line => {\n\t\t\tvar num = line[0];\n\t\t\tif (num === cfgID) return;\n\t\t\tvar row = parseTableRow(contents[num]);\n\t\t\trows.push(row);\n\t\t\tif (row.length > cols) cols = row.length;\n\t\t});\n\t\tfor (let j = cfgLine.length; j < cols; j ++) cfgLine.push('');\n\t\tfor (let i = 0; i < rows.length - 1; i ++) {\n\t\t\tlet row = rows[i];\n\t\t\tlet rlen = !!row ? row.length : cols;\n\t\t\tfor (let j = row.length; j < cols; j ++) row.push('');\n\t\t}\n\t\tvar header;\n\t\tif (hasHead) {\n\t\t\theader = rows[0];\n\t\t\trows.shift();\n\t\t}\n\n\t\t// 对自动对齐进行判断\n\t\tfor (let i = 0; i < cols; i ++) {\n\t\t\tif (cfgLine[i] !== 3) continue;\n\t\t\tlet isNumber = true;\n\t\t\trows.some(row => {\n\t\t\t\tvar item = row[i];\n\t\t\t\tif (!item) return;\n\t\t\t\tif (item * 1 !== item) {\n\t\t\t\t\tisNumber = false;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isNumber) cfgLine[i] = 2;\n\t\t\telse cfgLine[i] = 0;\n\t\t}\n\n\t\t// 生成表格正文\n\t\tvar html = '<table>';\n\t\tif (hasHead) {\n\t\t\thtml += '<thead><tr>';\n\t\t\theader.forEach((col, i) => {\n\t\t\t\tcol = parseLine(col, doc);\n\t\t\t\tvar ui = '<th align=\"';\n\t\t\t\tvar c = cfgLine[i];\n\t\t\t\tif (c === 1) ui += 'center';\n\t\t\t\telse if (c === 2) ui += 'right';\n\t\t\t\telse ui += 'left';\n\t\t\t\tui += '\">' + col + '</td>';\n\t\t\t\thtml += ui;\n\t\t\t});\n\t\t\thtml += '</tr></thead>';\n\t\t}\n\t\thtml += '<tbody>';\n\t\trows.forEach(row => {\n\t\t\thtml += '<tr>';\n\t\t\trow.forEach((col, i) => {\n\t\t\t\tcol = parseLine(col, doc);\n\t\t\t\tvar ui = '<td align=\"';\n\t\t\t\tvar c = cfgLine[i];\n\t\t\t\tif (c === 1) ui += 'center';\n\t\t\t\telse if (c === 2) ui += 'right';\n\t\t\t\telse ui += 'left';\n\t\t\t\tui += '\">' + col + '</td>';\n\t\t\t\thtml += ui;\n\t\t\t});\n\t\t\thtml += '</tr>';\n\t\t});\n\t\thtml += '</tbody></table>';\n\n\t\tvar key = 'table-' + generateRandomKey();\n\t\tcaches[key] = html;\n\n\t\theader = table[0][0];\n\t\ttotal = table.length;\n\t\tfor (let i = 0; i < total; i ++) {\n\t\t\tlet line = table[i];\n\t\t\tlet id = line[0];\n\t\t\tcontents[id] = null;\n\t\t\tdelete blockMap[id];\n\t\t\tlet j = blocks.indexOf(line);\n\t\t\tif (j >= 0) blocks.splice(j, 1);\n\t\t\tline[0] = -1;\n\t\t}\n\t\tcontents[header] = '%' + key + '%';\n\t};\n\tconst parseTableRow = line => {\n\t\tif (line.substr(0, 1) !== '|') line = '|' + line;\n\t\tif (line.substr(line.length - 1, 1) !== '|') line = line + '|';\n\t\tvar total = line.length, level = 0, parts = [], last = 0;\n\t\tfor (let i = 1; i < total; i ++) {\n\t\t\tlet c = line.substr(i, 1);\n\t\t\tif (c === '|' && level === 0) {\n\t\t\t\tparts.push(line.substr(last + 1, i - last - 1));\n\t\t\t\tlast = i;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (('([{<').indexOf(c) >= 0) level ++;\n\t\t\telse if (('>}])').indexOf(c) >= 0) level --;\n\t\t}\n\t\treturn parts;\n\t};\n\tconst generateQuotes = (quotes, blocks, blockMap, contents, doc, caches) => {\n\t\t// 获取引用类型\n\t\tvar type = 'quote';\n\t\tvar list = contents[quotes[0][0]];\n\t\tlist = list.match(/^>[ 　\\t]*\\[([\\w\\W]+?)\\]/);\n\t\tif (!!list) {\n\t\t\tlet t = list[1];\n\t\t\tt = t.replace(/^[ 　\\t]+|[ 　\\t]+$/g, '');\n\t\t\tif (t.length > 0) {\n\t\t\t\tif (!doc.metas[t] && !doc.blocks[t]) {\n\t\t\t\t\ttype = t;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// 整理文档\n\t\tvar isSub = false;\n\t\tlist = quotes.map(info => {\n\t\t\tvar id = info[0];\n\t\t\tvar ctx = contents[id];\n\n\t\t\t// 去除前缀\n\t\t\tvar head = ctx.match(/^[ 　\\t]+/);\n\t\t\tif (!!head) {\n\t\t\t\thead = head[0];\n\t\t\t\tlet len = 0;\n\t\t\t\tlet h = head.match(/ /g);\n\t\t\t\tif (!!h) len += h.length;\n\t\t\t\th = head.match(/　/g);\n\t\t\t\tif (!!h) len += h.length * 2;\n\t\t\t\th = head.match(/\\t/g);\n\t\t\t\tif (!!h) len += h.length * 4;\n\t\t\t\th = (Math.floor(len / 4) - 1) * 4;\n\t\t\t\tlet spaces = '';\n\t\t\t\tfor (let i = 0; i < h - 4; i ++) spaces += ' ';\n\t\t\t\tctx = ctx.replace(head, spaces);\n\t\t\t\tisSub = h > 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\thead = ctx.match(/^>[ 　\\t]*/);\n\t\t\t\tif (!!head) {\n\t\t\t\t\thead = head[0];\n\t\t\t\t\tctx = ctx.replace(head, '');\n\t\t\t\t\tisSub = !!ctx.match(/^>[ 　\\t]*/);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn ctx;\n\t\t});\n\t\tlist[0] = list[0].replace(new RegExp('^[ 　\\\\t]*\\\\[' + type.replace(/\\\\/g, '\\\\\\\\') + '\\\\][ 　\\\\t]*'), '');\n\t\tlist = list.join('\\n');\n\t\tlist = list.replace(/^\\n+|\\n+$/g, '');\n\n\t\tvar html = '<blockquote class=\"' + type + '\">';\n\t\tlist = parseSection(list, doc, 2, caches);\n\t\thtml += list;\n\t\thtml += '</blockquote>';\n\t\tvar key = 'blockquote-' + generateRandomKey();\n\t\tcaches[key] = html;\n\t\tquotes.forEach(info => {\n\t\t\tvar id = info[0];\n\t\t\tcontents[id] = null;\n\t\t\tdelete blockMap[id];\n\t\t\tvar j = blocks.indexOf(info[1]);\n\t\t\tif (j >= 0) blocks.splice(j, 1);\n\t\t});\n\t\tcontents[quotes[0][0]] = '%' + key + '%';\n\t};\n\tconst generateList = (ordered, quotes, blocks, blockMap, contents, doc, caches) => {\n\t\t// 整理层级结构\n\t\tvar list = [], lid = -1;\n\t\tquotes.forEach(info => {\n\t\t\tvar id = info[0];\n\t\t\tvar ctx = contents[id];\n\n\t\t\t// 如果是列表项\n\t\t\thead = ctx.match(/^([\\-\\+\\*>~]|\\d+\\.)[ 　\\t]+/);\n\t\t\tif (!!head) {\n\t\t\t\tctx = ctx.replace(head[0], '');\n\t\t\t\tlid ++;\n\t\t\t\tlist[lid] = [ctx];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// 缩进项\n\t\t\thead = ctx.match(/^[ 　\\t]+/);\n\t\t\tif (!!head) {\n\t\t\t\thead = head[0];\n\t\t\t\tlet len = 0;\n\t\t\t\tlet h = head.match(/ /g);\n\t\t\t\tif (!!h) len += h.length;\n\t\t\t\th = head.match(/　/g);\n\t\t\t\tif (!!h) len += h.length * 2;\n\t\t\t\th = head.match(/\\t/g);\n\t\t\t\tif (!!h) len += h.length * 4;\n\t\t\t\th = (Math.floor(len / 4) - 1) * 4;\n\t\t\t\tlet spaces = '';\n\t\t\t\tfor (let i = 0; i < h - 4; i ++) spaces += ' ';\n\t\t\t\tctx = ctx.replace(head, spaces);\n\t\t\t}\n\t\t\tlist[lid].push(ctx);\n\t\t});\n\t\tlist = list.map(item => {\n\t\t\titem = item.join('\\n');\n\t\t\titem = item.replace(/^\\n+|\\n+$/g, '');\n\t\t\treturn item;\n\t\t});\n\n\t\tvar html = '';\n\t\tif (ordered) html = '<ol>';\n\t\telse html = '<ul>';\n\t\tlist.forEach(item => {\n\t\t\thtml += '<li>';\n\t\t\thtml += parseSection(item, doc, 2, caches);\n\t\t\thtml += '</li>';\n\t\t});\n\t\tif (ordered) html += '</ol>';\n\t\telse html += '</ul>';\n\n\t\tvar key = 'list-' + generateRandomKey();\n\t\tcaches[key] = html;\n\t\tquotes.forEach(info => {\n\t\t\tvar id = info[0];\n\t\t\tcontents[id] = null;\n\t\t\tdelete blockMap[id];\n\t\t\tvar j = blocks.indexOf(info[1]);\n\t\t\tif (j >= 0) blocks.splice(j, 1);\n\t\t});\n\t\tcontents[quotes[0][0]] = '%' + key + '%';\n\t};\n\n\tconst analyzeSections = (contents, doc) => {\n\t\tvar sections = [[]], pid = 0, chaps = [0];\n\t\tvar chapList = [];\n\t\tcontents.forEach(line => {\n\t\t\tvar changed = false;\n\t\t\tline = line.replace(/^<h(\\d+)>/i, (match, level) => {\n\t\t\t\tchanged = true;\n\t\t\t\tlevel = level * 1;\n\t\t\t\tif (level === 1) {\n\t\t\t\t\tpid ++;\n\t\t\t\t\tsections[pid] = [];\n\t\t\t\t}\n\t\t\t\tchaps[level - 1] = (chaps[level - 1] || 0) + 1;\n\t\t\t\tfor (let i = level; i < chaps.length; i ++) chaps[i] = 0;\n\t\t\t\tvar chapName = 'chap';\n\t\t\t\tfor (let i = 0; i < level; i ++) chapName += '-' + (chaps[i] || 1);\n\t\t\t\tmatch = match + '<a name=\"' + chapName + '\">';\n\t\t\t\tchapList.push([level, chapName, line.replace(/<[\\w\\W]+?>/gi, '')]);\n\t\t\t\treturn match;\n\t\t\t})\n\t\t\t.replace(/<\\/h(\\d+)>$/i, match => '</a>' + match)\n\t\t\t.replace(/\\{([\\w \\-\\.]+)\\}/g, (match, name) => {\n\t\t\t\tvar title = doc.termList[name];\n\t\t\t\tif (!title) return match;\n\t\t\t\tif (Array.isArray(title)) title = title[0];\n\t\t\t\treturn '<a class=\"terminology\" name=\"' + name + '\" href=\"#ref-' + name + '\"><strong>' + title + '</strong></a>';\n\t\t\t});\n\t\t\tsections[pid].push(line);\n\t\t});\n\t\tsections = sections.filter(group => group.length > 0);\n\t\tdoc.chapList = chapList;\n\n\t\t// 处理脚注\n\t\tsections = sections.map(para => {\n\t\t\tvar footnotes = [];\n\t\t\tvar prefix = '<section>', postfix = '</section>';\n\t\t\tpara.forEach((line, lid) => {\n\t\t\t\tvar changed = false;\n\t\t\t\tline = line.replace(/<a class=\"notemark\" type=\"footnote\" name=\"([\\w \\-\\.]+?)\">/g, (match, fn) => {\n\t\t\t\t\tchanged = true;\n\t\t\t\t\tfootnotes.push(fn);\n\t\t\t\t\tvar content = match.substr(0, match.length - 1) + ' href=\"#footnote-' + fn + '\">';\n\t\t\t\t\treturn content;\n\t\t\t\t});\n\t\t\t\tif (changed) para[lid] = line;\n\t\t\t});\n\t\t\tpara = para.join('');\n\t\t\tif (footnotes.length === 0) return prefix + para + postfix;\n\t\t\tfootnotes = footnotes.map((name, i) => {\n\t\t\t\tvar content = doc.refs[name];\n\t\t\t\tvar id = doc.footnotes.indexOf(name);\n\t\t\t\ti ++;\n\t\t\t\tpara = para.replace(new RegExp('%%FN-' + id + '%%', 'g'), i);\n\t\t\t\treturn '<p class=\"footnote-content\"><a class=\"index\" name=\"footnote-' + name + '\">' + i + '：</a>' + content + '</p>';\n\t\t\t});\n\t\t\tpara += '<hr class=\"footnote-line\"><footer><p class=\"footnote-title\">脚注：</p>';\n\t\t\tpara += footnotes.join('');\n\t\t\tpara += '</footer><hr class=\"footnote-line end\">';\n\t\t\treturn prefix + para + postfix;\n\t\t});\n\n\t\t// 处理尾注\n\t\tif (!!doc.endnotes && doc.endnotes.length > 0) {\n\t\t\tlet html = '<hr class=\"endnote-line\">';\n\t\t\thtml += '<section class=\"endnote-chapter\"><h1 class=\"endnote-title\"><a name=\"EndNote\">尾注</a></h1>';\n\t\t\tdoc.endnotes.forEach((en, i) => {\n\t\t\t\thtml += '<p class=\"endnote-content\"><a class=\"index\" name=\"endnote-' + en + '\">' + (i + 1) + '：</a>' + doc.refs[en] + '</p>';\n\t\t\t});\n\t\t\thtml += '</section>';\n\t\t\tsections.push(html);\n\t\t}\n\n\t\t// 处理术语表\n\t\tif (doc.metas.glossary && !!doc.termList && doc.termList.length > 0) {\n\t\t\tlet html = '<hr class=\"endnote-line\">';\n\t\t\thtml += '<section class=\"endnote-chapter\"><h1 class=\"endnote-title\"><a name=\"Glossary\">术语表</a></h1>';\n\t\t\thtml += generateGlossary(doc);\n\t\t\thtml += '</section>';\n\t\t\tsections.push(html);\n\t\t}\n\n\t\t// 处理资源表\n\t\tdoc.image = doc.image || [];\n\t\tdoc.video = doc.video || [];\n\t\tdoc.audio = doc.audio || [];\n\t\tif (doc.metas.resources && doc.image.length + doc.video.length + doc.audio.length > 0) {\n\t\t\tlet html = '<hr class=\"endnote-line\">';\n\t\t\thtml += '<section class=\"endnote-chapter\"><h1 class=\"endnote-title\"><a name=\"ResourceList\">资源表</a></h1>';\n\t\t\tif (doc.image.length > 0) {\n\t\t\t\thtml += '<h2><a name=\"ImageResourceList\">图片</a></h2>';\n\t\t\t\thtml += generateResourceList(doc, 'image');\n\t\t\t}\n\t\t\tif (doc.video.length > 0) {\n\t\t\t\thtml += '<h2><a name=\"VideoResourceList\">视频</a></h2>';\n\t\t\t\thtml += generateResourceList(doc, 'video');\n\t\t\t}\n\t\t\tif (doc.audio.length > 0) {\n\t\t\t\thtml += '<h2><a name=\"AudioResourceList\">音频</a></h2>';\n\t\t\t\thtml += generateResourceList(doc, 'audio');\n\t\t\t}\n\t\t\thtml += '</section>';\n\t\t\tsections.push(html);\n\t\t}\n\n\t\t// 处理标题\n\t\tif (doc.metas.showtitle) {\n\t\t\tlet ui = '<header class=\"article-title\">';\n\t\t\tui += '<p>' + doc.metas.title + '</p>';\n\t\t\tif (doc.metas.showauthor && !!doc.metas.author) {\n\t\t\t\tui += '<p class=\"author\">';\n\t\t\t\tif (!!doc.metas.email) ui += '<a href=\"mailto:' + doc.metas.email + '\">';\n\t\t\t\tui += doc.metas.author\n\t\t\t\tif (!!doc.metas.email) ui += '</a>';\n\t\t\t\tui += '</p>';\n\t\t\t}\n\t\t\tui += '</header>';\n\t\t\tsections.unshift(ui);\n\t\t}\n\n\t\treturn sections;\n\t};\n\tconst applyBlockReference = (text, doc) => {\n\t\tvar changed = true, loop = 0;\n\t\twhile (changed) {\n\t\t\tchanged = false;\n\t\t\ttext = text.map(line => {\n\t\t\t\tline = line.replace(/\\[([\\w \\-\\.]+?)\\]/g, (match, name, pos) => {\n\t\t\t\t\tvar supStart = line.lastIndexOf('<sup>', pos), supEnd = line.lastIndexOf('</sup>', pos);\n\t\t\t\t\tif (supStart > supEnd) return match;\n\t\t\t\t\tvar content = doc.blocks[name];\n\t\t\t\t\tif (!content) return match;\n\t\t\t\t\tchanged = true;\n\t\t\t\t\treturn content;\n\t\t\t\t});\n\t\t\t\treturn line;\n\t\t\t});\n\t\t\tloop ++;\n\t\t\tif (loop === 10) break;\n\t\t}\n\t\treturn text;\n\t};\n\tconst applyMarkUpReference = (sections, doc) => {\n\t\tvar lang = (doc.metas.LANG || 'zh').toLowerCase();\n\t\tsections = sections.map(section => {\n\t\t\t// 生成术语表\n\t\t\tsection = section.replace(/%glossary%/gi, (match) => {\n\t\t\t\treturn generateGlossary(doc);\n\t\t\t});\n\t\t\t// 生成资源表\n\t\t\tsection = section.replace(/%resources%/gi, (match) => {\n\t\t\t\treturn generateResourceList(doc, 'image')\n\t\t\t\t\t+ generateResourceList(doc, 'video')\n\t\t\t\t\t+ generateResourceList(doc, 'audio');\n\t\t\t});\n\t\t\tsection = section.replace(/%images%/gi, (match) => {\n\t\t\t\treturn generateResourceList(doc, 'image');\n\t\t\t});\n\t\t\tsection = section.replace(/%videos%/gi, (match) => {\n\t\t\t\treturn generateResourceList(doc, 'video');\n\t\t\t});\n\t\t\tsection = section.replace(/%audios%/gi, (match) => {\n\t\t\t\treturn generateResourceList(doc, 'audio');\n\t\t\t});\n\t\t\t// 生成目录\n\t\t\tsection = section.replace(/%toc%(\\{[\\w\\W]+?\\})*/gi, (match) => {\n\t\t\t\tvar cfg = match.match(/\\{[\\w\\W]+?\\}/g);\n\t\t\t\tvar title = '目录', level = 3;\n\t\t\t\tif (!!cfg) {\n\t\t\t\t\tcfg.forEach(c => {\n\t\t\t\t\t\tc = c.substr(1, c.length - 2);\n\t\t\t\t\t\tvar n = c * 1;\n\t\t\t\t\t\tif (isNaN(n)) title = c;\n\t\t\t\t\t\telse level = n;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tdoc.toced = true;\n\t\t\t\treturn generateTableOfContent(doc, title, level);\n\t\t\t});\n\n\t\t\t// 替换文档元数据\n\t\t\tObject.keys(doc.metas).forEach(key => {\n\t\t\t\tvar content = key.toLowerCase();\n\t\t\t\tif (PreservedKeywords.includes(key)) return;\n\t\t\t\tcontent = doc.metas[key];\n\t\t\t\tif (content === true || content === false) {\n\t\t\t\t\tif (lang === 'zh') content = content ? '是' : '否';\n\t\t\t\t\telse content = content ? 'On' : 'Off';\n\t\t\t\t}\n\t\t\t\telse if (Array.isArray(content)) {\n\t\t\t\t\tif (lang === 'zh') content = content.join('、');\n\t\t\t\t\telse content = content.join(', ');\n\t\t\t\t}\n\t\t\t\tsection = section.replace(new RegExp('%' + key + '%', 'gi'), match => {\n\t\t\t\t\treturn content;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// 处理最终不用处理的块\n\t\t\tsection = section.replace(/%([\\w \\-\\.]+)%/g, (match, key) => {\n\t\t\t\tvar content = doc.finals[key];\n\t\t\t\tif (!content) return match;\n\t\t\t\treturn content;\n\t\t\t});\n\n\t\t\treturn section;\n\t\t});\n\t\t// 如果没生成过目录，且生成目录开关已打开，则在文档头补熵目录\n\t\tif (doc.metas.toc && !doc.toced) {\n\t\t\tlet toc = generateTableOfContent(doc, '目录', 3);\n\t\t\tif (toc.indexOf('<p class=\"content-') >= 0) {\n\t\t\t\ttoc = '<section>' + toc + '</section>';\n\t\t\t\tif (doc.metas.showtitle) {\n\t\t\t\t\tsections.splice(1, 0, toc);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsections.unshift(toc);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn sections;\n\t};\n\tconst generateTableOfContent = (doc, title, level) => {\n\t\tvar html = '<h1 name=\"ContentTable\">' + title + '</h1><aside class=\"content-table\">';\n\t\tdoc.chapList.forEach(info => {\n\t\t\tif (info[0] > level) return;\n\t\t\tvar ui = '<p class=\"content-item level-' + info[0] + '\">';\n\t\t\tfor (let i = 0; i < info[0]; i ++) {\n\t\t\t\tui += '<span class=\"content-indent\"></span>';\n\t\t\t}\n\t\t\tui += '<a class=\"content-link\" href=\"#' + info[1] + '\">' + info[2] + '</a>';\n\t\t\tui += '</p>';\n\t\t\thtml += ui;\n\t\t});\n\t\tif (!!doc.endnotes && doc.endnotes.length > 0) {\n\t\t\thtml += '<p class=\"content-item level-1\"><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#EndNote\">尾注</a></p>';\n\t\t}\n\t\tif (doc.metas.glossary && !!doc.termList && doc.termList.length > 0) {\n\t\t\thtml += '<p class=\"content-item level-1\"><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#Glossary\">术语表</a></p>';\n\t\t}\n\t\tif (doc.metas.resources && doc.image.length + doc.video.length + doc.audio.length > 0) {\n\t\t\thtml += '<p class=\"content-item level-1\"><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#ResourceList\">资源表</a></p>';\n\t\t\tif (doc.image.length > 0) {\n\t\t\t\thtml += '<p class=\"content-item level-2\"><span class=\"content-indent\"></span><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#ImageResourceList\">图片</a></p>';\n\t\t\t}\n\t\t\tif (doc.video.length > 0) {\n\t\t\t\thtml += '<p class=\"content-item level-2\"><span class=\"content-indent\"></span><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#VideoResourceList\">视频</a></p>';\n\t\t\t}\n\t\t\tif (doc.audio.length > 0) {\n\t\t\t\thtml += '<p class=\"content-item level-2\"><span class=\"content-indent\"></span><span class=\"content-indent\"></span><a class=\"content-link\" href=\"#AudioResourceList\">音频</a></p>';\n\t\t\t}\n\t\t}\n\t\thtml += '</aside>';\n\t\treturn html;\n\t};\n\tconst generateGlossary = (doc) => {\n\t\tvar html = '';\n\t\tif (doc.termList === 0) return '';\n\t\tdoc.termList.forEach(item => {\n\t\t\tvar [key, title] = item;\n\t\t\tvar content = doc.terms[key];\n\t\t\tvar ui = '<p class=\"glossary-item\">'\n\t\t\tui += '<a class=\"glossary-indent\" name=\"ref-' + key + '\">' + title + '</a>';\n\t\t\tui += content;\n\t\t\tui += '</p>';\n\t\t\thtml += ui;\n\t\t});\n\t\treturn html;\n\t};\n\tconst generateResourceList = (doc, type) => {\n\t\tvar resources = doc[type];\n\t\tif (!resources || !Array.isArray(resources) || resources.length === 0) return '';\n\t\tvar list = [];\n\t\tvar ui = '<ul>';\n\t\tresources.forEach(item => {\n\t\t\tvar res = item[1];\n\t\t\tif (list.includes(res)) return;\n\t\t\tlist.push(res);\n\t\t\tui += '<li><a href=\"' + res + '\" target=\"_blank\">' + res + '</a></li>';\n\t\t});\n\t\tui += '</ul>';\n\t\treturn ui;\n\t};\n\n\t// 保留字符处理\n\tconst convertPreserves = content => {\n\t\tcontent = content.replace(/(\\\\+)(.)/g, (match, slash, mark) => {\n\t\t\tvar count = Math.floor(slash.length / 2);\n\t\t\tvar needConvert = (count * 2 !== slash.length);\n\t\t\tvar result = '';\n\t\t\tvar meta = '%' + PreserveWords['\\\\'] + '%';\n\t\t\tfor (let i = 0; i < count; i ++) result += meta\n\t\t\tif (needConvert) {\n\t\t\t\tlet word = PreserveWords[mark];\n\t\t\t\tif (!word) result = result + mark;\n\t\t\t\telse result = result + '%' + word + '%';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tresult = result + mark;\n\t\t\t}\n\t\t\treturn result;\n\t\t});\n\t\treturn content;\n\t};\n\tconst restorePreserves = (content, caches, inline=true) => {\n\t\tvar changed = true;\n\t\twhile (changed) {\n\t\t\tchanged = false;\n\t\t\tcontent = content.replace(/\\%([\\w \\-]+?)\\%/g, (match, mark) => {\n\t\t\t\tvar word = caches[mark]\n\t\t\t\tif (!!word) {\n\t\t\t\t\tchanged = true;\n\t\t\t\t\treturn word;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\t\t}\n\n\t\tif (!inline) return content;\n\n\t\tchanged = true;\n\t\twhile (changed) {\n\t\t\tchanged = false;\n\t\t\tcontent = content.replace(/\\%([\\w \\-]+?)\\%/g, (match, mark) => {\n\t\t\t\tvar word = caches[SymHidden][mark.toLowerCase()];\n\t\t\t\tif (!!word) {\n\t\t\t\t\tchanged = true;\n\t\t\t\t\treturn word;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\t\t}\n\n\t\t// 处理软换行\n\t\tcontent = content.replace(/\\n+/g, '<br>');\n\t\tcontent = content.replace(/\\/{2}/g, (match, pos) => {\n\t\t\tif (pos === 0) return '<br>';\n\t\t\tvar prev = content.substr(pos - 1, 1);\n\t\t\tif (prev === ':') return match;\n\t\t\treturn '<br>';\n\t\t});\n\t\tcontent = content.replace(/^(<\\/?br>)+|(<\\/?br>)+$/gi, '<br>');\n\t\treturn content;\n\t};\n\tconst getKeywords = words => {\n\t\tif (!words) return [];\n\t\twords = words.split(/[ ,，；;、　]+/).filter(w => w.length > 0);\n\t\tvar list = [];\n\t\twords.forEach(w => {\n\t\t\tif (list.includes(w)) return;\n\t\t\tlist.push(w);\n\t\t});\n\t\treturn list;\n\t};\n\n\t// 解析元数据\n\tconst getMetas = (doc, text) => {\n\t\tvar metas = {};\n\t\tvar nonStop = true;\n\n\t\t// 解析文档元数据\n\t\twhile (nonStop) {\n\t\t\tnonStop = false;\n\t\t\ttext = text.replace(/\\n([A-Z\\u0800-\\uffff]+?) *[:：] *([\\w\\W]*?)\\n/, (match, key, value) => {\n\t\t\t\tif (value.length === 0) return match;\n\t\t\t\tif (key === '标题') key = 'title';\n\t\t\t\telse if (key === '作者') key = 'author';\n\t\t\t\telse if (key === '简介') key = 'description';\n\t\t\t\telse if (key === '关键词') key = 'keyword';\n\t\t\t\telse if (key === '更新') key = 'date';\n\t\t\t\telse key = key.toLowerCase();\n\t\t\t\tif (!MetaWords.includes(key)) return match;\n\t\t\t\tnonStop = true;\n\t\t\t\tmetas[key] = value;\n\t\t\t\treturn '\\n';\n\t\t\t});\n\t\t}\n\t\tif (!!metas.showtitle && ['on', 'yes', 'true'].includes(metas.showtitle.toLowerCase())) metas.showtitle = true;\n\t\telse metas.showtitle = false;\n\t\tif (!!metas.glossary && ['on', 'yes', 'true'].includes(metas.glossary.toLowerCase())) metas.glossary = true;\n\t\telse metas.glossary = false;\n\t\tif (!!metas.links && ['on', 'yes', 'true'].includes(metas.links.toLowerCase())) metas.links = true;\n\t\telse metas.links = false;\n\t\tif (!!metas.refs && ['on', 'yes', 'true'].includes(metas.refs.toLowerCase())) metas.refs = true;\n\t\telse metas.refs = false;\n\t\tif (!!metas.terms && ['on', 'yes', 'true'].includes(metas.terms.toLowerCase())) metas.terms = true;\n\t\telse metas.terms = false;\n\t\tif (!!metas.resources && ['on', 'yes', 'true'].includes(metas.resources.toLowerCase())) metas.resources = true;\n\t\telse metas.resources = false;\n\t\tif (!!metas.toc && ['on', 'yes', 'true'].includes(metas.toc.toLowerCase())) metas.toc = true;\n\t\telse metas.toc = false;\n\t\tdoc.metas = metas;\n\t\tdoc.metas.keyword = getKeywords(doc.metas.keyword)\n\t\tif (!!doc.metas.date) {\n\t\t\ttry {\n\t\t\t\tdoc.metas.date = (new Date(doc.metas.date)).getTime();\n\t\t\t} catch {\n\t\t\t\tdelete doc.metas.date;\n\t\t\t}\n\t\t}\n\t\tdoc.metas.god = doc.metas.theone = '<a href=\"mailto:lostabaddon@gmail.com\">LostAbaddon</a>';\n\t\tif (doc.metas.script) {\n\t\t\tdoc.metas.script = doc.metas.script.split(/[,; 　\\t]+/);\n\t\t}\n\t\telse doc.metas.script = [];\n\t\tif (doc.metas.style) {\n\t\t\tdoc.metas.style = doc.metas.style.split(/[,; 　\\t]+/).map(style => {\n\t\t\t\treturn style.replace(/\\{[\\w\\W]*\\}/, '');\n\t\t\t});\n\t\t}\n\t\telse doc.metas.style = [];\n\t\tdoc.termList = doc.termList || [];\n\t\tdoc.mainParser = false;\n\n\t\t// 解析引用文本\n\t\tdoc.refs = {};\n\t\tnonStop = true;\n\t\twhile (nonStop) {\n\t\t\tnonStop = false;\n\t\t\ttext = text.replace(/\\n\\[([\\w \\-\\.\\+\\=\\\\\\/]+?)\\] *[:：] *([\\w\\W]+?)\\n([\\n\\[])/, (match, key, value, left, pos) => {\n\t\t\t\tkey = key.trim();\n\t\t\t\tvalue = value.trim();\n\t\t\t\tif (key.length === 0 || value.length === 0) return match;\n\t\t\t\tdoc.refs[key] = value;\n\t\t\t\tnonStop = true;\n\t\t\t\treturn '\\n' + left;\n\t\t\t});\n\t\t}\n\n\t\t// 解析引用块\n\t\tdoc.blocks = {};\n\t\tnonStop = true;\n\t\twhile (nonStop) {\n\t\t\tnonStop = false;\n\t\t\ttext = text.replace(/\\[:([\\w \\-\\.\\+\\=\\\\\\/]+?):\\]([\\w\\W]*?)\\n*\\[:\\1:\\]/g, (match, name, content) => {\n\t\t\t\tname = name.trim();\n\t\t\t\tif (name.length === 0 || content.length === 0) return;\n\t\t\t\tdoc.blocks[name] = content;\n\t\t\t\tnonStop = true;\n\t\t\t\treturn '';\n\t\t\t});\n\t\t}\n\n\t\tObject.keys(doc.refs).forEach(key => {\n\t\t\tvar line = doc.refs[key];\n\t\t\tline = parseLine(line, doc);\n\t\t\t// 恢复保留字\n\t\t\tline = line.replace(/\\%([\\w \\-]+?)\\%/g, (match, mark) => {\n\t\t\t\tvar word = ReversePreserveWords[mark.toLowerCase()];\n\t\t\t\tif (!!word) return word;\n\t\t\t\treturn match;\n\t\t\t});\n\t\t\tvar content = parseLine(line, doc);\n\t\t\tdoc.refs[key] = line;\n\t\t});\n\t\tObject.keys(doc.blocks).forEach(key => {\n\t\t\tvar line = doc.blocks[key];\n\t\t\tvar header = line.match(/^\\n+/);\n\t\t\tline = line.trim();\n\t\t\tvar content;\n\t\t\tdoc.parseLevel = 0;\n\t\t\tif (!header) content = [parseLine(line, doc)];\n\t\t\telse content = parseSection(line, doc, 1);\n\t\t\tdoc.blocks[key] = content.join('');\n\t\t});\n\n\t\tdoc.anchors = [];\n\t\tdoc.terms = {};\n\t\tdoc.notes = {};\n\t\ttext.replace(/\\] *(\\[[\\^:]([\\w ]+?)\\]|\\{([\\w ]+?)\\})/g, (match, usage, key1, key2) => {\n\t\t\tvar key = key1 || key2;\n\t\t\tif (!doc.refs[key]) {\n\t\t\t\tif (usage.substr(0, 1) === '{' && !doc.anchors.includes(key)) doc.anchors.push(key);\n\t\t\t}\n\t\t\telse if (usage.substr(0, 1) === '{') {\n\t\t\t\tdoc.terms[key] = doc.refs[key];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdoc.notes[key] = doc.refs[key];\n\t\t\t}\n\t\t});\n\n\t\t// 合并回文档\n\t\ttext = regularize(text);\n\n\t\treturn text;\n\t};\n\n\tMarkUp.fullParse = (text, config) => {\n\t\tvar docTree = {\n\t\t\tfinals: {},\n\t\t\ttoced: false,\n\t\t};\n\n\t\ttext = prepare(text);\n\t\ttext = getMetas(docTree, text);\n\t\tif (!!config) Object.keys(config).forEach(key => {\n\t\t\tkey = key.toLowerCase();\n\t\t\tlet value = config[key];\n\t\t\tif (value !== undefined && value !== null) docTree.metas[key] = value;\n\t\t});\n\t\tdocTree.parseLevel = 0;\n\t\tdocTree.mainParser = true;\n\t\tdocTree.metas.title = docTree.metas.title || '无名文';\n\n\t\t// 主体解析\n\t\ttext = parseSection(text, docTree);\n\n\t\t// 恢复保留字\n\t\ttext = text.map(content => {\n\t\t\treturn content.replace(/\\%([\\w \\-]+?)\\%/g, (match, mark) => {\n\t\t\t\tvar word = ReversePreserveWords[mark.toLowerCase()];\n\t\t\t\tif (!!word) return word;\n\t\t\t\treturn match;\n\t\t\t});\n\t\t});\n\n\t\t// 实现引用块\n\t\ttext = applyBlockReference(text, docTree);\n\n\t\t// 开始划分章节\n\t\ttext = analyzeSections(text, docTree);\n\n\t\t// 处理系统级引用\n\t\ttext = applyMarkUpReference(text, docTree);\n\n\t\tif (docTree.metas.classname) text = '<article class=\"' + docTree.metas.classname + '\">' + text.join('') + '</article>';\n\t\telse text = '<article>' + text.join('') + '</article>';\n\n\t\tif (docTree.metas.fullexport) {\n\t\t\tdocTree.metas.style.forEach(line => {\n\t\t\t\ttext += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + line + '\">';\n\t\t\t});\n\t\t\tdocTree.metas.script.forEach(line => {\n\t\t\t\ttext += '<script type=\"text/javascript\" src=\"' + line + '\"></script>';\n\t\t\t});\n\t\t}\n\n\t\tvar indexes = FinalRender['_indexes_'] || [];\n\t\tindexes.forEach(index => {\n\t\t\tvar renderList = FinalRender[index];\n\t\t\tif (!renderList) return;\n\t\t\trenderList.forEach(render => {\n\t\t\t\ttext = render.parse(text);\n\t\t\t});\n\t\t});\n\n\t\tvar result = {};\n\t\tresult.content = text;\n\t\tresult.title = docTree.metas.title;\n\t\tresult.lineCount = docTree.metas.totalLineCount;\n\n\t\tresult.meta = {};\n\t\tresult.meta.author = docTree.metas.author;\n\t\tresult.meta.email = docTree.metas.email;\n\t\tresult.meta.description = docTree.metas.description;\n\t\tresult.meta.update = docTree.metas.date;\n\t\tresult.meta.keywords = docTree.metas.keyword.map(kw => kw);\n\n\t\tresult.terminology = {};\n\t\tdocTree.termList.forEach(item => {\n\t\t\tresult.terminology[item[0]] = item[1];\n\t\t});\n\n\t\tresult.notes = {};\n\t\tObject.keys(docTree.refs).forEach(name => {\n\t\t\tresult.notes[name] = docTree.refs[name];\n\t\t});\n\n\t\tresult.blocks = {};\n\t\tObject.keys(docTree.refs).forEach(name => {\n\t\t\tresult.blocks[name] = docTree.blocks[name];\n\t\t});\n\n\t\treturn result;\n\t};\n\tMarkUp.parse = (text, config) => {\n\t\tvar result;\n\t\tresult = MarkUp.fullParse(text, config);\n\t\tif (!result) return '';\n\t\treturn result.content;\n\t};\n\n\tconst reverseSection = (section, config) => {\n\t\tconfig.__level ++;\n\t\tvar contents = [], line = '', singleLine = true;\n\t\tsection.childNodes.forEach(n => {\n\t\t\tvar tag = n.tagName;\n\t\t\tif (!tag) {\n\t\t\t\tif (n.nodeName === '#comment') return;\n\t\t\t\tlet inner = n.textContent || '';\n\t\t\t\tinner = inner.trim();\n\t\t\t\tif (inner.length > 0) line += inner;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttag = tag.trim().toLowerCase();\n\t\t\tvar inner;\n\t\t\tif (ParagraphTags.includes(tag)) {\n\t\t\t\tsingleLine = false;\n\t\t\t\tif (line.length > 0) {\n\t\t\t\t\tcontents.push(config.__prefix + line);\n\t\t\t\t\tline = '';\n\t\t\t\t}\n\n\t\t\t\tif (tag === 'blockquote') {\n\t\t\t\t\tlet lastPrefix = config.__prefix;\n\t\t\t\t\tconfig.__prefix = config.__prefix + '>\\t';\n\t\t\t\t\tinner = reverseSection(n, config);\n\t\t\t\t\tinner = inner.flat(Infinity);\n\t\t\t\t\tinner.push('\\n');\n\t\t\t\t\tconfig.__prefix = lastPrefix;\n\t\t\t\t}\n\t\t\t\telse if (tag === 'ol') {\n\t\t\t\t\tlet lastPrefix = config.__prefix;\n\t\t\t\t\tif (config.__prefix.indexOf('-\\t') >= 0 || config.__prefix.indexOf('1.\\t') >= 0) config.__prefix = '\\t' + config.__prefix;\n\t\t\t\t\telse config.__prefix = config.__prefix + '1.\\t';\n\t\t\t\t\tinner = reverseSection(n, config);\n\t\t\t\t\tinner = inner.flat(Infinity);\n\t\t\t\t\tinner.push('');\n\t\t\t\t\tconfig.__prefix = lastPrefix;\n\t\t\t\t}\n\t\t\t\telse if (tag === 'ul') {\n\t\t\t\t\tlet lastPrefix = config.__prefix;\n\t\t\t\t\tif (config.__prefix.indexOf('-\\t') >= 0 || config.__prefix.indexOf('1.\\t') >= 0) config.__prefix = '\\t' + config.__prefix;\n\t\t\t\t\telse config.__prefix = config.__prefix + '-\\t';\n\t\t\t\t\tinner = reverseSection(n, config);\n\t\t\t\t\tinner = inner.flat(Infinity);\n\t\t\t\t\tinner.push('');\n\t\t\t\t\tconfig.__prefix = lastPrefix;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tinner = reverseSection(n, config);\n\t\t\t\t\tinner = inner.flat(Infinity);\n\t\t\t\t\tinner.push('');\n\t\t\t\t}\n\t\t\t\tif (!!inner && inner.length > 0) contents.push(...inner);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet [inner, isInline] = reverseMix(n, tag, config);\n\t\t\t\tif (isInline) {\n\t\t\t\t\tif (inner.length > 0) {\n\t\t\t\t\t\tline += inner.join('');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (line.length > 0) {\n\t\t\t\t\t\tcontents.push(config.__prefix + line);\n\t\t\t\t\t\tline = '';\n\t\t\t\t\t}\n\t\t\t\t\tinner.forEach(l => {\n\t\t\t\t\t\tcontents.push(config.__prefix + l);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (line.length > 0) contents.push(config.__prefix + line);\n\t\tconfig.__level --;\n\t\treturn contents;\n\t};\n\tconst reverseLine = (node, config) => {\n\t\tvar line = '';\n\t\tnode.childNodes.forEach(n => {\n\t\t\tvar tag = n.tagName;\n\t\t\tif (!tag) {\n\t\t\t\tif (n.nodeName === '#comment') return;\n\t\t\t\tlet inner = n.textContent || '';\n\t\t\t\tinner = inner.trim();\n\t\t\t\tif (inner.length > 0) line += inner;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttag = tag.trim().toLowerCase();\n\t\t\tif (tag === 'a') {\n\t\t\t\tlet url = n.href;\n\t\t\t\tif (url.indexOf('javascript:') === 0) url = '';\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tif (!url || url.substr(0, 1) === '#') {\n\t\t\t\t\tline += inner;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!url.match(/^(ftp|https?):\\/\\//i)) url = config.host + url;\n\t\t\t\t\tinner = '[' + inner + '](' + url + ')';\n\t\t\t\t\tline += inner;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'span' || tag === 'font') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'strong' || tag === 'b') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'em' || tag === 'i') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'sup') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'sub') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tag === 'del') {\n\t\t\t\tlet inner = reverseLine(n, config);\n\t\t\t\tline += inner;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tline += n.innerText;\n\t\t});\n\t\treturn line;\n\t};\n\tconst reverseMix = (node, tag, config) => {\n\t\tif (tag === 'script') return [[''], true];\n\t\tif (tag === 'style') return [[''], true];\n\t\tif (tag === 'link') return [[''], true];\n\t\tif (tag === 'hr') return [['\\n---\\n'], false];\n\t\tif (tag === 'br') return [['\\n'], true];\n\t\tif (tag.match(/^h\\d+$/)) {\n\t\t\tlet lev = tag.substring(1, tag.length);\n\t\t\tlev *= 1;\n\t\t\tlet prefix = '\\n';\n\t\t\tfor (let i = 0; i < lev; i ++) prefix += '#';\n\t\t\tlet line = reverseLine(node, config);\n\t\t\tline = prefix + line + '\\n';\n\t\t\treturn [[line], false];\n\t\t}\n\t\tif (tag === 'a') {\n\t\t\tlet url = node.href;\n\t\t\tif (url.indexOf('javascript:') === 0) url = '';\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\tif (!url || url.substr(0, 1) === '#') return [[inner], true];\n\t\t\tif (!url.match(/^(ftp|https?):\\/\\//i)) url = config.host + url;\n\t\t\tinner = '[' + inner + '](' + url + ')';\n\t\t\treturn [[inner], true];\n\t\t}\n\t\tif (tag === 'img') {\n\t\t\tif (node.src.length === 0) return [[''], true];\n\t\t\tlet inner = '\\n![](' + node.src + ')\\n';\n\t\t\treturn [[inner], false];\n\t\t}\n\t\tif (tag === 'video') {\n\t\t\tif (node.src.length === 0) return [[''], true];\n\t\t\tlet inner = '\\n@[](' + node.src + ')\\n';\n\t\t\treturn [[inner], true];\n\t\t}\n\t\tif (tag === 'audio') {\n\t\t\tif (node.src.length === 0) return [[''], true];\n\t\t\tlet inner = '\\n#[](' + node.src + ')\\n';\n\t\t\treturn [[inner], true];\n\t\t}\n\t\tif (tag === 'span' || tag === 'font') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [[inner], true];\n\t\t}\n\t\tif (tag === 'strong' || tag === 'b') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['**' + inner + '**'], true];\n\t\t}\n\t\tif (tag === 'em' || tag === 'i') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['*' + inner + '*'], true];\n\t\t}\n\t\tif (tag === 'u') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['__' + inner + '__'], true];\n\t\t}\n\t\tif (tag === 'sup') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['^' + inner + '^'], true];\n\t\t}\n\t\tif (tag === 'sub') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['_' + inner + '_'], true];\n\t\t}\n\t\tif (tag === 'del') {\n\t\t\tlet inner = reverseLine(node, config);\n\t\t\treturn [['~~' + inner + '~~'], true];\n\t\t}\n\t\tvar content = reverseLine(node, config);\n\t\treturn [[content], false];\n\t};\n\n\tMarkUp.reverse = (ele, config, outmost=true) => {\n\t\tif (!ele) return '';\n\t\tconfig = config || {};\n\t\tconfig.__level = 0;\n\t\tconfig.__prefix = '';\n\t\tconfig.host = config.host || '';\n\t\tvar content = reverseSection(ele, config);\n\t\tcontent = content.flat(Infinity);\n\t\tcontent = content.join('\\n');\n\t\tcontent = content.replace(/\\n{2,}/g, '\\n\\n');\n\t\treturn content;\n\t};\n\n\tMarkUp.parseLine = parseLine;\n\tMarkUp.parseSection = parseSection;\n\n\tMarkUp.generateRandomKey = generateRandomKey;\n\n\tMarkUp.SymHidden = SymHidden;\n\tMarkUp.PreserveWords = PreserveWords;\n\n\ttry {\n\t\twindow.MarkUp = MarkUp;\n\t}\n\tcatch {\n\t\ttry {\n\t\t\tglobal.MarkUp = MarkUp;\n\t\t}\n\t\tcatch (err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t}\n}) ();","/**\n * Name:\tTimer Utils\n * Desc:    Timer 类拓展工具\n * Author:\tLostAbaddon\n * Version:\t0.0.3\n * Date:\t2018.11.02\n */\n\nif (!!global.setTimeout) { // For Process instead of Thread\n\tglobal.setImmediate = global.setImmediate || function (callback) { setTimeout(callback, 0); };\n\tglobal.nextTick = !!process ? process.nextTick || global.setImmediate : global.setImmediate;\n\tglobal.wait = promisify((delay, next) => {\n\t\tvar start = new Date().getTime();\n\t\tif (Function.is(delay)) {\n\t\t\tnext = delay;\n\t\t\tdelay = 0;\n\t\t}\n\t\tsetTimeout(() => next(new Date().getTime() - start), delay);\n\t});\n\tglobal.waitLoop = promisify(next => {\n\t\tvar start = new Date().getTime();\n\t\tsetImmediate(() => next(new Date().getTime() - start));\n\t});\n\tglobal.waitTick = promisify(next => {\n\t\tvar start = new Date().getTime();\n\t\tnextTick(() => next(new Date().getTime() - start));\n\t});\n\tif (!!global.queueMicrotask) global.waitQueue = promisify(next => {\n\t\tvar start = new Date().getTime();\n\t\tqueueMicrotask(() => next(new Date().getTime() - start));\n\t});\n}\n\nif (global._env === \"node\") {\n\tglobal.now = () => {\n\t\tvar t = process.hrtime();\n\t\treturn t[0] * 1000 + t[1] / 1000000;\n\t}\n} else {\n\tglobal.now = () => Date.now();\n}\n\nglobal.Clock = class Clock {\n\tconstructor (lable='Initialized', not_node=false) {\n\t\tthis.stamps = [];\n\t\tthis.isNode = !!global.process;\n\t\tif (this.isNode && !not_node) {\n\t\t\tthis.clock = () => {\n\t\t\t\tvar c = process.hrtime();\n\t\t\t\treturn c[0] + c[1] / 1e9;\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tthis.clock = () => new Date().getTime() / 1000;\n\t\t}\n\t\tthis.stamp(lable);\n\t}\n\tstamp (lable='') {\n\t\tvar stamp = this.clock();\n\t\tthis.stamps.push([stamp, lable]);\n\t\treturn stamp;\n\t}\n\tlist (is_text=true) {\n\t\tvar last = this.stamps[0][0], len = this.stamps.length, list, max = 0;\n\t\tlist = this.stamps.map(s => {\n\t\t\tvar r = [s[0] - last, s[1]];\n\t\t\tlast = s[0];\n\t\t\tvar l = s[1].length;\n\t\t\tif (l > max) max = l;\n\t\t\treturn r;\n\t\t});\n\t\tif (!is_text) return list;\n\t\tlist = list.map(l => {\n\t\t\tvar lab = l[1], nan = l[0];\n\t\t\tlab = lab.padStart(max, ' ');\n\t\t\treturn lab + '\\t' + nan;\n\t\t});\n\t\treturn list.join('\\n');\n\t}\n\tgetStamp (lable) {\n\t\tif (!lable) return -1;\n\t\tvar result = -1;\n\t\tthis.stamps.some(s => {\n\t\t\tif (s[1] === lable) {\n\t\t\t\tresult = s[0];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\treturn result;\n\t}\n\tspent (start, end) {\n\t\tif (!end) {\n\t\t\tend = this.getStamp(start);\n\t\t\tif (end < 0) end = this.stamps[this.stamps.length - 1][0];\n\t\t\tstart = this.stamps[0][0];\n\t\t}\n\t\telse {\n\t\t\tstart = this.getStamp(start);\n\t\t\tif (start < 0) start = this.stamps[0][0];\n\t\t\tend = this.getStamp(end);\n\t\t\tif (end < 0) end = this.stamps[this.stamps.length - 1][0];\n\t\t}\n\t\treturn end - start;\n\t}\n};","/**\n *\tTitle: MarkUp Parser Extensions\n *\tAuthor: LostAbaddon\n *\tEmail: LostAbaddon@gmail.com\n *\tVersion: 1.0.0\n *\tDate: 2020.03.18\n */\n\nconst generateRandomKey = MarkUp.generateRandomKey;\n\n// LaTeX\nMarkUp.addExtension({\n\tname: 'LaTeX',\n\tparse: (line, doc, caches) => {\n\t\tcaches[MarkUp.SymHidden] = caches[MarkUp.SymHidden] || {};\n\t\tvar changed = false;\n\t\tline = line.replace(/(\\\\+)\\$/g, (match, slash) => {\n\t\t\tvar len = Math.floor(slash.length / 2);\n\t\t\tvar result = '';\n\t\t\tvar meta = '%' + MarkUp.PreserveWords['\\\\'] + '%';\n\t\t\tfor (let i = 0; i < len; i ++) result += meta\n\t\t\tif (len * 2 !== slash.length) {\n\t\t\t\tlet word = MarkUp.PreserveWords['$'];\n\t\t\t\tresult += '%' + word + '%';\n\t\t\t} else {\n\t\t\t\tresult += '$';\n\t\t\t}\n\t\t\tchanged = true;\n\t\t\treturn result;\n\t\t});\n\t\tline = line.replace(/\\$([\\w\\W]+?)\\$/g, (match, content) => {\n\t\t\tif (match.indexOf('$$') >= 0) return match;\n\t\t\tvar key = 'latex-' + generateRandomKey();\n\t\t\tcaches[MarkUp.SymHidden][key] = '<span class=\"latex inline\">$' + content + '$</span>';\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, -1);\n\n// FA 图标\nMarkUp.addExtension({\n\tname: 'FontAwesome',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\n\t\tline = line.replace(/:([\\w\\-\\.]+?):/g, (match, name, pos) => {\n\t\t\tname = name.trim();\n\t\t\tchanged = true;\n\t\t\treturn '<i class=\"fas far fa-' + name + '\"></i>'\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 3);\n// 超链接\nMarkUp.addExtension({\n\tname: 'HyperLinks',\n\tparse: (line, doc, caches) => {\n\t\tdoc.links = doc.links || [];\n\t\tvar changed = false;\n\t\tline = line.replace(/([!@#]?)\\[([\\w %'\"\\*_\\^\\|~\\-\\.\\+=·,;:\\?!\\\\\\/&\\u0800-\\uffff]*?)\\] *\\((\\@?[\\w\\W]*?)\\)/g, (match, prev, title, link, pos) => {\n\t\t\tlink = link.trim();\n\t\t\tif (link.length === 0) return match;\n\t\t\tif (!!caches[title]) return match;\n\n\t\t\tif (prev === '') {\n\t\t\t\tdoc.links.push([title, link]);\n\t\t\t\tlet first = link.substr(0, 1);\n\t\t\t\tlet isInner = first === '@';\n\t\t\t\tlet content = MarkUp.parseLine(title, doc, 3, caches);\n\t\t\t\tlet key = 'link-' + generateRandomKey();\n\t\t\t\tlet ui = '<a href=\"';\n\t\t\t\tif (isInner) {\n\t\t\t\t\tui = ui + '#' + link.substr(1, link.length) + '\">';\n\t\t\t\t}\n\t\t\t\telse if (link.indexOf('@') > 1) {\n\t\t\t\t\tui = ui + 'mailto:' + link + '\">';\n\t\t\t\t}\n\t\t\t\telse if (first === '.' || first === '\\\\' || first === '/') {\n\t\t\t\t\tui = ui + link + '\">';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tui = ui + link + '\" target=\"_blank\">';\n\t\t\t\t}\n\t\t\t\tui = ui + content + '</a>';\n\t\t\t\tcaches[key] = ui;\n\t\t\t\tchanged = true;\n\t\t\t\treturn '%' + key + '%';\n\t\t\t}\n\t\t\treturn match;\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 3);\n// 锚点与术语\nMarkUp.addExtension({\n\tname: 'AnchorAndTerm',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\n\t\tline = line.replace(/\\[([\\w %'\"\\-\\.\\+=,;:\\?!\\\\\\/&\\u0800-\\uffff]*?)\\] *\\{([\\w \\-\\.]+?)\\}/g, (match, title, name, pos) => {\n\t\t\tname = name.trim();\n\t\t\ttitle = title.trim();\n\t\t\tif (name.length === 0) return match;\n\t\t\tif (title.length === 0) return match;\n\t\t\tif (!!caches[title]) return match;\n\n\t\t\tvar content = MarkUp.parseLine(title, doc, 3, caches), key;\n\n\t\t\tif (!!doc.refs[name]) {\n\t\t\t\t// 有定义，所以是术语\n\t\t\t\tkey = 'term-' + generateRandomKey();\n\t\t\t\tdoc.termList = doc.termList || [];\n\t\t\t\tdoc.termList.push([name, title]);\n\t\t\t\tdoc.termList[name] = title;\n\t\t\t\tlet ui = '<a class=\"terminology\" name=\"' + name + '\" href=\"#ref-' + name + '\"><strong>' + title + '</strong></a>';\n\t\t\t\tcaches[key] = ui;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// 无定义，所以只是一个锚点\n\t\t\t\tkey = 'anchor-' + generateRandomKey();\n\t\t\t\tlet ui = '<a name=\"' + name + '\">' + title + '</a>';\n\t\t\t\tcaches[key] = ui;\n\t\t\t}\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 3);\n\n// Code\nMarkUp.addExtension({\n\tname: 'Code',\n\tparse: (line, doc, caches) => {\n\t\tcaches[MarkUp.SymHidden] = caches[MarkUp.SymHidden] || {};\n\t\tvar changed = false;\n\t\tline = line.replace(/`([\\w\\W]+?)`/g, (match, content) => {\n\t\t\tif (match.indexOf('``') >= 0) return match;\n\t\t\tvar key = 'code-' + generateRandomKey();\n\t\t\tcaches[MarkUp.SymHidden][key] = '<code>' + content + '</code>';\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n});\n// 粗体与斜体\nMarkUp.addExtension({\n\tname: 'BoldAndItalic',\n\tparse: (line, doc, caches) => {\n\t\tvar locs = [];\n\t\tline.replace(/\\*+/g, (match, pos) => {\n\t\t\tlocs.push([pos, match.length]);\n\t\t});\n\t\tif (locs.length < 2) return [line, false];\n\n\t\tvar generate = (start, end, isBold) => {\n\t\t\tvar part = line.substring(start, end + (isBold ? 2 : 1));\n\t\t\tvar inner;\n\t\t\tif (isBold) inner = part.substring(2, part.length - 2);\n\t\t\telse inner = part.substring(1, part.length - 1);\n\t\t\tvar key = (isBold ? 'strong' : 'em') + '-' + generateRandomKey();\n\t\t\tinner = MarkUp.parseLine(inner, doc, 5, caches);\n\t\t\tif (isBold) {\n\t\t\t\tcaches[key] = '<strong>' + inner + '</strong>';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcaches[key] = '<em>' + inner + '</em>';\n\t\t\t}\n\t\t\tkey = '%' + key + '%';\n\t\t\tline = line.replace(part, key);\n\t\t};\n\n\t\tvar first = locs[0][1], second = locs[1][1];\n\t\tif (first < 3) {\n\t\t\t// 如果开头非联合\n\t\t\tif (first === second) {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t\telse if (second < 3) {\n\t\t\t\tlet third = locs[2];\n\t\t\t\tif (!third) {\n\t\t\t\t\tif (first > second) {\n\t\t\t\t\t\tgenerate(locs[0][0] + 1, locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[0][0], locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthird = third[1];\n\t\t\t\t\tif (third < 3) {\n\t\t\t\t\t\tif (second === third) {\n\t\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (first === third) {\n\t\t\t\t\t\t\tgenerate(locs[0][0], locs[2][0], first === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn [line, false];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t} else {\n\t\t\t// 开头联合\n\t\t\tif (second < 3) {\n\t\t\t\tif (second === 1) {\n\t\t\t\t\tgenerate(locs[0][0] + first - 1, locs[1][0], false);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t} else {\n\t\t\t\t\tgenerate(locs[0][0] + first - 2, locs[1][0], true);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0] + second - 2, true);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t}\n\t\treturn [line, false];\n\t},\n});\n// 下标与下划线\nMarkUp.addExtension({\n\tname: 'SubAndUnderline',\n\tparse: (line, doc, caches) => {\n\t\tvar locs = [];\n\t\tline.replace(/_+/g, (match, pos) => {\n\t\t\tlocs.push([pos, match.length]);\n\t\t});\n\t\tif (locs.length < 2) return [line, false];\n\n\t\tvar generate = (start, end, isUnder) => {\n\t\t\tvar part = line.substring(start, end + (isUnder ? 2 : 1));\n\t\t\tvar inner;\n\t\t\tif (isUnder) inner = part.substring(2, part.length - 2);\n\t\t\telse inner = part.substring(1, part.length - 1);\n\t\t\tvar key = (isUnder ? 'underline' : 'sub') + '-' + generateRandomKey();\n\t\t\tinner = MarkUp.parseLine(inner, doc, 5, caches);\n\t\t\tif (isUnder) {\n\t\t\t\tcaches[key] = '<u>' + inner + '</u>';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcaches[key] = '<sub>' + inner + '</sub>';\n\t\t\t}\n\t\t\tkey = '%' + key + '%';\n\t\t\tline = line.replace(part, key);\n\t\t};\n\n\t\tvar first = locs[0][1], second = locs[1][1];\n\t\tif (first < 3) {\n\t\t\t// 如果开头非联合\n\t\t\tif (first === second) {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t\telse if (second < 3) {\n\t\t\t\tlet third = locs[2];\n\t\t\t\tif (!third) {\n\t\t\t\t\tif (first > second) {\n\t\t\t\t\t\tgenerate(locs[0][0] + 1, locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[0][0], locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthird = third[1];\n\t\t\t\t\tif (third < 3) {\n\t\t\t\t\t\tif (second === third) {\n\t\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (first === third) {\n\t\t\t\t\t\t\tgenerate(locs[0][0], locs[2][0], first === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn [line, false];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t} else {\n\t\t\t// 开头联合\n\t\t\tif (second < 3) {\n\t\t\t\tif (second === 1) {\n\t\t\t\t\tgenerate(locs[0][0] + first - 1, locs[1][0], false);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t} else {\n\t\t\t\t\tgenerate(locs[0][0] + first - 2, locs[1][0], true);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0] + second - 2, true);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t}\n\t\treturn [line, false];\n\t},\n});\n// 波浪线与删除线\nMarkUp.addExtension({\n\tname: 'WavyAndDelete',\n\tparse: (line, doc, caches) => {\n\t\tvar locs = [];\n\t\tline.replace(/~+/g, (match, pos) => {\n\t\t\tlocs.push([pos, match.length]);\n\t\t});\n\t\tif (locs.length < 2) return [line, false];\n\n\t\tvar generate = (start, end, isDelete) => {\n\t\t\tvar part = line.substring(start, end + (isDelete ? 2 : 1));\n\t\t\tvar inner;\n\t\t\tif (isDelete) inner = part.substring(2, part.length - 2);\n\t\t\telse inner = part.substring(1, part.length - 1);\n\t\t\tvar key = (isDelete ? 'delete' : 'wavy') + '-' + generateRandomKey();\n\t\t\tinner = MarkUp.parseLine(inner, doc, 5, caches);\n\t\t\tif (isDelete) {\n\t\t\t\tcaches[key] = '<del>' + inner + '</del>';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcaches[key] = '<span class=\"text-wavy\">' + inner + '</span>';\n\t\t\t}\n\t\t\tkey = '%' + key + '%';\n\t\t\tline = line.replace(part, key);\n\t\t};\n\n\t\tvar first = locs[0][1], second = locs[1][1];\n\t\tif (first < 3) {\n\t\t\t// 如果开头非联合\n\t\t\tif (first === second) {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t\telse if (second < 3) {\n\t\t\t\tlet third = locs[2];\n\t\t\t\tif (!third) {\n\t\t\t\t\tif (first > second) {\n\t\t\t\t\t\tgenerate(locs[0][0] + 1, locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[0][0], locs[1][0], false);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthird = third[1];\n\t\t\t\t\tif (third < 3) {\n\t\t\t\t\t\tif (second === third) {\n\t\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (first === third) {\n\t\t\t\t\t\t\tgenerate(locs[0][0], locs[2][0], first === 2);\n\t\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn [line, false];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tgenerate(locs[1][0], locs[2][0], second === 2);\n\t\t\t\t\t\treturn [line, true];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0], first === 2);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t} else {\n\t\t\t// 开头联合\n\t\t\tif (second < 3) {\n\t\t\t\tif (second === 1) {\n\t\t\t\t\tgenerate(locs[0][0] + first - 1, locs[1][0], false);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t} else {\n\t\t\t\t\tgenerate(locs[0][0] + first - 2, locs[1][0], true);\n\t\t\t\t\treturn [line, true];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(locs[0][0], locs[1][0] + second - 2, true);\n\t\t\t\treturn [line, true];\n\t\t\t}\n\t\t}\n\t\treturn [line, false];\n\t},\n});\n// 上标与更大\nMarkUp.addExtension({\n\tname: 'SupAndLarger',\n\tparse: (line, doc, caches) => {\n\t\tvar generate = (start, end, level) => {\n\t\t\tvar part = line.substring(start, end + level);\n\t\t\tvar inner = part.substring(level, part.length - level);\n\t\t\tvar key = 'larger-' + level + '-' + generateRandomKey();\n\t\t\tinner = MarkUp.parseLine(inner, doc, 5, caches);\n\t\t\tif (level <= 1) {\n\t\t\t\tcaches[key] = '<sup>' + inner + '</sup>';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcaches[key] = '<span class=\"text-larger level-' + (level - 1) + '\">' + inner + '</span>';\n\t\t\t}\n\t\t\tkey = '%' + key + '%';\n\t\t\tline = line.replace(part, key);\n\t\t};\n\n\t\tvar changed = false;\n\t\tline.replace(/(\\^+)([\\w\\W]+?)(\\^+)/, (match, pre, content, post, pos) => {\n\t\t\tvar checker = content.match(/(\\\\*)\\[/);\n\t\t\tif (!!checker) {\n\t\t\t\tlet len = checker[1].length;\n\t\t\t\tif (len >> 1 << 1 === len) return match;\n\t\t\t}\n\t\t\tpre = pre.length;\n\t\t\tpost = post.length;\n\t\t\tif (pre > post) {\n\t\t\t\tgenerate(pos + pre - post, pos + match.length - post, post);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgenerate(pos, pos + match.length - post, pre);\n\t\t\t}\n\t\t\tchanged = true;\n\t\t\treturn match;\n\t\t});\n\t\treturn [line, changed];\n\t},\n});\n\n// 颜色\nMarkUp.addExtension({\n\tname: 'Color',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\n\t\tline = line.replace(/\\[(\\w+)\\]([\\w\\W]+?)\\[\\/\\]/, (match, color, content, pos) => {\n\t\t\tif (content.length === 0) return match;\n\n\t\t\tcontent = MarkUp.parseLine(content, doc, 5, caches);\n\t\t\tvar key = 'color-' + generateRandomKey();\n\t\t\tcaches[key] = '<span class=\"color-' + color + '\">' + content + '</span>';\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 6);\n// 脚注与尾注\nMarkUp.addExtension({\n\tname: 'FootnoteAndEndnote',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\n\t\tline = line.replace(/(\\[([\\w %'\"\\-\\.\\+=,;:\\?!\\\\\\/&\\u0800-\\uffff]*?)\\])?\\[([\\^:])([\\w \\-\\.]+?)\\]/g, (match, all, title='', prefix, name) => {\n\t\t\tname = name.trim();\n\t\t\tif (name.length === 0) return match;\n\t\t\tif (!doc.refs[name]) return match;\n\n\t\t\tvar ui = '<a class=\"notemark\" type=\"';\n\t\t\tif (prefix === '^') {\n\t\t\t\tui += 'endnote\" href=\"#endnote-' + name\n\t\t\t}\n\t\t\telse {\n\t\t\t\tui += 'footnote'\n\t\t\t}\n\t\t\tui += '\" name=\"' + name + '\">';\n\t\t\tif (title) {\n\t\t\t\tui = ui + MarkUp.parseLine(title, doc, 6, caches);\n\t\t\t}\n\t\t\tui += '<sup>'\n\t\t\tif (prefix === '^') { // 尾注\n\t\t\t\tdoc.endnotes = doc.endnotes || [];\n\t\t\t\tlet i = doc.endnotes.indexOf(name);\n\t\t\t\tif (i < 0) {\n\t\t\t\t\ti = doc.endnotes.length;\n\t\t\t\t\tdoc.endnotes.push(name);\n\t\t\t\t}\n\t\t\t\ti ++;\n\t\t\t\tui += '(' + i + ')';\n\t\t\t}\n\t\t\telse { // 脚注\n\t\t\t\tdoc.footnotes = doc.footnotes || [];\n\t\t\t\tlet i = doc.footnotes.indexOf(name);\n\t\t\t\tif (i < 0) {\n\t\t\t\t\ti = doc.footnotes.length;\n\t\t\t\t\tdoc.footnotes.push(name);\n\t\t\t\t}\n\t\t\t\tui += '[%%FN-' + i + '%%]';\n\t\t\t}\n\t\t\tui += '</sup></a>';\n\t\t\tvar key = 'notemark-' + generateRandomKey();\n\t\t\tcaches[key] = ui;\n\t\t\treturn '%' + key + '%'\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 6);\n\n// 图片等资源\nMarkUp.addExtension({\n\tname: 'HyperLinks',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\n\t\tline = line.replace(/([!@#])\\[([^\\n]*?)\\] *\\((\\@?[\\w\\W]*?)\\)/g, (match, prev, title, link, pos) => {\n\t\t\tlink = link.trim();\n\t\t\tif (link.length === 0) return match;\n\n\t\t\tvar float = link.match(/[ 　\\t]+\"(left|right)\"/);\n\t\t\tif (!!float) {\n\t\t\t\tlink = link.replace(float[0], '');\n\t\t\t\tfloat = float[1];\n\t\t\t}\n\n\t\t\tvar type = 'image';\n\t\t\tif (prev === '@') type = 'video';\n\t\t\telse if (prev === '#') type = 'audio';\n\t\t\tdoc[type] = doc[type] || [];\n\t\t\tdoc[type].push([title, link]);\n\n\t\t\tvar content = '<div class=\"resource ' + type;\n\t\t\tif (!!float) {\n\t\t\t\tcontent += ' float-' + float;\n\t\t\t}\n\t\t\tcontent += '\">';\n\t\t\tcontent += '<figure>';\n\t\t\tif (prev === '!') {\n\t\t\t\tcontent += '<img src=\"' + link + '\">';\n\t\t\t}\n\t\t\telse if (prev === '@') {\n\t\t\t\tcontent += '<video src=\"' + link + '\" controls>你的浏览器不支持 <code>video</code> 标签.</video>';\n\t\t\t}\n\t\t\telse if (prev === '#') {\n\t\t\t\tcontent += '<audio src=\"' + link + '\" controls>你的浏览器不支持 <code>audio</code> 标签.</audio>';\n\t\t\t}\n\t\t\tcontent += '</figure>';\n\t\t\tcontent += '<figcaption>' + title + '</figcaption>';\n\t\t\tcontent += '</div>';\n\n\t\t\tvar key = type + '-' + generateRandomKey();\n\t\t\tcaches[key] = content;\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 7);\n\n// URL 格式解析\nMarkUp.addExtension({\n\tname: 'InlineLinks',\n\tparse: (line, doc, caches) => {\n\t\tvar changed = false;\n\t\tif (!doc.mainParser) return [line, changed];\n\n\t\tline = line.replace(/https?:\\/\\/[\\w\\-\\+=\\.;\\?\\\\\\/%]+/gi, (match, pos) => {\n\t\t\tdoc.links.push([match, match]);\n\t\t\tvar ui = '<a href=\"' + match + '\" target=\"_blank\">' + match + '</a>';\n\t\t\tvar key = 'link-' + generateRandomKey();\n\t\t\tcaches[key] = ui;\n\t\t\tchanged = true;\n\t\t\treturn '%' + key + '%';\n\t\t});\n\t\treturn [line, changed];\n\t},\n}, 0, 8);","const EventBus = {};\r\n\r\nwindow.EventBus = {\r\n\tasync pub (ch, msg) {\r\n\t\tif (!String.is(ch)) return false;\r\n\t\tvar bus = EventBus[ch];\r\n\t\tif (!bus) return false;\r\n\t\tawait Promise.all(bus.map(cb => cb(msg)));\r\n\t\treturn true;\r\n\t},\r\n\tsub (ch, cb) {\r\n\t\tif (!String.is(ch)) return false;\r\n\t\tvar bus = EventBus[ch];\r\n\t\tif (!bus) {\r\n\t\t\tbus = [];\r\n\t\t\tEventBus[ch] = bus;\r\n\t\t}\r\n\t\tbus.push(cb);\r\n\t}\r\n};"],"sourceRoot":""}