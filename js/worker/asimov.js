self.global=self,importScripts("../../Asimov/markup.js"),importScripts("../../Asimov/extensions.js"),importScripts("./extmarkup.js");const handler=(n,s)=>({data:e})=>{if(e==="suicide"){n.close();return}var o="",i=0;e.action==="parse"?(o=MarkUp.fullParse(e.content,e.config),i=o.content.length):e.action==="reverse"?(o=MarkUp.plaintextReverse(e.content,e.config),i=o.length):o="\u672A\u77E5\u4EFB\u52A1\u7C7B\u578B\uFF01",console.log("Asimov Done: "+e.content.length+" / "+i),s.postMessage({id:e.id,result:o})};self.onconnect!==void 0?(self.onconnect=({ports:n})=>{console.log("Shared-Worker Asimov Connected!");var s=n[0];s.onmessage=handler(s,s)},console.log("Shared-Worker Asimov is READY!")):(self.onmessage=handler(self,self),console.log("Dedicated-Worker Asimov is READY!"));
