self.global=self,importScripts("../../Asimov/markup.js"),importScripts("../../Asimov/extensions.js"),importScripts("./extmarkup.js");const isSharedWorker=!self.Worker;isSharedWorker?(self.onconnect=({ports:o})=>{var s=o[0];console.log("Shared-Worker Connected!"),s.onmessage=({data:e})=>{if(e==="suicide"){s.close();return}var n="",r=0;e.action==="parse"?(n=MarkUp.fullParse(e.content,e.config),r=n.content.length):e.action==="reverse"?(n=MarkUp.plaintextReverse(e.content,e.config),r=n.length):n="\u672A\u77E5\u4EFB\u52A1\u7C7B\u578B\uFF01",console.log("Asimov Done: "+e.content.length+" / "+r),s.postMessage({id:e.id,result:n})}},console.log("Shared-Worker Asimov is READY!")):(self.onmessage=({data:o})=>{if(o==="suicide"){port.close();return}var s="",e=0;o.action==="parse"?(s=MarkUp.fullParse(o.content,o.config),e=s.content.length):o.action==="reverse"?(s=MarkUp.plaintextReverse(o.content),e=s.length):s="\u672A\u77E5\u4EFB\u52A1\u7C7B\u578B\uFF01",console.log("Asimov Done: "+o.content.length+" / "+e),self.postMessage({id:o.id,result:s})},console.log("Dedicated-Worker Asimov is READY!"));
