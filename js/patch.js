((c,t,h)=>{c.Devices={},Devices.isAndroid=!!t.match(/Android/i),Devices.isiPhone=!!t.match(/iPhone/i),Devices.isiPad=!!t.match(/iPad/i),Devices.isiPod=!!t.match(/iPod/i),Devices.isiOS=Devices.isiPhone||Devices.isiPad||Devices.isiPod,Devices.isBlackBerry=!!t.match(/BlackBerry/i),Devices.isIE=h.pointerEnabled||h.msPointerEnabled,Devices.isSafari=!!t.match(/safari/i)&&!t.match(/chrome/i),Devices.isOpera=!!t.match(/Opera/i)&&!t.match(/Opera Mini/i),Devices.isOperaMini=!!t.match(/Opera Mini/i),Devices.isWinPhone=!!t.match(/IEMobile/i)||!!t.match(/WPDesktop/i),Devices.isWebOS=!!t.match(/webOS/i),Devices.isUiWebView=!!t.match(/AppleWebKit/i),Devices.isMobile=Devices.isAndroid||Devices.isiOS||Devices.isBlackBerry||Devices.isWinPhone||Devices.isWebOS;const r=new Map;if(r.set("loaded",[]),r.set("ready",[]),r.set("initialized",[]),c.LifeCycle={on:{loaded(a,e=!1){var i=r.get("loaded");i.push(a)},ready(a,e=!1){var i=r.get("ready");i.push(a)},initialized(a,e=!1){var i=r.get("initialized");i.push(a)}},emit:{async loaded(){var a=r.get("loaded");if(!a||a.size===0)return!0;var e=await Promise.all(a.map(async i=>await i()));return!e.some(i=>!!i)},async ready(a){var e=r.get("ready");if(!e||e.size===0)return!0;var i=await Promise.all(e.map(async s=>await s(a)));return!i.some(s=>!!s)},async initialized(a){var e=r.get("initialized");if(!e||e.size===0)return!0;var i=await Promise.all(e.map(async s=>await s(a)));return!i.some(s=>!!s)}}},c.BroadcastChannel)return;const o=new Map;class d{constructor(e,i){this.timestamp=Date.now(),this.data=i,this.target=e,this.type="message"}}c.BroadcastChannel=class{constructor(e){this.name=e}addEventListener(e,i){if(e==="message"){var s=o.get(this.name);s||(s=new Set,o.set(this.name,s)),s.add({host:this,callback:i})}}removeEventListener(e,i){if(e==="message"){var s=o.get(this.name);if(!!s){var n=null;for(let l of s)if(l.host===this&&l.callback===i){n=l;break}n&&s.delete(n)}}}postMessage(e){var i=o.get(this.name);if(!!i){var s=new d(this,e);setTimeout(()=>{for(let n of i)n.host!==this&&n.callback(s);this.onmessage(s)},0)}}onmessage(){}onmessageerror(){}}})(window,window.navigator.userAgent,window.navigator);
