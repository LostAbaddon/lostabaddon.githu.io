(()=>{const Z=Symbol("HIDDEN"),Q=["GOD","THEONE","TITLE","AUTHOR","EMAIL","DESCRIPTION","STYLE","SCRIPT","DATE","KEYWORD","GLOSSARY","TOC","REF","LINK","IMAGES","VIDEOS","AUDIOS","ARCHOR","SHOWTITLE","SHOWAUTHOR","RESOURCES"],se=["toc","glossary","resources","images","videos","audios"],ie=["article","section","div","p","header","footer","aside","ul","ol","li","blockquote","pre","figure","figcaption"],U={system:/(.?)(if|else|for|while|do|continue|break|return|new|delete|try|catch|final|then|async|await|yield|null|undefined|nil|import|export|module|require|default)(.?)/g,function:/(.?)(const|var|let|function|class|Class|Number|String|Boolean|Integer|Float|Promise|Proxy|Array|ArrayBuffer|AysncFunction|Object|Function|Uint8Array|Uint16Array|Uint64Array|Int8Array|Int16Array|Int64Array|Buffer|BigInt)(.?)/g,operator:/(.?)(=>|>=|<=|\+=|\-=|\*=|\/=|\/|\+{1,2}|\-{1,2}|={1,3}|>{1,2}|<{1,2}|\-|\+|\*{1,2})(.?)/g,consts:/(.?)(\d+(\.\d*)?)(.?)/g,object:/(.?)(Math|console|window|process|document|Document|location|localStorage|sessionStorage|navigator|Navigator|Blob|BroadcastChannel|Cache|CacheStorage|CachedDB|History)(.?)/g},F={"\\":"slash","/":"antislash",_:"underline","*":"star","+":"plus","-":"minus","=":"equal","`":"dash","~":"wavy","!":"bang","?":"question",":":"colon","@":"at-circle","#":"sharp","^":"angle",$:"dollar","%":"percent","(":"left-bracket",")":"right-bracket","[":"left-square-bracket","]":"right-square-bracket","{":"left-curve-bracket","}":"right-curve-bracket","|":"vertical-line"},G={};Object.keys(F).forEach(t=>G[F[t].toLowerCase()]=t),G.$="&#36;",Q.forEach((t,a)=>Q[a]=t.toLowerCase());const A={},D={},Y={},B={},R=(t=8)=>{var a="";for(let r=0;r<t;r++)a+=Math.floor(Math.random()*10)+"";return a};A.addExtension=(t,a=0,r=5)=>{if(a===0){let i=D._indexes_;i||(i=[],D._indexes_=i),i.includes(r)||(i.push(r),i.sort((l,s)=>l-s)),i=D[r],i||(i=[],D[r]=i),i.push(t)}else if(a===1){let i=Y._indexes_;i||(i=[],Y._indexes_=i),i.includes(r)||(i.push(r),i.sort((l,s)=>l-s)),i=Y[r],i||(i=[],Y[r]=i),i.push(t)}else if(a===2){let i=B._indexes_;i||(i=[],B._indexes_=i),i.includes(r)||(i.push(r),i.sort((l,s)=>l-s)),i=B[r],i||(i=[],B[r]=i),i.push(t)}};const ne=t=>(t=`
`+t+`
`,t=t.replace(/(\r\n|\n\r)/g,`
`).replace(/\n([ 　]+)/g,(a,r)=>{var i=r.replace(/　/g,"  ").length;return i<4?`
`:a}),t=t.replace(/(\n[ 　\t>\-\+\*(\d+\.)]+)(`{3}|~{3}|\${2})/g,(a,r,i)=>r+`
`+i),Q.forEach(a=>{var r=new RegExp("([\\w\\W]? *)\\["+a+"\\]( *[\\w\\W]?)","gi");t=t.replace(r,(i,l,s)=>l==="]"||s==="["||s==="("?i:l+"%"+a+"%"+s)}),t),le=t=>(t=t.replace(/^\n+|\n+$/gi,""),t=t.replace(/\n{3,}/gi,`


`),t),T=(t,a,r=-Infinity,i)=>{var l=D._indexes_;if(!l)return"";var s=!i;return i=i||{},l.some(e=>{if(r>e||e>=0)return!0;for(var n=D[e],p=!0;p;)p=!1,n.forEach(h=>{var f;[t,f]=h.parse(t,a,i),f&&(p=!0)})}),t=be(t),l.forEach(e=>{if(!(r>e)&&!(e<0))for(var n=D[e],p=!0;p;)p=!1,n.forEach(h=>{var f;[t,f]=h.parse(t,a,i),f&&(p=!0)})}),s&&(t=V(t,i)),t},K=(t,a,r=0,i)=>{a.parseLevel++;var l=[],s=!1;i||(s=!0,i={});var e=[];l=t.split(`
`),l.forEach((h,f)=>{var u=h.match(/^[ 　\t]*$/);if(h.length===0){e.push([f,1,0,0,0,0,0,0]);return}if(h.match(/^([=\-\+\*\._#]{3,}|~{4,})$/)){h.match(/^\-+$|^=+$/)?e.push([f,0,2,0,0,0,0,0]):h.match(/^~+$/)?e.push([f,0,2,0,0,1,0,0]):e.push([f,0,1,0,0,0,0,0]);return}if(u=h.match(/^(`{3}|~{3})[ 　\t]*([\w\-\.\+=\?\~\\\/]*)$/),u){u[2]?e.push([f,0,0,0,0,2,0,0,u[1]]):e.push([f,0,0,0,0,1,0,0,u[1]]);return}if(u=h.match(/^\${2}[ 　\t]*$/),u){u[2]?e.push([f,0,0,0,0,0,0,1]):e.push([f,0,0,0,0,0,0,1]);return}if(u=h.match(/^([\-\+\*~]|\d+\.)[ 　\t]+/),u){if(u=h.match(/^([\-\+\*~]|\d+\.)[ 　\t]+(`{3,}|~{3,})[ 　\t]*([\w\-\.\+=\?\~\\\/]*)$/),u){u[2]?e.push([f,0,0,0,1,2,0,0]):e.push([f,0,0,0,1,1,0,0]);return}if(u=h.match(/^([\-\+\*~]|\d+\.)[ 　\t]+(\${2})[ 　\t]*$/),u){u[2]?e.push([f,0,0,0,1,0,0,1]):e.push([f,0,0,0,1,0,0,1]);return}e.push([f,0,0,0,1,0,0,0]);return}if(u=h.match(/^(> *)+/),u){if(u=h.match(/^(> *)+[ 　\t]+(`{3,}|~{3,})[ 　\t]*([\w\-\.\+=\?\~\\\/]*)$/),u){u[2]?e.push([f,0,0,1,0,2,0,0]):e.push([f,0,0,1,0,1,0,0]);return}if(u=h.match(/^(> *)+[ 　\t]+(\${2})[ 　\t]*$/),u){u[2]?e.push([f,0,0,1,0,0,0,1]):e.push([f,0,0,1,0,0,0,1]);return}e.push([f,0,0,1,0,0,0,0]);return}if(u=h.match(/^([ 　\t]+)/),u){if(u=h.match(/(`{3,}|~{3,})[ 　\t]*([\w\-\.\+=\?\~\\\/]*)$/),u){u[1]?e.push([f,0,0,1,1,2,0,0]):e.push([f,0,0,1,1,1,0,0]);return}if(u=h.match(/(\${2})[ 　\t]*([\w\-\.\+=\?\~\\\/]*)$/),u){u[1]?e.push([f,0,0,1,1,0,0,1]):e.push([f,0,0,1,1,0,0,1]);return}e.push([f,0,0,1,1,0,0,0]);return}if(u=h.match(/\|/g),u){let o=h.match(/\\\|/g);if(!o||!!o&&o.length!==u.length){let c=!0;for(o=h;c;){c=!1;let m=o.replace(/\([^\(\)\[\]\{\}]+?\)/g,"");m=m.replace(/\[[^\(\)\[\]\{\}]+?\]/g,""),m=m.replace(/\{[^\(\)\[\]\{\}]+?\}/g,""),c=m!==o,o=m}if(o.indexOf("|")>=0){e.push([f,0,0,0,0,0,1,0]);return}}}});var n={};e.forEach(h=>{n[h[0]]=h});var p=!1;if(e.length>0){if(p=fe(e,n,l,a,i)||p,e.length>0&&(p=ue(e,n,l,a,i)||p),e.length>0&&(p=he(e,n,l,a,i)||p),s&&r===0&&!!a.metas.linenumber){let h=0;l.forEach((f,u)=>{if(!!f&&!f.match(/^%[\w\-]+%$/)){var o=n[u];if(!(!!o&&(o[1]>0||o[2]>0))&&!f.match(/^[ 　\t>\+\-\*`\^\|_~=\{\}<]$/)&&!f.match(/^[!@#]\[[^\(\)\[\]\{\}]*?(\[.*?\][ 　\t]*\(.*?\))*?[^\(\)\[\]\{\}]*?\](\([^\(\)\[\]\{\}]*?\))$/)&&!f.match(/^[!@#]\[[^\(\)\[\]\{\}]*?(\[.*?\][ 　\t]*\(.*?\))*?[^\(\)\[\]\{\}]*?\](\[[^\(\)\[\]\{\}]*?\])$/)){var c=f.match(/\{[<\|>]\}$/);c?(c=c[0],f=f.substr(0,f.length-c.length)+'<span name="line-'+h+'"></span>'+c):f=f+'<span name="line-'+h+'"></span>',h++,l[u]=f}}}),a.metas.totalLineCount=h}[l,n]=M(e,n,l),e.length>0&&(p=pe(e,n,l,a,i)||p,[l,n]=M(e,n,l)),e.length>0&&(p=oe(e,n,l,a,i)||p,[l,n]=M(e,n,l))}return p=ce(e,n,l,a,i)||p,[l,n]=M(e,n,l),p=me(e,n,l,a,i)||p,l=l.map(h=>{if(h===null||h===void 0||h.length===0)return"";var f="";if(s)h.match(/^%([\w\W]+)%(\{[\w \-\.\u0800-\uffff]+\})*$/)?f=V(h,i,!1):(f=q(h,a),f=V(f,i,!1));else{f=q(h,a);let u="param-"+R();i[u]=f,f="%"+u+"%"}return f}),a.parseLevel--,a.parseLevel>0&&(l=l.join("")),l},M=(t,a,r)=>(r=r.map((i,l)=>[l,i]),r=r.filter(i=>!(!i[1]&&i[1]!=="")),r.forEach((i,l)=>{var s=i[0],e=a[s];!e||(e[0]=l)}),a={},t.forEach(i=>{a[i[0]]=i}),r=r.map(i=>i[1]),[r,a]),q=(t,a)=>{var r="<p",i="</p>",l=[],s=t.replace(/^[ 　\t]*(<\w+.*?>)?[ 　\t]*/,""),e=s.match(/^\{[<\|>]\}/);e&&(e=e[0],e==="{<}"?l.push("align-left"):e==="{|}"?l.push("align-center"):e==="{>}"&&l.push("align-right"),t=t.replace(/^[ 　\t]*(<\w+.*?>)?[ 　\t]*\{[<\|>]\}[ 　\t]*/,(p,h)=>h||"")),s=t.replace(/[ 　\t]*(<\/\w+.*?>)?[ 　\t]*$/,""),e=s.match(/\{[<\|>]\}$/),e&&(e=e[0],e==="{<}"?l.push("align-left"):e==="{|}"?l.push("align-center"):e==="{>}"&&l.push("align-right"),t=t.replace(/[ 　\t]*\{[<\|>]\}[ 　\t]*(<\/\w+.*?>)?[ 　\t]*$/,(p,h)=>h||"")),s=t.replace(/^[ 　\t]*(<\w+.*?>)?[ 　\t]*/,"");var n=s.match(/^:+/);return!!n&&!s.match(/^:([\w\-\.]+?):/)&&(n=n[0],l.push("indent","indent-"+n.length),t=t.replace(/^[ 　\t]*(<\w+.*?>)?[ 　\t]*:+/,(p,h)=>h||"")),l.length>0&&(r=r+' class="'+l.join(" ")+'"'),r=r+">",t.length===0?"":r+t+i},fe=(t,a,r,i,l)=>{var s=[];if(t.forEach(f=>{!f[7]||s.push(f)}),s.length===0)return!1;if(s.length===1)return s[0][7]=0,!1;var e=s.length,n=s[0];n[7]=2;for(let f=1;f<e;f++){let u=s[f];n[7]===2?(u[3]=n[3],u[4]=n[4],u[7]=3):n[7]===3&&(u[7]=2),n=u}s[s.length-1][7]===2&&(s[s.length-1][7]=0),s.forEach(f=>{f[7]===1&&(f[7]=0)});var p=[];s=s.filter(f=>f[7]<2?!1:(f[7]===2&&p.push(f[0]),!0)),e=s.length;for(let f=e-1;f>0;f-=2){let u=s[f-1][0];p.includes(u)||s.splice(f-1,2)}var h=[];e=s.length;for(let f=0;f<e;f+=2)h.push([s[f][0],s[f+1][0]]);return h.forEach(f=>{var u=['<p class="latex block">$$'];for(let c=f[0]+1;c<f[1];c++)u.push(r[c]);u.push("$$</p>"),u=u.join("<br>");var o="latex-"+R();i.finals[o]=u,r[f[0]]="%"+o+"%";for(let c=f[0]+1;c<=f[1];c++)r[c]=null;for(let c=f[0];c<=f[1];c++){let m=a[c];if(!m)continue;let v=t.indexOf(m);v>=0&&t.splice(v,1),delete a[c],m[0]=-1}}),h.length>0},ue=(t,a,r,i,l)=>{var s=[];if(t.forEach(o=>{!o[5]||s.push(o)}),s.length===0)return!1;if(s.length===1)return s[0][5]=0,!1;var e=s.length,n=s[0],p=[],h;n[5]=2,h=n[8];for(let o=1;o<e;o++){let c=s[o];if(!!h&&c[8]!==h){c[5]=0;continue}if(c[5]===2){if(o===e-1&&(c[5]=0),n[5]!==3){n[5]=0;continue}h=c[8]}n[5]===2?(c[3]=n[3],c[4]=n[4],c[5]=3,h=null):n[5]===3&&(c[5]=2),n=c}s[s.length-1][5]===2&&(s[s.length-1][5]=0),s.forEach(o=>{o[5]===1&&(o[5]=0)});var f=[];s=s.filter(o=>o[5]<2?!1:(o[5]===2&&f.push(o[0]),!0)),e=s.length;for(let o=e-1;o>0;o-=2){let c=s[o-1][0];f.includes(c)||s.splice(o-1,2)}var u=[];e=s.length;for(let o=0;o<e;o+=2)u.push([s[o][0],s[o+1][0]]);return u.forEach(o=>{var c=r[o[0]],m=c.match(/(`{3,}|~{3,})[ 　\t]*/)[0],v=c.indexOf(m);m=c.substr(v+m.length,c.length),m=m.replace(/^[ 　\t]+|[ 　\t]+$/g,""),m=m.toLowerCase(),(!m||m===""||m==="text")&&(m="plaintext");var g='<pre lang="'+m+'"><code>',w="</code></pre>",N=!1,k=[],Se=[];if(m==="plaintext")for(let O=o[0]+1;O<o[1];O++){let d=r[O];k.push("<p>"+d+"</p>")}else for(let O=o[0]+1;O<o[1];O++){let d=r[O],C=[],I=-1,W=null,X=[],H=!1;if(N){let _=d.match(/(\\*)`/);if(!_)C.push([0,d.length-1]);else{let E=_[1].length;E>>1<<1!==E?C.push([0,d.length-1]):(N=!1,H=!0,I=0,W="`",d.replace(/(\\*)(['"`])/g,(b,L,y,S)=>{var j=L.length;!!W&&y!==W||j>>1<<1===j&&(S+=j,I===-1?(I=S,W=y,y==="`"&&(H=!0)):(C.push([I,S]),I=-1,W=null,y==="`"&&(H=!1)))}),H&&(C.push([I,d.length-1]),N=!0))}}else d.replace(/(\\*)(['"`])/g,(_,E,b,L)=>{var y=E.length;!!W&&b!==W||y>>1<<1===y&&(L+=y,I===-1?(I=L,W=b,b==="`"&&(H=!0)):(C.push([I,L]),I=-1,W=null,b==="`"&&(H=!1)))}),H&&(C.push([I,d.length-1]),N=!0);for(let _=C.length-1;_>=0;_--){let E=C[_],b=d.substring(0,E[0]),L=d.substring(E[0],E[1]+1),y=d.substring(E[1]+1,d.length),S="[%:"+X.length+":%]";X.push(L),d=b+S+y}d=d.replace(U.operator,(_,E,b,L,y)=>{var S=C.some(x=>y>=x[0]&&y<=x[1]);if(S)return _;var j=(E||"")+'<span CLASS="operatorword">'+b+"</span>"+(L||"");return j}),d=d.replace(U.system,(_,E,b,L,y)=>{var S=C.some(x=>y>=x[0]&&y<=x[1]);if(S||!!E&&E.match(/[\w\d_\.]/)||!!L&&L.match(/[\w\d_\.]/))return _;var j=(E||"")+'<span CLASS="flowword">'+b+"</span>"+(L||"");return j}),d=d.replace(U.function,(_,E,b,L,y)=>{var S=C.some(x=>y>=x[0]&&y<=x[1]);if(S||!!E&&E.match(/[\w\d_\.]/)||!!L&&L.match(/[\w\d_]/))return _;var j=(E||"")+'<span CLASS="keyword">'+b+"</span>"+(L||"");return j}),d=d.replace(U.consts,(_,E,b,L,y,S)=>{var j=C.some(ae=>S>=ae[0]&&S<=ae[1]);if(j||!!E&&E.match(/[\w\d_\.]/)||!!y&&y.match(/[\w\d_\.]/))return _;var x=(E||"")+'<span CLASS="constsword">'+b+"</span>"+(y||"");return x}),d=d.replace(U.object,(_,E,b,L,y)=>{var S=C.some(x=>y>=x[0]&&y<=x[1]);if(S||!!E&&E.match(/[\w\d_\.]/)||!!L&&L.match(/[\w\d_]/))return _;var j=(E||"")+'<span CLASS="objectword">'+b+"</span>"+(L||"");return j}),X.forEach((_,E)=>{var b='\\[%:(<span CLASS="constsword">)?'+E+"(</span>)?:%\\]";b=new RegExp(b),d=d.replace(b,'<span CLASS="constsword">'+_+"</span>")}),d=d.replace(/<span CLASS="/g,'<span class="'),k.push("<p>"+d+"</p>")}k=k.join(""),k=g+k+w;var te="codeblock-"+R();i.finals[te]=k,r[o[0]]="%"+te+"%";for(let O=o[0]+1;O<=o[1];O++)r[O]=null;for(let O=o[0];O<=o[1];O++){let d=a[O];if(!d)continue;let C=t.indexOf(d);C>=0&&t.splice(C,1),delete a[O],d[0]=-1}}),u.length>0},he=(t,a,r,i,l)=>{var s=[];if(t.forEach(f=>{!f[6]||s.push(f)}),s.length!==0){var e=[],n=0,p=s[0][0];e.push([s[0]]);var h=s.length;for(let f=1;f<h;f++){let u=s[f];u[0]===p+1?e[n].push(u):(n++,e[n]=[u]),p=u[0]}return e=e.filter(f=>!(f.length<2)),e.forEach(f=>{ve(f,t,a,r,i,l)}),!0}},pe=(t,a,r,i,l)=>{var s=0,e=r.length;if(t.forEach((c,m)=>{if(c[3]+c[4]!==0){var v=c[0];v<e&&(e=v),v>s&&(s=v)}}),e>s)return!1;for(let c=s+1;c<r.length-1;c++){let m=a[c],v=a[c+1];if(!!m&&m[1]>0&&!!v&&v[1]>0)break;s=c}if(s===r.length-2){let c=r.length-1,m=a[c];(!m||m[1]===0)&&(s=c)}var n=0,p=[[[e,a[e]]]],h=!1,f=!0;a[e][3]>0&&(h=!0);for(let c=e+1;c<=s;c++){var u=a[c];if(!u){f&&p[n].push([c,null]);continue}if(u[1]){if(!f)continue;let m=a[c+1];if(!m||m[1]>0){f=!1;continue}p[n].push([c,u]);continue}if(u[3]+u[4]===0){f&&p[n].push([c,u]);continue}if(f){p[n].push([c,u]);continue}n++,p[n]=[],a[c][3]>0?h=!0:h=!1,f=!0,p[n].push([c,u])}var o=!1;return p.forEach(c=>{c.forEach(w=>{var N=w[0];w[1]||(r[N]="    "+r[N])});var m=0,v=c[0][0],g=r[v],m=-1;g.match(/^[ 　\t>]/)?m=0:g.match(/^[\-\+]|[\*~][ 　\t]/)?m=1:g.match(/^\d+\.[ 　\t]/)&&(m=2),!(m<0)&&(change=!0,m===0?de(c,t,a,r,i,l):m===1?J(!1,c,t,a,r,i,l):m===2&&J(!0,c,t,a,r,i,l))}),o},oe=(t,a,r,i,l)=>{var s=[],e=[];t.forEach(n=>{if(n[2]!==0){var p=n[0],h=a[p-1];if(h)h[1]>0&&s.push([p,r[p].replace(/^[ 　\t]+|[ 　\t]+$/,"")[0]]);else{let f=r[p-1];if(p===0||!!f.match(/^%[\w\-]+%$/))s.push([p,r[p].replace(/^[ 　\t]+|[ 　\t]+$/,"")[0]]);else{let u=r[p].substr(0,1);u==="="?e.push([p-1,1]):u==="-"?e.push([p-1,2]):u==="~"?e.push([p-1,3]):u==="+"?e.push([p-1,3]):u==="_"?e.push([p-1,3]):u==="*"?e.push([p-1,4]):u==="#"?e.push([p-1,5]):u==="."&&e.push([p-1,6]),r[p]=null}}}});for(let n=0;n<r.length;n++){let p=r[n];if(!p)continue;let h=p.match(/^(#+)[ 　\t]*/);if(h){let f=h[0],u=h[1];f!==p&&p.indexOf(f+"[")!==0&&(e.push([n,u.length]),r[n]=p.replace(/^#+[ 　\t]*|[ 　\t]*#+$/g,""))}}return s.length+e.length===0?!1:(e.sort((n,p)=>n[0]-p[0]),s.forEach(n=>{var[p,h]=n,f="headline-"+R(),u="<hr";h==="="?u=u+' class="heavy">':h==="-"?u=u+' class="light">':h==="*"?u=u+' class="star">':h==="~"?u=u+' class="wavy">':h==="."?u=u+' class="dotted">':h==="_"?u=u+' class="dashed">':h==="+"?u=u+' class="strong">':h==="#"?u=u+' class="heavystrong">':u=u+">",l[f]=u,r[p]="%"+f+"%"}),e.forEach(n=>{var[p,h]=n,f="header-"+R(),u="h"+(h||1),o=r[p];o=T(o,i),o=o.replace(/^[ 　\t\n]+|[ 　\t\n]+$/,""),o="<"+u+">"+o+"</"+u+">",l[f]=o,r[p]="%"+f+"%"}),!0)},ce=(t,a,r,i,l)=>{for(var s=[],e=!0;e;)e=!1,r.forEach(n=>{if(n.length===0)return s.push(n);n=n.replace(/(\])[ 　\t]*(\[([\w \-\.]+)\])/g,(u,o,c,m)=>{var v=i.refs[m],g;if(!v||v.indexOf("://")<0&&v.indexOf("@")<0&&!v.match(/^\.{0,2}[\\\/]/)||v.indexOf(`
`)>=0){if(g=i.metas[m.toLowerCase()],!g||g.indexOf("://")<0&&g.indexOf("@")<0&&!g.match(/^\.{0,2}[\\\/]/)||g.indexOf(`
`)>=0)return u;v=g}return o+"("+v+")"});for(var p=[],h=[],f=!0;f;)f=!1,n=n.replace(/[!@#]\[[^\(\)\[\]\{\}]*?(\[.*?\][ 　\t]*\(.*?\))*?[^\(\)\[\]\{\}]*?\](\([^\(\)\[\]\{\}]*?\))/g,(u,o,c)=>(f=!0,c.match(/[ 　\t]+"(left|right)"\)$/)?h.push(u):p.push(u),""));n=n.replace(/^[ 　\t]+|[ 　\t]+$/g,""),h.forEach(u=>s.push(u)),n.length>0&&(p.length>0&&(e=!0),s.push(n)),p.forEach(u=>s.push(u))}),r.splice(0,r.length),s.forEach(n=>r.push(n)),s=[];return!0},me=(t,a,r,i,l)=>{var s=[],e=[],n=[],p=-1;r.forEach((h,f)=>{if(!h||h.length===0){p=-1;return}var u=h.match(/^%([\w\W]+)%(\{[\w \-\.\u0800-\uffff]+\})*$/);if(u){p=-1;return}if(u=h.match(/^[@#]\[[^\(\)\[\]\{\}]*?(\[.*?\][ 　\t]*\(.*?\))*?[^\(\)\[\]\{\}]*?\]\([^\(\)\[\]\{\}]*?\)$/),u){n.push([f,h]),p=-1;return}u=h.match(/^!\[[^\(\)\[\]\{\}]*?(\[.*?\][ 　\t]*\(.*?\))*?[^\(\)\[\]\{\}]*?\]\([^\(\)\[\]\{\}]*?\)$/);var o=u?1:0;o===p?o===0?s[s.length-1].push([f,h]):o===1&&e[e.length-1].push([f,h]):(o===0?s[s.length]=[[f,h]]:o===1&&(e[e.length]=[[f,h]]),p=o)}),e=e.filter(h=>{var f=h.length>1;return h.length===1&&n.push(h[0]),f}),s.forEach(h=>{var f=[],u=h[0][0];h.forEach(o=>{var c=o[0],m=o[1];m.length!==0&&(f.push(T(m,i)),r[c]=null)}),f=f.join("<br>"),r[u]=f}),e.forEach(h=>{var f=[],u=h[0][0];h.forEach(c=>{f.push(T(c[1],i)),r[c[0]]=null}),f=f.join(""),f='<div class="image-wall">'+f+"</div>";var o="imagewall-"+R();l[o]=f,r[u]="%"+o+"%"}),n.forEach(h=>{var[f,u]=h;u=T(u,i);var o="resource-"+R();l[o]=u,r[f]="%"+o+"%"})},ve=(t,a,r,i,l,s)=>{var e=!0,n=null,p=-1;t.some((m,v)=>{var g=i[m[0]];g=g.replace(/^[ 　\t]+|[ 　\t]+$/g,"");var w=g.match(/[\|:\-]+/);if(!!w&&(w=w[0],g===w))return n=w,p=m[0],v===0&&(e=!1),!0}),n?(n=n.replace(/^\||\|$/g,""),n=n.split("|"),n=n.map(m=>m.match(/^:\-:$/)?1:m.match(/^:\-$/)?0:m.match(/^\-:$/)?2:3)):(e=!1,n=[]);var h=[],f=0;t.forEach(m=>{var v=m[0];if(v!==p){var g=ge(i[v]);h.push(g),g.length>f&&(f=g.length)}});for(let m=n.length;m<f;m++)n.push("");for(let m=0;m<h.length-1;m++){let v=h[m],g=v?v.length:f;for(let w=v.length;w<f;w++)v.push("")}var u;e&&(u=h[0],h.shift());for(let m=0;m<f;m++){if(n[m]!==3)continue;let v=!0;h.some(g=>{var w=g[m];if(!!w&&w*1!==w)return v=!1,!0}),v?n[m]=2:n[m]=0}var o="<table>";e&&(o+="<thead><tr>",u.forEach((m,v)=>{m=T(m,l);var g='<th align="',w=n[v];w===1?g+="center":w===2?g+="right":g+="left",g+='">'+m+"</td>",o+=g}),o+="</tr></thead>"),o+="<tbody>",h.forEach(m=>{o+="<tr>",m.forEach((v,g)=>{v=T(v,l);var w='<td align="',N=n[g];N===1?w+="center":N===2?w+="right":w+="left",w+='">'+v+"</td>",o+=w}),o+="</tr>"}),o+="</tbody></table>";var c="table-"+R();s[c]=o,u=t[0][0],total=t.length;for(let m=0;m<total;m++){let v=t[m],g=v[0];i[g]=null,delete r[g];let w=a.indexOf(v);w>=0&&a.splice(w,1),v[0]=-1}i[u]="%"+c+"%"},ge=t=>{t.substr(0,1)!=="|"&&(t="|"+t),t.substr(t.length-1,1)!=="|"&&(t=t+"|");var a=t.length,r=0,i=[],l=0;for(let s=1;s<a;s++){let e=t.substr(s,1);if(e==="|"&&r===0){i.push(t.substr(l+1,s-l-1)),l=s;continue}"([{<".indexOf(e)>=0?r++:">}])".indexOf(e)>=0&&r--}return i},de=(t,a,r,i,l,s)=>{var e="quote",n=i[t[0][0]];if(n=n.match(/^>[ 　\t]*\[([\w\W]+?)\]/),n){let u=n[1];u=u.replace(/^[ 　\t]+|[ 　\t]+$/g,""),u.length>0&&!l.metas[u]&&!l.blocks[u]&&(e=u)}var p=!0;n=t.map((u,o)=>{var c=u[0],m=i[c];o>0&&(p=p&&!!m.match(/^(\t|　　|    | 　 |  　|　  )/));var v=m.replace(/^(\t|　　|    | 　 |  　|　  )/,"");return v!==m&&p?m=v:(head=m.match(/^>[ 　\t]*/),head&&(head=head[0],m=m.replace(head,""))),m}),n[0]=n[0].replace(new RegExp("^[ \u3000\\t]*\\["+e.replace(/\\/g,"\\\\")+"\\][ \u3000\\t]*"),""),n=n.join(`
`),n=n.replace(/^\n+|\n+$/g,"");var h='<blockquote class="'+e+'">';n=K(n,l,2,s),h+=n,h+="</blockquote>";var f="blockquote-"+R();s[f]=h,t.forEach(u=>{var o=u[0];i[o]=null,delete r[o];var c=a.indexOf(u[1]);c>=0&&a.splice(c,1)}),i[t[0][0]]="%"+f+"%"},J=(t,a,r,i,l,s,e)=>{var n=[],p=-1;a.forEach(u=>{var o=u[0],c=l[o];if(head=c.match(/^([\-\+\*>~]|\d+\.)[ 　\t]+/),head){c=c.replace(head[0],""),p++,n[p]=[c];return}c=c.replace(/^(\t|　　|    | 　 |  　|　  )/,""),n[p].push(c)}),n=n.map(u=>(u=u.join(`
`),u=u.replace(/^\n+|\n+$/g,""),u));var h="";t?h="<ol>":h="<ul>",n.forEach(u=>{h+="<li>",h+=K(u,s,2,e),h+="</li>"}),t?h+="</ol>":h+="</ul>";var f="list-"+R();e[f]=h,a.forEach(u=>{var o=u[0];l[o]=null,delete i[o];var c=r.indexOf(u[1]);c>=0&&r.splice(c,1)}),l[a[0][0]]="%"+f+"%"},we=(t,a)=>{var r=[[]],i=0,l=[0],s=[];if(t.forEach(e=>{var n=!1;e=e.replace(/^<h(\d+)>/i,(p,h)=>{n=!0,h=h*1,h===1&&(i++,r[i]=[]),l[h-1]=(l[h-1]||0)+1;for(let u=h;u<l.length;u++)l[u]=0;var f="chap";for(let u=0;u<h;u++)f+="-"+(l[u]||1);return p=p+'<a name="'+f+'">',s.push([h,f,e.replace(/<[\w\W]+?>/gi,"")]),p}).replace(/<\/h(\d+)>$/i,p=>"</a>"+p).replace(/\{([\w \-\.]+)\}/g,(p,h)=>{var f=a.termList[h];return f?(Array.isArray(f)&&(f=f[0]),'<a class="terminology" name="'+h+'" href="#ref-'+h+'"><strong>'+f+"</strong></a>"):p}),r[i].push(e)}),r=r.filter(e=>e.length>0),a.chapList=s,r=ye(r,a),!!a.endnotes&&a.endnotes.length>0&&r.push(Le(a)),a.metas.glossary&&!!a.termList&&a.termList.length>0){let e='<hr class="endnote-line">';e+='<section class="endnote-chapter"><h1 class="endnote-title"><a name="Glossary">\u672F\u8BED\u8868</a></h1>',e+=re(a),e+="</section>",r.push(e)}if(a.image=a.image||[],a.video=a.video||[],a.audio=a.audio||[],a.metas.resources&&a.image.length+a.video.length+a.audio.length>0){let e='<hr class="endnote-line">';e+='<section class="endnote-chapter"><h1 class="endnote-title"><a name="ResourceList">\u8D44\u6E90\u8868</a></h1>',a.image.length>0&&(e+='<h2><a name="ImageResourceList">\u56FE\u7247</a></h2>',e+=P(a,"image")),a.video.length>0&&(e+='<h2><a name="VideoResourceList">\u89C6\u9891</a></h2>',e+=P(a,"video")),a.audio.length>0&&(e+='<h2><a name="AudioResourceList">\u97F3\u9891</a></h2>',e+=P(a,"audio")),e+="</section>",r.push(e)}if(a.metas.showtitle){let e='<header class="article-title">';if(e+="<p>"+a.metas.title+"</p>",a.metas.showauthor&&(a.metas.author&&(e+='<p class="author">',a.metas.email&&(e+='<a href="mailto:'+a.metas.email+'">'),e+=a.metas.author,a.metas.email&&(e+="</a>"),e+="</p>"),a.metas.date)){e+='<p class="author date">';let n=a.metas.date*1;if(isNaN(n))n=a.metas.date;else{n=new Date(n);let p=n.getYear()+1900,h=n.getMonth()+1;h<10&&(h="0"+h);let f=n.getDate();f<10&&(f="0"+f);let u=n.getHours();u<10&&(u="0"+u);let o=n.getMinutes();o<10&&(o="0"+o);let c=n.getSeconds();c<10&&(c="0"+c),n=p+"/"+h+"/"+f+" "+u+":"+o+":"+c}e+=n,e+="</p>"}e+="</header>",r.unshift(e)}return r},Ee=(t,a)=>{for(var r=!0,i=0;r&&(r=!1,t=t.map(l=>(l=l.replace(/\[([\w \-\.]+?)\]/g,(s,e,n)=>{var p=l.lastIndexOf("<sup>",n),h=l.lastIndexOf("</sup>",n);if(p>h)return s;var f=a.blocks[e];return f?(r=!0,f):s}),l)),i++,i!==10););return t},_e=(t,a)=>{var r=(a.metas.LANG||"zh").toLowerCase();if(t=t.map(i=>(i=i.replace(/%glossary%/gi,l=>re(a)),i=i.replace(/%resources%/gi,l=>P(a,"image")+P(a,"video")+P(a,"audio")),i=i.replace(/%images%/gi,l=>P(a,"image")),i=i.replace(/%videos%/gi,l=>P(a,"video")),i=i.replace(/%audios%/gi,l=>P(a,"audio")),i=i.replace(/%toc%(\{[\w\W]+?\})*/gi,l=>{var s=l.match(/\{[\w\W]+?\}/g),e="\u76EE\u5F55",n=3;return s&&s.forEach(p=>{p=p.substr(1,p.length-2);var h=p*1;isNaN(h)?e=p:n=h}),a.toced=!0,ee(a,e,n)}),Object.keys(a.metas).forEach(l=>{var s=l.toLowerCase();se.includes(l)||(s=a.metas[l],s===!0||s===!1?r==="zh"?s=s?"\u662F":"\u5426":s=s?"On":"Off":Array.isArray(s)&&(r==="zh"?s=s.join("\u3001"):s=s.join(", ")),i=i.replace(new RegExp("%"+l+"%","gi"),e=>s))}),i=i.replace(/%([\w \-\.]+)%/g,(l,s)=>{var e=a.finals[s];return e||l}),i)),a.metas.toc&&!a.toced){let i=ee(a,"\u76EE\u5F55",3);i.indexOf('<p class="content-')>=0&&(i="<section>"+i+"</section>",a.metas.showtitle?t.splice(1,0,i):t.unshift(i))}return t},ye=(t,a)=>(t=t.map(r=>{var i=[],l="<section>",s="</section>";return r.forEach((e,n)=>{var p=!1;e=e.replace(/<a class="notemark" type="footnote" name="([\w \-\.]+?)">/g,(h,f)=>{p=!0,i.push(f);var u=h.substr(0,h.length-1)+' href="#footnote-'+f+'">';return u}),p&&(r[n]=e)}),r=r.join(""),i.length===0||(i=i.map((e,n)=>{var p=a.refs[e],h=a.footnotes.indexOf(e);return n++,r=r.replace(new RegExp("%%FN-"+h+"%%","g"),n),'<p class="footnote-content"><a class="index" name="footnote-'+e+'">'+n+"\uFF1A</a>"+p+"</p>"}),r+='<hr class="footnote-line"><footer><p class="footnote-title">\u811A\u6CE8\uFF1A</p>',r+=i.join(""),r+='</footer><hr class="footnote-line end">'),l+r+s}),t),Le=t=>{let a='<hr class="endnote-line">';return a+='<section class="endnote-chapter"><h1 class="endnote-title"><a name="EndNote">\u5C3E\u6CE8</a></h1>',t.endnotes.forEach((r,i)=>{a+='<p class="endnote-content"><a class="index" name="endnote-'+r+'">'+(i+1)+"\uFF1A</a>"+t.refs[r]+"</p>"}),a+="</section>",a},ee=(t,a,r)=>{var i='<h1 name="ContentTable">'+a+'</h1><aside class="content-table">';return t.chapList.forEach(l=>{if(!(l[0]>r)){var s='<p class="content-item level-'+l[0]+'">';for(let e=0;e<l[0];e++)s+='<span class="content-indent"></span>';s+='<a class="content-link" href="#'+l[1]+'">'+l[2]+"</a>",s+="</p>",i+=s}}),!!t.endnotes&&t.endnotes.length>0&&(i+='<p class="content-item level-1"><span class="content-indent"></span><a class="content-link" href="#EndNote">\u5C3E\u6CE8</a></p>'),t.metas.glossary&&!!t.termList&&t.termList.length>0&&(i+='<p class="content-item level-1"><span class="content-indent"></span><a class="content-link" href="#Glossary">\u672F\u8BED\u8868</a></p>'),t.metas.resources&&t.image.length+t.video.length+t.audio.length>0&&(i+='<p class="content-item level-1"><span class="content-indent"></span><a class="content-link" href="#ResourceList">\u8D44\u6E90\u8868</a></p>',t.image.length>0&&(i+='<p class="content-item level-2"><span class="content-indent"></span><span class="content-indent"></span><a class="content-link" href="#ImageResourceList">\u56FE\u7247</a></p>'),t.video.length>0&&(i+='<p class="content-item level-2"><span class="content-indent"></span><span class="content-indent"></span><a class="content-link" href="#VideoResourceList">\u89C6\u9891</a></p>'),t.audio.length>0&&(i+='<p class="content-item level-2"><span class="content-indent"></span><span class="content-indent"></span><a class="content-link" href="#AudioResourceList">\u97F3\u9891</a></p>')),i+="</aside>",i},re=t=>{var a="";return t.termList===0?"":(t.termList.forEach(r=>{var[i,l]=r,s=t.terms[i],e='<p class="glossary-item">';e+='<a class="glossary-indent" name="ref-'+i+'">'+l+"</a>",e+=s,e+="</p>",a+=e}),a)},P=(t,a)=>{var r=t[a];if(!r||!Array.isArray(r)||r.length===0)return"";var i=[],l="<ul>";return r.forEach(s=>{var e=s[1];e=e.replace(/\%([\w \-]+?)\%/g,(n,p)=>{var h=G[p.toLowerCase()];return h||n}),!i.includes(e)&&(i.push(e),l+='<li><a href="'+e+'" target="_blank">'+e+"</a></li>")}),l+="</ul>",l},be=t=>(t=t.replace(/(\\+)(.)/g,(a,r,i)=>{var l=Math.floor(r.length/2),s=l*2!==r.length,e="",n="%"+F["\\"]+"%";for(let p=0;p<l;p++)e+=n;if(s){let p=F[i];p?e=e+"%"+p+"%":e=e+i}else e=e+i;return e}),t),V=(t,a,r=!0)=>{for(var i=!0;i;)i=!1,t=t.replace(/\%([\w \-]+?)\%/g,(l,s)=>{var e=a[s];return e?(i=!0,e):l});if(!r)return t;for(i=!0;i;)i=!1,t=t.replace(/\%([\w \-]+?)\%/g,(l,s)=>{var e=a[Z][s.toLowerCase()];return e?(i=!0,e):l});return t=t.replace(/\n+/g,"<br>"),t=t.replace(/\/{2}/g,(l,s)=>{if(s===0)return"<br>";var e=t.substr(s-1,1);return e===":"?l:"<br>"}),t=t.replace(/^(<\/?br>)+|(<\/?br>)+$/gi,"<br>"),t},$e=t=>{if(!t)return[];t=t.split(/[ ,，；;、　]+/).filter(r=>r.length>0);var a=[];return t.forEach(r=>{a.includes(r)||a.push(r)}),a},Oe=(t,a)=>{for(var r={},i=!0;i;)i=!1,a=a.replace(/\n([A-Z\u0800-\uffff]+?) *[:：] *([\w\W]*?)\n/,(l,s,e)=>e.length===0||(s==="\u6807\u9898"?s="title":s==="\u4F5C\u8005"?s="author":s==="\u7B80\u4ECB"?s="description":s==="\u5173\u952E\u8BCD"?s="keyword":s==="\u66F4\u65B0"?s="date":s=s.toLowerCase(),!Q.includes(s))?l:(i=!0,r[s]=e,`
`));if(!!r.showtitle&&["on","yes","true"].includes(r.showtitle.toLowerCase())?r.showtitle=!0:r.showtitle=void 0,!!r.glossary&&["on","yes","true"].includes(r.glossary.toLowerCase())?r.glossary=!0:r.glossary=void 0,!!r.links&&["on","yes","true"].includes(r.links.toLowerCase())?r.links=!0:r.links=void 0,!!r.refs&&["on","yes","true"].includes(r.refs.toLowerCase())?r.refs=!0:r.refs=void 0,!!r.terms&&["on","yes","true"].includes(r.terms.toLowerCase())?r.terms=!0:r.terms=void 0,!!r.resources&&["on","yes","true"].includes(r.resources.toLowerCase())?r.resources=!0:r.resources=void 0,!!r.toc&&["on","yes","true"].includes(r.toc.toLowerCase())?r.toc=!0:r.toc=void 0,t.metas=r,t.metas.keyword=$e(t.metas.keyword),t.metas.date)try{t.metas.date=new Date(t.metas.date).getTime()}catch{delete t.metas.date}for(t.metas.god=t.metas.theone='<a href="mailto:lostabaddon@gmail.com">LostAbaddon</a>',t.metas.script?t.metas.script=t.metas.script.split(/[,; 　\t]+/):t.metas.script=[],t.metas.style?t.metas.style=t.metas.style.split(/[,; 　\t]+/).map(l=>l.replace(/\{[\w\W]*\}/,"")):t.metas.style=[],t.termList=t.termList||[],t.mainParser=!1,t.refs={},i=!0;i;)i=!1,a=a.replace(/\n\[([\w \-\.\+\=\\\/]+?)\] *[:：] *([\w\W]+?)\n([\n\[])/,(l,s,e,n,p)=>(s=s.trim(),e=e.trim(),s.length===0||e.length===0?l:(t.refs[s]=e,i=!0,`
`+n)));for(t.blocks={},i=!0;i;)i=!1,a=a.replace(/\[:([\w \-\.\+\=\\\/]+?):\]([\w\W]*?)\n*\[:\1:\]/g,(l,s,e)=>{if(s=s.trim(),!(s.length===0||e.length===0))return t.blocks[s]=e,i=!0,""});return t.anchors=[],t.terms={},t.notes={},a.replace(/\] *(\[[\^:]([\w ]+?)\]|\{([\w ]+?)\})/g,(l,s,e,n)=>{var p=e||n;t.refs[p]?s.substr(0,1)==="{"?t.terms[p]=p:t.notes[p]=p:s.substr(0,1)==="{"&&!t.anchors.includes(p)&&t.anchors.push(p)}),a=le(a),a};A.fullParse=(t,a)=>{var r={finals:{},toced:!1};t=ne(t),t=Oe(r,t),r.parseLevel=0,r.mainParser=!0,r.metas.title=r.metas.title||"\u65E0\u540D\u6587";var i=Object.keys(r.metas);Object.keys(a).forEach(e=>{i.includes(e)||i.push(e)}),a.overwrite?i.forEach(e=>{r.metas[e]=a[e]===null||a[e]===void 0?r.metas[e]:a[e]}):i.forEach(e=>{r.metas[e]=r.metas[e]===null||r.metas[e]===void 0?a[e]:r.metas[e]}),i.forEach(e=>{(r.metas[e]===null||r.metas[e]===void 0)&&(r.metas[e]=!1)}),t=K(t,r),Object.keys(r.refs).forEach(e=>{var n=r.refs[e];n=T(n,r),n=n.replace(/\%([\w \-]+?)\%/g,(p,h)=>{var f=G[h.toLowerCase()];return f||p}),r.refs[e]=n}),Object.keys(r.blocks).forEach(e=>{var n=r.blocks[e],p=n.match(/^\n+/);n=n.trim();var h;r.parseLevel=0,p?h=K(n,r,1):h=[T(n,r)],r.blocks[e]=h.join("")});for(let e in r.terms)r.terms[e]=r.refs[e];for(let e in r.notes)r.notes[e]=r.refs[e];t=t.map(e=>e.replace(/\%([\w \-]+?)\%/g,(n,p)=>{var h=G[p.toLowerCase()];return h||n})),t=Ee(t,r),t=we(t,r),t=_e(t,r),r.metas.classname?t='<article class="'+r.metas.classname+'">'+t.join("")+"</article>":t="<article>"+t.join("")+"</article>",r.metas.fullexport&&(r.metas.style.forEach(e=>{t+='<link type="text/css" rel="stylesheet" href="'+e+'">'}),r.metas.script.forEach(e=>{t+='<script type="text/javascript" src="'+e+'"></script>'}));var l=B._indexes_||[];l.forEach(e=>{var n=B[e];!n||n.forEach(p=>{t=p.parse(t,r)})}),t=t.replace(/<p>(<br\/?>)+<\/p>/gi,"");var s={};return s.content=t,s.title=r.metas.title,s.lineCount=r.metas.totalLineCount,s.chapList=r.chapList,s.meta={},s.meta.author=r.metas.author,s.meta.email=r.metas.email,s.meta.description=r.metas.description,s.meta.update=r.metas.date,s.meta.keywords=r.metas.keyword.map(e=>e),r.metas.others&&(s.meta.others=r.metas.others),s.terminology={},r.termList.forEach(e=>{s.terminology[e[0]]=e[1]}),s.notes={},Object.keys(r.refs).forEach(e=>{s.notes[e]=r.refs[e]}),s.blocks={},Object.keys(r.refs).forEach(e=>{s.blocks[e]=r.blocks[e]}),s},A.parse=(t,a)=>{var r;return r=A.fullParse(t+`
`,a),r?r.content:""};const z=(t,a)=>{a.__level++;var r=[],i="",l=!0;return t.childNodes.forEach(s=>{var e=s.tagName;if(!e){if(s.nodeName==="#comment")return;let p=s.textContent||"";p=p.trim(),p.length>0&&(i+=p);return}e=e.trim().toLowerCase();var n;if(ie.includes(e)){if(l=!1,i.length>0&&(r.push(a.__prefix+i),i=""),e==="blockquote"){let p=a.__prefix;a.__prefix=a.__prefix+">	",n=z(s,a),n=n.flat(Infinity),n.push(`
`),a.__prefix=p}else if(e==="ol"){let p=a.__prefix;a.__prefix.indexOf("-	")>=0||a.__prefix.indexOf("1.	")>=0?a.__prefix="	"+a.__prefix:a.__prefix=a.__prefix+"1.	",n=z(s,a),n=n.flat(Infinity),n.push(""),a.__prefix=p}else if(e==="ul"){let p=a.__prefix;a.__prefix.indexOf("-	")>=0||a.__prefix.indexOf("1.	")>=0?a.__prefix="	"+a.__prefix:a.__prefix=a.__prefix+"-	",n=z(s,a),n=n.flat(Infinity),n.push(""),a.__prefix=p}else n=z(s,a),n=n.flat(Infinity),n.push("");!!n&&n.length>0&&r.push(...n)}else{let[p,h]=Ce(s,e,a);h?p.length>0&&(i+=p.join("")):(i.length>0&&(r.push(a.__prefix+i),i=""),p.forEach(f=>{r.push(a.__prefix+f)}))}}),i.length>0&&r.push(a.__prefix+i),a.__level--,r},$=(t,a)=>{var r="";return t.childNodes.forEach(i=>{var l=i.tagName;if(!l){if(i.nodeName==="#comment")return;let s=i.textContent||"";s=s.trim(),s.length>0&&(r+=s);return}if(l=l.trim().toLowerCase(),l==="a"){let s=i.href;s.indexOf("javascript:")===0&&(s="");let e=$(i,a);!s||s.substr(0,1)==="#"||(s.match(/^(ftp|https?):\/\//i)||(s=a.host+s),e="["+e+"]("+s+")"),r+=e;return}if(l==="span"||l==="font"){r+=$(i,a);return}if(l==="strong"||l==="b"){r+=$(i,a);return}if(l==="em"||l==="i"){r+=$(i,a);return}if(l==="sup"){r+=$(i,a);return}if(l==="sub"){r+=$(i,a);return}if(l==="del"){r+=$(i,a);return}r+=i.innerText}),r},Ce=(t,a,r)=>{if(a==="script")return[[""],!0];if(a==="style")return[[""],!0];if(a==="link")return[[""],!0];if(a==="hr")return[[`
---
`],!1];if(a==="br")return[[`
`],!0];if(a.match(/^h\d+$/)){let l=a.substring(1,a.length);l*=1;let s=`
`;for(let n=0;n<l;n++)s+="#";let e=$(t,r);return e=s+e+`
`,[[e],!1]}if(a==="a"){let l=t.href;l.indexOf("javascript:")===0&&(l="");let s=$(t,r);return!l||l.substr(0,1)==="#"?[[s],!0]:(l.match(/^(ftp|https?):\/\//i)||(l=r.host+l),s="["+s+"]("+l+")",[[s],!0])}if(a==="img")return t.src.length===0?[[""],!0]:[[`
![](`+t.src+`)
`],!1];if(a==="video")return t.src.length===0?[[""],!0]:[[`
@[](`+t.src+`)
`],!0];if(a==="audio")return t.src.length===0?[[""],!0]:[[`
#[](`+t.src+`)
`],!0];if(a==="span"||a==="font")return[[$(t,r)],!0];if(a==="strong"||a==="b"){let l=$(t,r);return[["**"+l+"**"],!0]}if(a==="em"||a==="i"){let l=$(t,r);return[["*"+l+"*"],!0]}if(a==="u"){let l=$(t,r);return[["__"+l+"__"],!0]}if(a==="sup"){let l=$(t,r);return[["^"+l+"^"],!0]}if(a==="sub"){let l=$(t,r);return[["_"+l+"_"],!0]}if(a==="del"){let l=$(t,r);return[["~~"+l+"~~"],!0]}var i=$(t,r);return[[i],!1]};A.reverse=(t,a,r=!0)=>{if(!t)return"";a=a||{},a.__level=0,a.__prefix="",a.host=a.host||"";var i=z(t,a);return i=i.flat(Infinity),i=i.join(`
`),i=i.replace(/\n{2,}/g,`

`),i},A.parseLine=T,A.parseSection=K,A.generateRandomKey=R,A.SymHidden=Z,A.PreserveWords=F;try{window.MarkUp=A}catch{try{global.MarkUp=A}catch(t){console.error(t)}}})();
